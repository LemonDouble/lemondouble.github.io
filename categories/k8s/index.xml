<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>K8S on Lemon Blog</title><link>https://lemondouble.github.io/categories/k8s/</link><description>Recent content in K8S on Lemon Blog</description><generator>Hugo -- gohugo.io</generator><language>ko</language><lastBuildDate>Sun, 07 Jan 2024 16:05:04 +0900</lastBuildDate><atom:link href="https://lemondouble.github.io/categories/k8s/index.xml" rel="self" type="application/rss+xml"/><item><title>ÏßëÏóêÏÑú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞ Ï∞®Î¶¨Í∏∞ - 10-2. Forward AuthÏôÄ OAuth2Î•º Ïù¥Ïö©Ìïú SSO Íµ¨ÌòÑ</title><link>https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-10-2.-forward-auth%EC%99%80-oauth2%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-sso-%EA%B5%AC%ED%98%84/</link><pubDate>Sun, 07 Jan 2024 16:05:04 +0900</pubDate><guid>https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-10-2.-forward-auth%EC%99%80-oauth2%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-sso-%EA%B5%AC%ED%98%84/</guid><description>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-10-2.-forward-auth%EC%99%80-oauth2%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-sso-%EA%B5%AC%ED%98%84/cover.png" alt="Featured image of post ÏßëÏóêÏÑú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞ Ï∞®Î¶¨Í∏∞ - 10-2. Forward AuthÏôÄ OAuth2Î•º Ïù¥Ïö©Ìïú SSO Íµ¨ÌòÑ" />&lt;h3 id="1-forward-auth">1. Forward Auth?
&lt;/h3>&lt;p>Ïù∏Ï¶ù Î°úÏßÅÏù¥ ÌïÑÏöîÌï† ÎñÑ, Ïö∞Î¶¨Îäî Ïù∏Ï¶ù Î°úÏßÅÏùÑ Ïñ¥ÎîîÏÑú Íµ¨ÌòÑÌï† Ïàò ÏûàÏùÑÍπåÏöî?&lt;/p>
&lt;p>Î∞îÎ°ú ÎìúÎäî ÏÉùÍ∞ÅÏùÄ, Ïñ¥ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏóêÏÑú ÏßÅÏ†ë Íµ¨ÌòÑÌïòÎäî Î∞©Î≤ïÏùº Í≤ÉÏûÖÎãàÎã§.&lt;/p>
&lt;p>ÌïòÏßÄÎßå Ïñ¥ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏù¥ ÎßéÏïÑÏßÄÎ©¥ Ïñ¥Îñ®ÍπåÏöî? ÌòπÏùÄ, ÏùºÎ∂Ä Ïñ¥ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏùÄ ÎÇ¥Í∞Ä ÎßåÎì† Í≤ÉÏù¥ ÏïÑÎãàÎùº Îã§Î•∏ ÏÇ¨ÎûåÏù¥ ÎßåÎì† Ïñ¥ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏù¥Îùº, ÎÇ¥Í∞Ä ÎßòÎåÄÎ°ú Ïù∏Ï¶ù Î°úÏßÅÏùÑ Íµ¨ÌòÑÌï† Ïàò ÏóÜÎã§Î©¥ Ïñ¥Îñ®ÍπåÏöî?&lt;/p>
&lt;p>Ïö∞Î¶¨Îäî Ïø†Î≤ÑÎÑ§Ìã∞Ïä§Î•º ÏÇ¨Ïö©ÌïòÍ≥† ÏûàÍ≥†, Î™®Îì† ÏöîÏ≤≠ÏùÄ TraefikÏùÑ ÌïúÎ≤à Í±∞Ï≥êÍ∞ëÎãàÎã§.&lt;/p>
&lt;p>Îî∞ÎùºÏÑú, TraefikÏù¥ &lt;code>&amp;quot;ÏöîÏ≤≠ÏùÑ Ï†ÑÎã¨ÌïòÍ∏∞ Ï†Ñ&amp;quot;&lt;/code> Ïóê Ïù∏Ï¶ù Î°úÏßÅÏùÑ Ï≤òÎ¶¨ÌïòÎ©¥ Ïñ¥Îñ®ÍπåÏöî?&lt;/p>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-10-2.-forward-auth%EC%99%80-oauth2%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-sso-%EA%B5%AC%ED%98%84/image.png"
width="2420"
height="639"
loading="lazy"
alt="Traefik forward Auth Í∑∏Î¶º"
class="gallery-image"
data-flex-grow="378"
data-flex-basis="908px"
>&lt;/p>
&lt;p>&lt;strong>Í∞ÑÎã®Ìï©ÎãàÎã§!&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>Î™®Îì† ÏöîÏ≤≠ÏùÄ TraefikÏùÑ ÏßÄÎÇòÍ∞ëÎãàÎã§.&lt;/li>
&lt;li>ÎßåÏïΩ Forward AuthÍ∞Ä ÏÑ§Ï†ïÎêòÏñ¥ ÏûàÎã§Î©¥, Ïô∏Î∂Ä Ïù∏Ï¶ù ÏÑúÎπÑÏä§Ïóê ÏöîÏ≤≠ÏùÑ Î≥¥ÎÉÖÎãàÎã§.&lt;/li>
&lt;li>Ïô∏Î∂Ä Ïù∏Ï¶ù ÏÑúÎπÑÏä§Îäî Îã§ÏùåÍ≥º Í∞ôÏùÄ ÏûëÏóÖÏùÑ Ìï©ÎãàÎã§.
&lt;ul>
&lt;li>ÎßåÏïΩ Ïú†Ìö®Ìïú ÏöîÏ≤≠Ïù¥ÎùºÎ©¥, 2XXÎåÄÏùò OK ÏΩîÎìúÎ•º Î≥¥ÎÉÖÎãàÎã§. Ïù¥ Í≤ΩÏö∞ Ï†ïÏÉÅÏ†ÅÏúºÎ°ú&lt;/li>
&lt;li>ÎßåÏïΩ Ïú†Ìö®ÌïòÏßÄ ÏïäÏùÄ ÏöîÏ≤≠Ïù¥ÎùºÎ©¥ Ïù∏Ï¶ù ÏÑúÎ≤ÑÏùò ÏùëÎãµÏùÑ Í∑∏ÎåÄÎ°ú Î∞òÌôòÌï©ÎãàÎã§. (ÏóêÎü¨ Î∞òÌôò)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>Í∑∏Îüº Ïù¥Í±∏ Ïñ¥ÎñªÍ≤å Ïì∏ Ïàò ÏûàÏùÑÍπåÏöî?&lt;/p>
&lt;h3 id="2-oauth2ÏôÄ-cookie-forward-auth">2. OAuth2ÏôÄ Cookie, Forward Auth
&lt;/h3>&lt;h4 id="2-1-Í∞ÄÏû•-Í∞ÑÎã®Ìïú-forward-auth-ÏÑúÎ≤Ñ">2-1. Í∞ÄÏû• Í∞ÑÎã®Ìïú Forward Auth ÏÑúÎ≤Ñ
&lt;/h4>&lt;p>Ï≤òÏùåÎ∂ÄÌÑ∞ Ï≤úÏ≤úÌûà ÏÉùÍ∞ÅÌï¥ Î¥ÖÏãúÎã§.&lt;/p>
&lt;p>ÏùºÎã®, Í∞ÄÏû• Í∞ÑÎã®Ìïú Forward Auth ÏÑúÎ≤ÑÎ•º ÏÉùÍ∞ÅÌï¥ Î¥ÖÏãúÎã§.&lt;/p>
&lt;p>Ïñ¥Îñ§ ÏöîÏ≤≠Ïóê ÎåÄÌï¥ÏÑúÎäî OK, Ïñ¥Îñ§ ÏöîÏ≤≠Ïóê ÎåÄÌï¥ÏÑúÎäî NOÎ•º Ï£ºÎ†§Î©¥ Ïñ¥ÎñªÍ≤å Ìï¥Ïïº Ìï†ÍπåÏöî?&lt;/p>
&lt;p>ÎßûÏäµÎãàÎã§! Ïö∞Î¶¨Í∞Ä Basic AuthÎïå ÌïúÎ≤à Î≥∏ Ï†ÅÏù¥ ÏûàÎìØ, Í∞Å ÏöîÏ≤≠Ïóê ÎåÄÌï¥ Ïù∏Ï¶ù Ï†ïÎ≥¥Î•º Í∞ôÏù¥ Î≥¥ÎÇ¥Í≥†, Í∑∏ Ïù∏Ï¶ù Ï†ïÎ≥¥Í∞Ä Ïú†Ìö®Ìïú Í≤ΩÏö∞ ÌÜµÍ≥ºÏãúÏºúÏ£ºÎ©¥ Îê† Í≤ÉÏûÖÎãàÎã§.&lt;/p>
&lt;p>Í∑∏Î¶ºÏúºÎ°ú Í∑∏Î†§Î≥¥Î©¥, Í∞ÄÏû• Í∞ÑÎã®Ìïú ÏòàÏãúÎäî Îã§ÏùåÍ≥º Í∞ôÏäµÎãàÎã§.&lt;/p>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-10-2.-forward-auth%EC%99%80-oauth2%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-sso-%EA%B5%AC%ED%98%84/image-1.png"
width="1200"
height="1005"
loading="lazy"
alt="Í∞ÄÏû• Í∞ÑÎã®Ìïú Forward Auth"
class="gallery-image"
data-flex-grow="119"
data-flex-basis="286px"
>&lt;/p>
&lt;h4 id="2-2-Ïù∏Ï¶ù-ÌÜ†ÌÅ∞ÏùÄ-Ïñ¥ÎîîÏóê-Ï†ÄÏû•ÌïòÏßÄ">2-2. Ïù∏Ï¶ù ÌÜ†ÌÅ∞ÏùÄ Ïñ¥ÎîîÏóê Ï†ÄÏû•ÌïòÏßÄ?
&lt;/h4>&lt;p>Ï¢ãÏäµÎãàÎã§!&lt;/p>
&lt;p>ÏùºÎã® Í∞ÄÏû• Í∞ÑÎã®Ìïú Forward Auth ServerÎ•º ÏÉùÍ∞ÅÌï¥ Î≥¥ÏïòÏäµÎãàÎã§. Í∑∏Îü¨Î©¥ Îã§ÏùåÏùÄ, &amp;ldquo;Í∑∏Îü¨Î©¥ ÌÜ†ÌÅ∞ÏùÄ Ïñ∏Ï†ú, Ïñ¥ÎîîÏÑú Î∞õÏïÑÏïº ÌïòÎäîÎç∞?&amp;rdquo; ÎùºÎäî ÏßàÎ¨∏Ïù¥ ÎÇ®ÏäµÎãàÎã§.&lt;/p>
&lt;p>Í∞ÑÎã®Ìïú Î∞©Î≤ïÏúºÎ°†, Î°úÍ∑∏Ïù∏ ÌéòÏù¥ÏßÄÎ•º ÌïòÎÇò ÎßåÎì§Ïñ¥ÏÑú Î°úÍ∑∏Ïù∏Ïóê ÏÑ±Í≥µÌïòÎ©¥ TokenÏùÑ Î∞úÍ∏âÌï¥Ï£ºÎäî Î∞©Î≤ïÏù¥ ÏûàÏùÑ Í≤É Í∞ôÏäµÎãàÎã§.&lt;/p>
&lt;p>Í∑∏Î¶ºÏúºÎ°ú Í∑∏Î†§Î≥¥Í≤†ÏäµÎãàÎã§.&lt;/p>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-10-2.-forward-auth%EC%99%80-oauth2%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-sso-%EA%B5%AC%ED%98%84/image-2.png"
width="1791"
height="1005"
loading="lazy"
alt="Î°úÍ∑∏Ïù∏ ÌéòÏù¥ÏßÄ Ï∂îÍ∞Ä"
class="gallery-image"
data-flex-grow="178"
data-flex-basis="427px"
>&lt;/p>
&lt;p>Ïñ¥? Í∑∏Îü∞Îç∞ &lt;code>auth.lemondouble.com&lt;/code> ÏóêÏÑú Î°úÍ∑∏Ïù∏ÌñàÎã§Î©¥, ÌÜ†ÌÅ∞ÏùÑ Ïñ¥ÎñªÍ≤å Í≥µÏú†Ìï† Ïàò ÏûàÏùÑÍπåÏöî? Ïñ¥ÎîîÏóê ÌÜ†ÌÅ∞ÏùÑ Ï†ÄÏû•Ìï¥Ïïº Ìï†ÍπåÏöî?&lt;/p>
&lt;p>Í∑∏Îü∞Îç∞ ÎÇòÎäî a.lemondouble.com, b.lemondouble.comÍ∞ôÏùÄ Îã§Î•∏ ÏÇ¨Ïù¥Ìä∏ÏóêÏÑúÎèÑ Ìï¥Îãπ ÌÜ†ÌÅ∞ÏùÑ Ïù¥Ïö©Ìï¥ÏÑú Î°úÍ∑∏Ïù∏ÏùÑ Ïú†ÏßÄÌï¥Ïïº Ìï©ÎãàÎã§.&lt;/p>
&lt;p>(ÏÇ¨Ïã§ ÍΩ§ ÏûêÏ£º ÏûàÎäî ÏùºÏù¥Í∏¥ ÌïòÏßÄÎßå) a.lemondouble.comÏóêÏÑú Ïù¥ÎØ∏ SSO Î°úÍ∑∏Ïù∏ÏùÑ ÌñàÎäîÎç∞, b.lemondouble.comÏóêÏÑú Î°úÍ∑∏Ïù∏ÏùÑ Îã§Ïãú ÏãúÌÇ®Îã§Î©¥, (Ïú†Ï†Ä Ï†ïÎ≥¥Í∞Ä Í≥µÏú†ÎêòÎçîÎùºÎèÑ) ÎÑàÎ¨¥ Í∑ÄÏ∞ÆÏùÄ ÏùºÏùº Í≤ÉÏûÖÎãàÎã§!&lt;/p>
&lt;p>Ïö∞Î¶¨Îäî Ïù¥Î•º Ìï¥Í≤∞ÌïòÍ∏∞ ÏúÑÌï¥ÏÑú, CookieÏóê ÌÜ†ÌÅ∞ÏùÑ Îã¥ÏùÑ ÏòàÏ†ïÏûÖÎãàÎã§.&lt;/p>
&lt;p>ÏòàÎ•º Îì§Ïñ¥, &lt;code>.lemondouble.com&lt;/code> ÏóêÎã§Í∞Ä CookieÎ•º ÏÑ§Ï†ïÌïòÎ©¥, Ìï¥Îãπ CookieÎäî Î™®Îì† ÏÑúÎ∏åÎèÑÎ©îÏù∏, Ï¶â &lt;code>a.lemondouble.com&lt;/code> , &lt;code>auth.lemondouble.com&lt;/code>, &lt;code>'b.lemondouble.com'&lt;/code> Ïóê Ï†ëÏÜçÌï† Ïãú ÏûêÎèôÏúºÎ°ú Í∞ôÏù¥ Ï†ÑÏÜ°ÎêúÎã§Îäî Ï†êÏùÑ Ïù¥Ïö©ÌïòÎäî Í≤ÉÏûÖÎãàÎã§.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">cookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;forward-auth-token&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">token&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">domain&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;.lemondouble.com&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">//subdomainÍπåÏßÄ Í≥µÏú†ÌïòÎ†§Î©¥ ÏïûÏóê &amp;#34;.&amp;#34;ÏùÑ Î∂ôÏó¨Ï§òÏïºÌï®!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Í∑∏Îü¨Î©¥, ÎßéÏùÄ ÏùºÏù¥ Í∞ÑÎã®Ìï¥ÏßëÎãàÎã§! Ï†ïÎ¶¨Ìï¥Î≥¥Ï£†.&lt;/p>
&lt;ol>
&lt;li>Forward AuthÎäî ÌÜ†ÌÅ∞Ïù¥ ÏûàÎã§Î©¥ ÌóàÏö©, ÌÜ†ÌÅ∞Ïù¥ ÏóÜÎã§Î©¥ Í±∞Î∂ÄÌïúÎã§.&lt;/li>
&lt;li>Î°úÍ∑∏Ïù∏ ÌéòÏù¥ÏßÄÎ•º ÎßåÎì§Ïñ¥, Î°úÍ∑∏Ïù∏ ÌéòÏù¥ÏßÄÎäî Î°úÍ∑∏Ïù∏ ÏÑ±Í≥µÏãú &lt;code>.lemondouble.com&lt;/code> Ïóê Ïø†ÌÇ§Î•º ÏÑ§Ï†ïÌïòÎèÑÎ°ù Ìï©ÎãàÎã§.&lt;/li>
&lt;/ol>
&lt;p>Ïó¨Í∏∞ÍπåÏßÄ Ï†ïÎ¶¨Ìï¥Î≥¥Î©¥ Îã§ÏùåÍ≥º Í∞ôÏùÄ Í∑∏Î¶ºÏù¥ ÎÇòÏòµÎãàÎã§.&lt;/p>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-10-2.-forward-auth%EC%99%80-oauth2%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-sso-%EA%B5%AC%ED%98%84/image-3.png"
width="1791"
height="1005"
loading="lazy"
alt="Î°úÍ∑∏Ïù∏ Ïù¥ÌõÑ Ïø†ÌÇ§ Ï†ÄÏû•ÍπåÏßÄ Í∑∏Î¶º"
class="gallery-image"
data-flex-grow="178"
data-flex-basis="427px"
>&lt;/p>
&lt;h4 id="2-3-jwt-ÌÜ†ÌÅ∞-ÏÇ¨Ïö©-Î∞è-ÎßåÎ£å-ÏÑ§Ï†ï-Ïú†Ìö®ÏÑ±-Í≤ÄÏ¶ù">2-3. JWT ÌÜ†ÌÅ∞ ÏÇ¨Ïö© Î∞è ÎßåÎ£å ÏÑ§Ï†ï, Ïú†Ìö®ÏÑ± Í≤ÄÏ¶ù
&lt;/h4>&lt;p>Ïûê! Í∑∏Îü∞Îç∞ ÌÜ†ÌÅ∞ ÏïàÏóêÎäî Ïñ¥Îñ§ Í∞íÏù¥ Îì§Ïñ¥Í∞ÄÎ©¥ Ï¢ãÏùÑÍπåÏöî?&lt;/p>
&lt;p>Ïù¥ Í≤ΩÏö∞, JWTÍ∞Ä Ï†ÅÏ†àÌï† Í≤ÉÏúºÎ°ú Î≥¥ÏûÖÎãàÎã§. StatelessÌï¥Ïïº ÌïòÍ≥†, ÏúÑÎ≥ÄÏ°∞Í∞Ä ÏïÑÏ£º Ïñ¥Î†§Ïö¥ ÌÜ†ÌÅ∞Ïù¥Ïïº ÎßêÎ°ú Ïù¥ ÏÇ¨Ïö©ÏÇ¨Î°ÄÏóê ÏïÑÏ£º Ï†ÅÌï©Ìï¥ Î≥¥ÏûÖÎãàÎã§.&lt;/p>
&lt;p>ÏïàÏùò ÎÇ¥Ïö©ÏùÄ.. Ïú†Ï†Ä IDÎÇò Ïù¥Î©îÏùº Ï†ïÎèÑÍ∞Ä Ï¢ãÍ≤†ÎÑ§Ïöî.&lt;/p>
&lt;p>Í∑∏Îü∞Îç∞ ÌÜ†ÌÅ∞ÏùÑ ÌïúÎ≤à Î∞úÍ∏âÌñàÏúºÎ©¥ Ï≤úÎÖÑÎßåÎÖÑ Ïç®ÎèÑ Îê†ÍπåÏöî&amp;hellip;? Í∑∏Îü¨Î©¥ ÌÜ†ÌÅ∞ÏùÑ ÌïúÎ≤à ÌÉàÏ∑®ÎãπÌïòÎ©¥ Ï≤úÎÖÑ ÎßåÎÖÑ ÏÑúÎ≤ÑÍ∞Ä ÌÑ∏Î¶¨Í≤†Ï£†..? Îî∞ÎùºÏÑú, ÌÜ†ÌÅ∞ Ïú†Ìö® Í∏∞Í∞Ñ ÏÑ§Ï†ïÏù¥ ÌïÑÏöîÌï† Í≤É Í∞ôÏäµÎãàÎã§. Î≥¥ÏïàÍ≥º Ìé∏ÏùòÏÑ± ÏÇ¨Ïù¥Ïóê Í≥†Î†§ÌïòÎ©¥ Îê† Í≤É Í∞ôÏùÄÎç∞, Ï†ÄÎäî Ìé∏ÏùòÏÉÅ 3600Ï¥à (1ÏãúÍ∞Ñ) ÏùÑ ÏÇ¨Ïö©ÌïúÎã§Í≥† Í∞ÄÏ†ïÌï¥ Î≥¥Í≤†ÏäµÎãàÎã§.&lt;/p>
&lt;p>Í∑∏Îü¨Î©¥&lt;/p>
&lt;ol>
&lt;li>JWTÎ•º Exp (Expired Time)ÏùÑ ÌòÑÏû¨ÏãúÍ∞Ñ + 3600Ï¥àÎ°ú Î°úÍ∑∏Ïù∏ ÏÑúÎ≤ÑÏóêÏÑú Î∞úÍ∏âÌï¥ Ï§òÏïº Ìï† Í≤É Í∞ôÎÑ§Ïöî. Ìé∏ÏùòÏÉÅ, Cookie Ïú†ÏßÄ ÏãúÍ∞ÑÎèÑ 3600Ï¥àÎ°ú ÌÜµÏùºÌïòÎ©¥ Ï¢ãÍ≤†ÎÑ§Ïöî.&lt;/li>
&lt;li>Forward AuthÏóêÏÑú Í∏∞Ï°¥ÏùÄ ÌÜ†ÌÅ∞Ïù¥ ÏûàÎã§Î©¥ Î¨¥Ï°∞Í±¥ ÌÜµÍ≥ºÏòÄÏßÄÎßå, ÌÜ†ÌÅ∞ JWT Í≤ÄÏ¶ù Î∞è, ÎßåÎ£å ÌÜ†ÌÅ∞Ïùº Ïãú Í∞íÏù¥ Ïú†Ìö®ÌïòÎçîÎùºÎèÑ Í±∞Ï†àÌïòÎäî Î°úÏßÅÏùÑ Ï∂îÍ∞ÄÌï¥Ïïº Ìï† Í≤É Í∞ôÏäµÎãàÎã§.&lt;/li>
&lt;/ol>
&lt;p>Í∑∏Î¶ºÏúºÎ°ú Îã§Ïãú Í∑∏Î†§Î≥¥Í≤†ÏäµÎãàÎã§.&lt;/p>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-10-2.-forward-auth%EC%99%80-oauth2%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-sso-%EA%B5%AC%ED%98%84/image-4.png"
width="1791"
height="1005"
loading="lazy"
alt="JWT ÌÜ†ÌÅ∞Í≥º ÎßåÎ£å Ï∂îÍ∞Ä"
class="gallery-image"
data-flex-grow="178"
data-flex-basis="427px"
>&lt;/p>
&lt;h4 id="2-4-Î¶¨Îã§Ïù¥Î†âÌä∏-Ï≤òÎ¶¨">2-4. Î¶¨Îã§Ïù¥Î†âÌä∏ Ï≤òÎ¶¨
&lt;/h4>&lt;p>Í∑∏Îü∞Îç∞ ÎßåÏïΩ ÌÜ†ÌÅ∞Ïù¥ Ïú†Ìö®ÌïòÏßÄ ÏïäÍ±∞ÎÇò, ÌÜ†ÌÅ∞Ïù¥ ÏóÜÎã§Î©¥ Í∑∏ÎÉ• ÏóêÎü¨ ÌéòÏù¥ÏßÄÎßå Î≥¥Ïó¨Ï§òÎèÑ Í¥úÏ∞ÆÏùÑÍπåÏöî?&lt;/p>
&lt;p>Î¨ºÎ°†&amp;hellip; ÎÇ¥Í∞Ä ÌòºÏûê Ïì∞Î©¥ Ïïà Îê†Í±∞ Î≠ê ÏûàÍ≤†ÏäµÎãàÍπåÎßàÎäî&amp;hellip; ÍµâÏû•Ìûà Îß§Î≤à Í∑ÄÏ∞ÆÏùÑ Í≤ÉÏûÖÎãàÎã§. Í∑∏ÎÉ• Ïù∏Ï¶ù Ïã§Ìå®ÌïòÎ©¥ ÏûêÎèôÏúºÎ°ú Î°úÍ∑∏Ïù∏ ÌéòÏù¥ÏßÄÎ°ú Î¶¨Îã§Ïù¥Î†âÌä∏ ÏãúÏºúÏ£ºÎ©¥ Ìé∏Ìï† Í≤É Í∞ôÎÑ§Ïöî.&lt;/p>
&lt;p>Î∞îÎ°ú Ï∂îÍ∞ÄÌï¥ Î¥ÖÏãúÎã§.&lt;/p>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-10-2.-forward-auth%EC%99%80-oauth2%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-sso-%EA%B5%AC%ED%98%84/image-5.png"
width="1791"
height="1005"
loading="lazy"
alt="Î¶¨Îã§Ïù¥Î†âÌä∏ Ï∂îÍ∞Ä"
class="gallery-image"
data-flex-grow="178"
data-flex-basis="427px"
>&lt;/p>
&lt;p>Í∑∏Îü∞Îç∞ Î≥¥ÌÜµ SSO ÏÑ±Í≥µÌïòÎ©¥ Í∏∞Ï°¥ ÏÇ¨Ïù¥Ìä∏Î°ú ÎèåÏïÑÍ∞ÄÏûñÏïÑÏöî? Í∑∏Í≤ÉÎèÑ ÌïúÎ≤à Ï∂îÍ∞ÄÌï¥ Î¥ÖÏãúÎã§.&lt;/p>
&lt;p>ÏøºÎ¶¨ ÌååÎùºÎØ∏ÌÑ∞ÎÇò Ìó§Îçî Îì±ÏúºÎ°ú &amp;ldquo;ÏõêÎûò Ïñ¥ÎîîÏÑú ÏôîÎäîÏßÄ&amp;quot;Î•º Í∏∞ÏñµÌïòÍ≥†, Î°úÍ∑∏Ïù∏Ïóê ÏÑ±Í≥µÌïòÎ©¥ ÏõêÎûò Ïñ¥ÎîîÏÑú ÏôîÎäîÏßÄ Í∏∞ÏñµÌï¥ÏÑú Î°úÍ∑∏Ïù∏ ÏÑúÎ≤ÑÍ∞Ä Î¶¨Îã§Ïù¥Î†âÌä∏ Ï≤òÎ¶¨Î•º Ìï¥ Ï£ºÎ©¥ Îê† Í≤É Í∞ôÏäµÎãàÎã§.&lt;/p>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-10-2.-forward-auth%EC%99%80-oauth2%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-sso-%EA%B5%AC%ED%98%84/image-6.png"
width="1791"
height="1005"
loading="lazy"
alt="ÏõêÎûò ÏÇ¨Ïù¥Ìä∏Î°ú ÎèåÏïÑÍ∞ÄÍ∏∞"
class="gallery-image"
data-flex-grow="178"
data-flex-basis="427px"
>&lt;/p>
&lt;p>ÏïÑ.. OAuthÎäî Ïù¥ÏïºÍ∏∞ÎèÑ Ïïà Í∫ºÎÉàÎäîÎç∞ Î≤åÏç® Î≥µÏû°ÌïòÎÑ§Ïöî. ÏùºÎã® ÌïúÎ≤à Îçî Ìï¥ Î¥ÖÏãúÎã§..&lt;/p>
&lt;p>ÎßåÏïΩ ÌÜµÌï©Ïù∏Ï¶ùÏù¥ ID/Password Î°úÍ∑∏Ïù∏Ïù¥ÎùºÎ©¥ Ïó¨Í∏∞ÏÑú ÏôÑÏÑ±ÏûÖÎãàÎã§. Ïó¨Í∏∞ÏÑú Ï°∞Í∏à Ìó∑Í∞àÎ¶¥ Ïàò ÏûàÏñ¥ÏÑú Ï†ïÎ¶¨ÌïòÍ≥† Í∞ÄÎ©¥, Î°úÍ∑∏Ïù∏ ÏÑúÎ≤ÑÏôÄ TraeifkÏùò Forward Auth ÏÑúÎ≤ÑÎäî ÎèôÏùºÌï¥ÎèÑ Î¨¥Î∞©Ìï©ÎãàÎã§.&lt;/p>
&lt;p>Íµ≥Ïù¥ Í∑∏Î¶ºÍπåÏßÄ Í∑∏Î¶¨Î©¥ÏÑú Ïù¥Í±∏ Îã§Ïãú Ïì∞Îäî Ïù¥Ïú†Îäî, Forward Auth Ïù∏Ï¶ù ÏÑúÎ≤ÑÏôÄ Î°úÍ∑∏Ïù∏ ÏÑúÎ≤ÑÎ•º Î∂ÑÎ¶¨Ìï† ÌïÑÏöîÍ∞Ä ÏóÜÏñ¥ÏÑúÏûÖÎãàÎã§!&lt;/p>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-10-2.-forward-auth%EC%99%80-oauth2%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-sso-%EA%B5%AC%ED%98%84/image-7.png"
width="1292"
height="730"
loading="lazy"
alt="Ïã§Ìå®Ïãú ÌîåÎ°úÏö∞Î•º Îã§Ïãú Ï†ïÎ¶¨Ìïú Í∑∏Î¶º"
class="gallery-image"
data-flex-grow="176"
data-flex-basis="424px"
>&lt;/p>
&lt;h4 id="2-5-oauth-ÏãúÏûë">2-5. OAuth ÏãúÏûë!
&lt;/h4>&lt;p>ÏùºÎã® Ïä§ÌéôÏùÑ Ï†ïÌïòÍ≥† Í∞Ä Î¥ÖÏãúÎã§.&lt;/p>
&lt;p>Ï†ÄÌù¨Í∞Ä ÎßåÎì§ Ïä§ÌéôÏùÄ Îã§ÏùåÍ≥º Í∞ôÏäµÎãàÎã§.&lt;/p>
&lt;ol>
&lt;li>ÎßåÏïΩ Ïñ¥Îñ§ ÏÑúÎπÑÏä§Ïóê Ï†ëÍ∑ºÌñàÎäîÎç∞, OAuth SSOÍ∞Ä ÌïÑÏöîÌïòÎã§Î©¥ Î∞îÎ°ú Ìï¥Îãπ Social ProviderÏùò Î°úÍ∑∏Ïù∏ ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§. (Ï¶â, Ïö∞Î¶¨Îäî Î°úÍ∑∏Ïù∏ ÌéòÏù¥ÏßÄÎ•º ÎßåÎì§ÏßÄ ÏïäÏäµÎãàÎã§!)&lt;/li>
&lt;li>Î°úÍ∑∏Ïù∏Ïóê ÏÑ±Í≥µÌïòÎ©¥ ÏõêÎûò Ï†ëÍ∑ºÌïòÎ†§Îäî ÏÑúÎπÑÏä§Î°ú Î¶¨Îã§Ïù¥Î†âÌä∏Îê©ÎãàÎã§!&lt;/li>
&lt;/ol>
&lt;p>Í∑∏Î¶¨Í≥† Client ID Îì±Î°ù Îì±Ïùò Í∏∞Î≥∏ÎÇ¥Ïö©Îì§ÏùÄ ÏÉùÎûµÌï©ÎãàÎã§. Ïù¥Í±∏ ÌïòÎÇòÌïòÎÇò ÏÑ§Î™ÖÌïòÎ©¥ Ï±Ö Ìïú Í∂åÏù¥ ÎÇòÏôÄÏÑúÏöî.. ÎßåÏïΩ OAuth 2.0 ÌîÑÎ°úÌÜ†ÏΩúÏóê ÎåÄÌï¥ Ïûò Î™®Î•¥Ïã†Îã§Î©¥, ÏÉùÌôúÏΩîÎî©Ïùò &lt;a class="link" href="https://opentutorials.org/course/3405" target="_blank" rel="noopener"
>Web2 - OAuth 2.0&lt;/a> Í∞ïÏùòÎ•º Ï∂îÏ≤úÎìúÎ¶¥Í≤åÏöî. (Í≥µÏß≠ÎãàÎã§!)&lt;/p>
&lt;h4 id="2-6-oauth-Ï†ÑÏ≤¥-ÌîåÎ°úÏö∞">2-6. OAuth Ï†ÑÏ≤¥ ÌîåÎ°úÏö∞
&lt;/h4>&lt;p>Ï†úÍ∞Ä.. ÏßÑÏßú Ïù¥Í±∏ ÏâΩÍ≤å ÏÑ§Î™ÖÌïòÎ†§Í≥† ÎÖ∏Î†•Ìï¥Î¥§ÎäîÎç∞&amp;hellip; ÏÜîÏßÅÌûà ÎãµÏù¥ Ïïà ÏÑúÏÑúÏöî..&lt;/p>
&lt;p>Ï†ÑÏ≤¥ ÌîåÎ°úÏö∞Î•º Î≥¥Ïó¨ÎìúÎ¶¨Í≥òÏäµÎãàÎã§.&lt;/p>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-10-2.-forward-auth%EC%99%80-oauth2%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-sso-%EA%B5%AC%ED%98%84/image-8.png"
width="2013"
height="1092"
loading="lazy"
alt="OAuth SSO Ï†ÑÏ≤¥ ÌîåÎ°úÏö∞"
class="gallery-image"
data-flex-grow="184"
data-flex-basis="442px"
>&lt;/p>
&lt;p>ÌïµÏã¨ ÏïÑÏù¥ÎîîÏñ¥Îäî State CodeÎ•º Ïù¥Ïö©ÌïòÎäî Í≤ÉÏûÖÎãàÎã§!&lt;/p>
&lt;ul>
&lt;li>OAuth Ïù∏Ï¶ù ÏÑúÎ≤ÑÏóê ÏöîÏ≤≠ÏùÑ Î≥¥ÎÇº Îïå, ÏûÑÏùòÏùò Î¨∏ÏûêÏó¥ÏùÑ ÏÉùÏÑ±Ìï¥ Í∞ôÏù¥ (?state=ÏûÑÏùòÏùòÎ¨∏ÏûêÏó¥) Î≥¥ÎÇ¥Î©¥, Ïù¥ÌõÑ Ïú†Ï†ÄÍ∞Ä Î°úÍ∑∏Ïù∏ ÏÑ±Í≥µ ÌõÑ ÎèåÏïÑÏò¨ Îïå Ìï¥Îãπ Î¨∏ÏûêÏó¥ÏùÑ Í∞ôÏù¥ Î≥¥ÎÇ¥Ï£ºÎäî Ïä§ÌéôÏù¥ OAuth 2.0 ÌëúÏ§ÄÏóê ÏûàÏäµÎãàÎã§. (ÌïÑÏàò ÌååÎùºÎØ∏ÌÑ∞Îäî ÏïÑÎãàÎùº, OAuth Ïó∞ÎèôÏùÑ ÌïòÎ©¥ÏÑú Î™ª Î≥¥ÏÖ®ÏùÑ ÏàòÎèÑ ÏûàÏäµÎãàÎã§!)&lt;/li>
&lt;li>Ïù¥Î•º Ïù¥Ïö©Ìï¥ÏÑú Ïú†Ï†ÄÍ∞Ä &amp;ldquo;Ïñ¥ÎîîÏÑú ÏôîÎäîÏßÄ&amp;rdquo; Î•º Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§Ïóê Í∏∞Î°ùÌïòÍ≥†, Î°úÍ∑∏Ïù∏ ÏÑ±Í≥µ ÌõÑ Ìï¥Îãπ URLÎ°ú Î¶¨Îã§Ïù¥Î†âÌä∏ ÏãúÏºúÏ£ºÎäî ÏïÑÏù¥ÎîîÏñ¥Î•º Ï∞®Ïö©Ìï©ÎãàÎã§.&lt;/li>
&lt;/ul>
&lt;p>Ï†ÑÏ≤¥ ÌîåÎ°úÏö∞Îäî ÏúÑ Í∑∏Î¶ºÏùÑ Ï∞∏Í≥†Ìï¥ Ï£ºÏãúÍ≥†, Í∑∏Îü¨Î©¥ Ïö∞Î¶¨ Ïù∏Ï¶ù ÏÑúÎ≤ÑÎäî Î¨¥ÏóáÏùÑ Íµ¨ÌòÑÌï¥Ïïº Ìï†ÍπåÏöî?&lt;/p>
&lt;p>ÏóîÎìúÌè¨Ïù∏Ìä∏ Îã® ÌïòÎÇòÎ•º Íµ¨ÌòÑÌïòÎäîÎç∞, Îã§ÏùåÏùÑ Íµ¨ÌòÑÌïòÏãúÎ©¥ Îê©ÎãàÎã§. (ÏúÑÏóêÏÑú ÏàúÏÑúÎåÄÎ°ú Ï≤òÎ¶¨Ìï¥Ïïº Ìï©ÎãàÎã§. Ï≤òÎ¶¨ ÏàúÏÑúÍ∞Ä Ï§ëÏöîÌï©ÎãàÎã§!)&lt;/p>
&lt;ol>
&lt;li>
&lt;p>ÏøºÎ¶¨ ÌååÎùºÎØ∏ÌÑ∞Î°ú codeÏôÄ stateÍ∞Ä ÏûàÎäî Í≤ΩÏö∞, State CodeÍ∞Ä DBÏóê Ï†ÄÏû•Îêú Í∞íÍ≥º ÏùºÏπòÌïòÎäîÏßÄ ÌôïÏù∏Ìï©ÎãàÎã§. ÎßåÏïΩ DBÏóê Ìï¥Îãπ State CodeÍ∞Ä Ï°¥Ïû¨ÌïúÎã§Î©¥, ÌÉÄÏÇ¨ OAuth ServerÍ≥º ÌÜµÏã†ÌïòÏó¨ Authorization CodeÎ•º Ïú†Ï†Ä Ï†ïÎ≥¥Î°ú Î≥ÄÌôòÌï©ÎãàÎã§. Î≥ÄÌôòÌïú Ïú†Ï†Ä Ï†ïÎ≥¥Í∞Ä ÎØ∏Î¶¨ Îì±Î°ùÎêú Í∂åÌïú Î¶¨Ïä§Ìä∏Ïóê ÏûàÎäîÏßÄ ÌôïÏù∏ÌïòÍ≥†, ÎßåÏïΩ ÏóÜÎã§Î©¥ Ïò§Î•òÎ•º Î∞òÌôòÌï©ÎãàÎã§. ÎßåÏïΩ Í∂åÌïú Î¶¨Ïä§Ìä∏Ïóê ÏûàÎã§Î©¥, Î°úÍ∑∏Ïù∏Ïö© Ïã†Í∑ú JWTÎ•º ÏÉùÏÑ± ÌõÑ CookieÏóê &lt;code>.yourdomain.com&lt;/code> ÏúºÎ°ú Ï†ÄÏû•Ìï©ÎãàÎã§. Ïù¥ Îïå, Î≥¥ÏïàÏùÑ ÏúÑÌï¥ secure, httpOnly ÏÑ§Ï†ïÏùÑ Ïºú Ï£ºÎ©¥ Ï¢ãÏäµÎãàÎã§. ÎòêÌïú sameSite ÏòµÏÖòÏùÄ &lt;code>'Lax'&lt;/code>Î°ú ÏÑ§Ï†ïÌï©ÎãàÎã§. Ïù¥ÌõÑ State CodeÏôÄ Ìïú ÏåçÏù∏ URIÎ°ú Ïú†Ï†ÄÎ•º Redirect ÏãúÌÇµÎãàÎã§.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>CookieÏóê JWT ÌÜ†ÌÅ∞Ïù¥ ÏûàÎäî Í≤ΩÏö∞, JWT Í≤ÄÏ¶ù ÌõÑ Ï†ïÏÉÅ JWTÎùºÎ©¥ 200ÏùÑ Î∞òÌôòÌï©ÎãàÎã§.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÎßåÏïΩ CookieÏóê JWT ÌÜ†ÌÅ∞Ïù¥ ÏïÑÏòà ÏóÜÍ±∞ÎÇò, ÎßåÎ£åÎêú CookieÎùºÎ©¥ ÎßåÎ£åÎêú CookieÎ•º ÏßÄÏö∞Í≥†, State CodeÏóê &lt;code>X-Forwarded-Host&lt;/code> Ìó§ÎçîÏôÄ &lt;code>X-Forwarded-Uri&lt;/code>Î•º ÌååÏã±ÌïòÏó¨ ÌòÑÏû¨ URIÎ•º Ï∂îÏ∂úÌï©ÎãàÎã§. Ïù¥ÌõÑ Ïã†Í∑ú State CodeÏôÄ Ìï¥Îãπ URI ÌéòÏñ¥Î•º DBÏóê Ï†ÄÏû•ÌïòÍ≥†, ÌòÑÏû¨ APIÎ•º Redirect URLÎ°ú ÏÑ§Ï†ïÌï¥ State CodeÏôÄ Ìï®Íªò Ï†ÑÏÜ°Ìï©ÎãàÎã§.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>TIP : Ïú†Ï†ÄÍ∞Ä ÏöîÏ≤≠Ìïú URI : &lt;code>https://&amp;quot; + GetHeader(&amp;quot;X-Forwarded-Host&amp;quot;) + GetHeader(&amp;quot;X-Forwarded-Uri&amp;quot;)&lt;/code>&lt;/li>
&lt;/ul>
&lt;h4 id="2-7-Ï∂îÍ∞Ä-ÏÑ§Ï†ï">2-7. Ï∂îÍ∞Ä ÏÑ§Ï†ï
&lt;/h4>&lt;p>ÎßàÏßÄÎßâÏúºÎ°ú.. Traefik ÏÑ§Ï†ïÏóê Îã§Ïùå Îëê Ï§ÑÏùÑ Ï∂îÍ∞ÄÌï©ÎãàÎã§.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">- &amp;#34;--entryPoints.web.forwardedHeaders.insecure&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- &amp;#34;--entryPoints.websecure.forwardedHeaders.insecure&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ìï¥Îãπ Ï§ÑÏù¥ ÏóÜÏúºÎ©¥, X-forwared-for Ìó§ÎçîÎì§Ïù¥ ÎÑòÏñ¥Ïò§ÏßÄ ÏïäÏäµÎãàÎã§!&lt;/p>
&lt;p>Ï†ú Î∏îÎ°úÍ∑∏Ïùò Í∏Ä (&lt;a class="link" href="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-4.-traefik-https-%EC%9D%B8%EC%A6%9D-%EB%B0%8F-argocd-%EC%84%A4%EC%A0%95/" target="_blank" rel="noopener"
>4. Traefik https Ïù∏Ï¶ù Î∞è ArgoCD ÏÑ§Ï†ï&lt;/a>) ÏùÑ Ï∞∏Í≥†ÌïòÏÖ®Îã§Î©¥, Îã§ÏùåÍ≥º Í∞ôÏù¥ ÏÑ§Ï†ïÌïòÏãúÎ©¥ Îê©ÎãàÎã§.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># https://traefik.io/blog/https-on-kubernetes-using-traefik-proxy/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">helm.cattle.io/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">HelmChartConfig&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">traefik&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">kube-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">valuesContent&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|-&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> ports:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> web:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> redirectTo:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> port: websecure
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> priority: 10
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> additionalArguments:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - &amp;#34;--log.level=INFO&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - &amp;#34;--certificatesresolvers.le.acme.email=yourMail@gmail.com&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - &amp;#34;--certificatesresolvers.le.acme.storage=/data/acme.json&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - &amp;#34;--certificatesresolvers.le.acme.tlschallenge=true&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - &amp;#34;--certificatesresolvers.le.acme.caServer=https://acme-v02.api.letsencrypt.org/directory&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - &amp;#34;--entryPoints.web.forwardedHeaders.insecure&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - &amp;#34;--entryPoints.websecure.forwardedHeaders.insecure&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ïù¥ÌõÑ kubectl applyÎ•º Ïã§ÌñâÌïòÏó¨, Forwared Auth ÏÑ§Ï†ïÏùÑ ÎßàÎ¨¥Î¶¨ Ìï¥ Ï§çÏãúÎã§.!&lt;/p>
&lt;h3 id="ÎßàÏπòÎ©∞">ÎßàÏπòÎ©∞
&lt;/h3>&lt;p>ÏÇ¨Ïã§ ÎÇ¥Ïö©Ïù¥ ÎÑàÎ¨¥ Î∞©ÎåÄÌï¥ÏÑú.. Í∞ÄÎä•Ìïú ÏâΩÍ≤å Ïì¥Îã§Í≥† ÎÖ∏Î†•ÌñàÎäîÎç∞, Ï†úÎåÄÎ°ú Ï†ÑÎã¨ÏùÄ Ïïà ÎêòÏóàÏùÑ Í≤É Í∞ôÏäµÎãàÎã§. ÎÇòÏ§ëÏóê Í∏ÄÏùÑ ÌïúÎ≤à ÏàòÏ†ïÌï¥Ïïº ÎêòÏßÄ ÏïäÎÇò Ïã∂ÎÑ§Ïöî.&lt;/p>
&lt;p>Í∑∏ÎûòÎèÑ ÌòπÏãú Î™®Î•¥Îãà, Ï∞∏Í≥†ÌïòÏó¨ Íµ¨Ï∂ïÌïòÏã§ Î∂ÑÎì§ÏùÄ Ïù¥Ìï¥ Ïïà ÎêòÎäî Î∂ÄÎ∂ÑÏù¥ ÏûàÎã§Î©¥ ÏïÑÎûò ÎåìÍ∏ÄÏù¥ÎÇò, &lt;a class="link" href="mailto:contact@lemondouble.com" >contact@lemondouble.com&lt;/a> ÏúºÎ°ú Ìé∏ÌïòÍ≤å Ïó∞ÎùΩ Ï£ºÏÑ∏Ïöî! Ìä∏Îü¨Î∏îÏäàÌåÖÍπåÏßÄ Í∞ôÏù¥ ÎèÑÏôÄÎìúÎ¶¨Í≤†ÏäµÎãàÎã§.&lt;/p>
&lt;p>ÏïÑ Í∑∏Î¶¨Í≥† ÌòπÏãú GolangÏùÑ Ìï†Ï§Ñ ÏïÑÏã†Îã§Î©¥, &lt;a class="link" href="https://github.com/thomseddon/traefik-forward-auth" target="_blank" rel="noopener"
>traefik-forward-auth&lt;/a> Î•º Ï∞∏Í≥†ÌïòÏÖîÎèÑ Ï¢ãÏäµÎãàÎã§.&lt;/p></description></item><item><title>ÏßëÏóêÏÑú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞ Ï∞®Î¶¨Í∏∞ - 10-1. Basic AuthÎ°ú ÎÇ¥Î∂ÄÏö© ÏÑúÎπÑÏä§ Î≥¥Ìò∏ÌïòÍ∏∞</title><link>https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-10-1.-basic-auth%EB%A1%9C-%EB%82%B4%EB%B6%80%EC%9A%A9-%EC%84%9C%EB%B9%84%EC%8A%A4-%EB%B3%B4%ED%98%B8%ED%95%98%EA%B8%B0/</link><pubDate>Sun, 07 Jan 2024 12:41:24 +0900</pubDate><guid>https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-10-1.-basic-auth%EB%A1%9C-%EB%82%B4%EB%B6%80%EC%9A%A9-%EC%84%9C%EB%B9%84%EC%8A%A4-%EB%B3%B4%ED%98%B8%ED%95%98%EA%B8%B0/</guid><description>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-10-1.-basic-auth%EB%A1%9C-%EB%82%B4%EB%B6%80%EC%9A%A9-%EC%84%9C%EB%B9%84%EC%8A%A4-%EB%B3%B4%ED%98%B8%ED%95%98%EA%B8%B0/cover.png" alt="Featured image of post ÏßëÏóêÏÑú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞ Ï∞®Î¶¨Í∏∞ - 10-1. Basic AuthÎ°ú ÎÇ¥Î∂ÄÏö© ÏÑúÎπÑÏä§ Î≥¥Ìò∏ÌïòÍ∏∞" />&lt;p>&lt;strong>ÏïÑÎûò ÎÇ¥Ïö©ÏùÄ Sealed Secrets &lt;a class="link" href="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-7.-sealed-secrets%EB%A5%BC-%ED%86%B5%ED%95%9C-%EB%B9%84%EB%B0%80-%EA%B4%80%EB%A6%AC--traefik-basic-auth-%EC%84%A4%EC%A0%95/#3-sealed-secrets-%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-basic-auth-%EB%93%B1%EB%A1%9D%ED%95%B4%EB%B3%B4%EA%B8%B0" target="_blank" rel="noopener"
>ÏÑπÏÖò 3&lt;/a>Í≥º Í≤πÏπòÎäî Î∂ÄÎ∂ÑÏù¥ ÎßéÏäµÎãàÎã§. Ìï¥Îãπ ÏÑπÏÖòÏùÑ ÏßÑÌñâÌïòÏÖ®Í≥†, Basic AuthÏóê ÎåÄÌï¥ Ïûò ÏïÑÏã†Îã§Î©¥ Ïä§ÌÇµÌï¥ÎèÑ Î¨¥Î∞©Ìï©ÎãàÎã§.&lt;/strong>&lt;/p>
&lt;h3 id="1-ÏÑúÎ°†">1. ÏÑúÎ°†
&lt;/h3>&lt;p>Ïø†Î≤ÑÎÑ§Ìã∞Ïä§Î•º ÌïòÎã§ Î≥¥Î©¥, Ïù¥Îü∞Ï†ÄÎü∞ ÏÑúÎπÑÏä§Î•º ÎßéÏù¥ Ïò¨Î¶¨Í≤å Îê©ÎãàÎã§.&lt;/p>
&lt;p>Î¨ºÎ°† ÎÇ¥Î∂ÄÎßùÏóêÏÑúÎßå ÏÑúÎπÑÏä§ÌïòÎäîÍ≤ÉÏù¥ Î≥¥ÏïàÏÉÅ Í∞ÄÏû• Ï¢ãÍ≤†ÏßÄÎßå, ÌÅ¥Îü¨Ïä§ÌÑ∞ Í¥ÄÎ¶¨Î•º Ìï≠ÏÉÅ ÎÇ¥Î∂ÄÎßùÏóêÏÑúÎßå Ìï† Ïàò ÏóÜÏùÑ ÏàòÎèÑ ÏûàÏäµÎãàÎã§. ÏòàÎ•º Îì§Ïñ¥ ÎÜÄÎü¨Í∞îÎäîÎç∞ Í∞ëÏûêÍ∏∞ Î¨∏Ï†úÍ∞Ä ÏÉùÍ≤ºÎã§Í±∞ÎÇò ÌïòÎäî Í≤ΩÏö∞Í∞Ä ÏûàÏùÑ ÏàòÎèÑ ÏûàÍ≤†Ï£†.&lt;/p>
&lt;p>Ïù¥Îü∞ Í≤ΩÏö∞ Ìï¥Í≤∞Î∞©Î≤ïÏù¥ Îëê Í∞ÄÏßÄÍ∞Ä ÏûàÏùÑ Ïàò ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;ol>
&lt;li>VPNÏùÑ ÏÇ¨Ïö©ÌïòÏó¨, Îã§Î•∏ Ïª¥Ìì®ÌÑ∞ÏóêÏÑú ÎÇ¥Î∂ÄÎßùÏóê Ï†ëÏÜçÌï¥ÏÑú Í¥ÄÎ†® ÏÑúÎπÑÏä§ ÏÇ¨Ïö©&lt;/li>
&lt;li>Ïù∏ÌÑ∞ÎÑ∑Ïóê ÏÑúÎπÑÏä§Î•º Ïó¥Ïñ¥ÎÜìÎêò, Ïù∏Ï¶ù Îß§Ïª§ÎãàÏ¶òÏùÑ Ï∂îÍ∞ÄÌïòÏó¨ ÏÇ¨Ïö©&lt;/li>
&lt;/ol>
&lt;p>Ï†ÄÏùò Í≤ΩÏö∞Îäî 2Î•º ÏÑ†ÌÉùÌñàÍ≥†, Í∞úÏù∏Ï†ÅÏúºÎ°ú SSO ÏÑúÎ≤ÑÎ•º Íµ¨Ï∂ïÌï¥ ÏÇ¨Ïö©ÌïòÍ≥† ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;p>ÌïòÏßÄÎßå SSO ÏãúÏä§ÌÖúÏùÄ Íµ¨Ï∂ï Í≥ºÏ†ïÏù¥ Î∞©ÎåÄÌïú Í¥ÄÍ≥ÑÎ°ú Í∞ÄÏû• Í∞ÑÎã®Ìïú Ïù∏Ï¶ù Îß§Ïª§ÎãàÏ¶ò Î®ºÏ†Ä ÏßÑÌñâÌï¥ Î≥¥Î†§Í≥† Ìï©ÎãàÎã§.&lt;/p>
&lt;h3 id="2-basic-authÏùò-ÌùêÎ¶Ñ">2. Basic AuthÏùò ÌùêÎ¶Ñ
&lt;/h3>&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-10-1.-basic-auth%EB%A1%9C-%EB%82%B4%EB%B6%80%EC%9A%A9-%EC%84%9C%EB%B9%84%EC%8A%A4-%EB%B3%B4%ED%98%B8%ED%95%98%EA%B8%B0/image.png"
width="713"
height="407"
loading="lazy"
alt="Basic Auth, Ï∂úÏ†Ä : MDN"
class="gallery-image"
data-flex-grow="175"
data-flex-basis="420px"
>&lt;/p>
&lt;p>Basic AuthÎäî ÏóÑÏ≤≠ Í∞ÑÎã®Ìï©ÎãàÎã§!&lt;/p>
&lt;ol>
&lt;li>ÏÑúÎ≤ÑÏóêÍ≤å ÌéòÏù¥ÏßÄÎ•º ÏöîÏ≤≠Ìï©ÎãàÎã§.&lt;/li>
&lt;li>ÏÑúÎ≤ÑÎäî ÏöîÏ≤≠ÏùÑ Î∞õÍ≥†, Ïù∏Ï¶ù Ï†ïÎ≥¥Í∞Ä ÏóÜÏúºÎ©¥ 401 ÏùëÎãµÍ≥º Ìï®Íªò Ïù∏Ï¶ù Î∞©Î≤ï (Basic Auth) Î•º ÏöîÍµ¨Ìï©ÎãàÎã§.&lt;/li>
&lt;li>ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏Îäî ÏùëÎãµÏùÑ Î∞õÍ≥†, Basic AuthÎ•º ÏßÑÌñâÌï©ÎãàÎã§.
&lt;ul>
&lt;li>Ïù¥ Îïå, HTTP Authorization HeaderÏóê &lt;code>Basic ${Ïù∏Ï¶ù ÌÜ†ÌÅ∞}&lt;/code> Ïùò Í∞íÏùÑ Îã¥ÏïÑ Î≥¥ÎÉÖÎãàÎã§.&lt;/li>
&lt;li>Ïù¥ Îïå, Ïù∏Ï¶ù ÌÜ†ÌÅ∞ÏùÄ Base64Encode(&amp;ldquo;userId:password&amp;rdquo;) ÏûÖÎãàÎã§.&lt;/li>
&lt;li>ÏòàÎ•º Îì§Ïñ¥ idÍ∞Ä lemondouble, Ìå®Ïä§ÏõåÎìúÍ∞Ä 1q2w3e4r!ÎùºÎ©¥ &lt;code>&amp;quot;lemondouble:1q2w3e4r!&amp;quot;&lt;/code> Î•º base64Î°ú Ïù∏ÏΩîÎî©Ìïú Í∞íÏù∏ &lt;code>bGVtb25kb3VibGU6MXEydzNlNHIh&lt;/code>Î•º ÏÇ¨Ïö©Ìï©ÎãàÎã§.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ÏÑúÎ≤ÑÎäî Ïù¥ ÌÜ†ÌÅ∞ÏùÑ ÌôïÏù∏Ìïú ÌõÑ, Ï†ïÏÉÅ ÏùëÎãµÏùÑ ÎèåÎ†§Ï§çÎãàÎã§.&lt;/li>
&lt;/ol>
&lt;h3 id="3-basic-authÏùò-Ïû•Îã®Ï†ê">3. Basic AuthÏùò Ïû•Îã®Ï†ê?
&lt;/h3>&lt;p>Ïû•Ï†ê :&lt;/p>
&lt;ol>
&lt;li>ÎπåÌä∏Ïù∏Ïù¥Îã§! : ÎåÄÎ∂ÄÎ∂ÑÏùò Î∏åÎùºÏö∞Ï†ÄÏóêÏÑú Î≥ÑÎã§Î•∏ ÏÑ§Ï†ï ÏóÜÏù¥ÎèÑ ÏßÄÏõêÌï©ÎãàÎã§.&lt;/li>
&lt;li>Íµ¨ÌòÑÏù¥ Í∞ÑÌé∏ÌïòÎã§. : ÎåÄÎ∂ÄÎ∂ÑÏùò Ïõπ ÌîÑÎ†àÏûÑÏõåÌÅ¨ÏóêÏÑú Í∏∞Î≥∏ ÏßÄÏõêÌï©ÎãàÎã§!&lt;/li>
&lt;/ol>
&lt;p>Îã®Ï†ê :&lt;/p>
&lt;ol>
&lt;li>Î≥¥ÏïàÏù¥ Ï∑®ÏïΩÌïòÎã§ : ÏµúÎåÄ Îã®Ï†êÏûÖÎãàÎã§.
&lt;ul>
&lt;li>Ìå®Ïä§ÏõåÎìúÍ∞Ä base64Î°ú Ïù∏ÏΩîÎî© (=ÌèâÎ¨∏)ÏúºÎ°ú Îß§ ÏöîÏ≤≠ÎßàÎã§ Ï†ÑÏÜ°Îê©ÎãàÎã§.
&lt;ul>
&lt;li>Https ÌîÑÎ°úÌÜ†ÏΩúÏùÑ ÏÇ¨Ïö©ÌïúÎã§Î©¥ Í¥úÏ∞ÆÍ≤†ÏßÄÎßå, HTTP ÌîÑÎ°úÌÜ†ÏΩúÏùÑ ÏÇ¨Ïö©ÌïòÎ©¥ Îß§ ÏöîÏ≤≠ÎßàÎã§ ÌèâÎ¨∏ÏúºÎ°ú Ìå®Ïä§ÏõåÎìúÍ∞Ä Ï†ÑÏÜ°Îê©ÎãàÎã§!&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Î¨¥Ï∞®Î≥Ñ ÎåÄÏûÖ Í≥µÍ≤© Îì±ÏùÑ Î∞©Ïñ¥ÌïòÏßÄ ÏïäÎäîÎã§.
&lt;ul>
&lt;li>Id/PasswordÏùò Î¨∏Ï†úÏù¥Í≤†ÏßÄÎßå, TraefikÏùò Í∏∞Î≥∏ ÏÑ§Ï†ïÎåÄÎ°úÎùºÎ©¥ ÏùºÏ†ï Ïàò Ïù¥ÏÉÅ ÌãÄÎ¶∞ ÏöîÏ≤≠ÏùÑ ÏãúÌÇ® ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏Î•º ÎìúÎ°≠ÌïúÎã§ÎçòÍ∞Ä ÌïòÎäî Í∏∞Îä•Ïù¥ ÏóÜÏäµÎãàÎã§.&lt;/li>
&lt;li>Id/PasswordÍ∞Ä Ï∑®ÏïΩÌïòÎã§Î©¥, Ïñ¥Îñ§ ÏïÖÏùòÏ†Å Í≥µÍ≤©ÏûêÍ∞Ä Î¨¥Ï∞®Î≥Ñ ÎåÄÏûÖ Í≥µÍ≤©ÏùÑ ÌÜµÌï¥ ÏÑúÎπÑÏä§Ïóê Ï†ëÍ∑ºÌï† Ïàò ÏûàÏäµÎãàÎã§.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>Îî∞ÎùºÏÑú, Í∞ÄÎä•ÌïòÎã§Î©¥ Ìï¥Îãπ Í∏∞Îä•ÏùÄ&lt;/p>
&lt;ol>
&lt;li>Ï†ëÍ∑ºÌï¥ÎèÑ Î≥Ñ Î¨∏Ï†ú ÏóÜÎäî ÏÑúÎπÑÏä§Î•º ÎåÄÏÉÅÏúºÎ°ú, ÌòπÏùÄ Î™áÎ™á Ïú†Ï†ÄÏóêÍ≤åÎßå Í≥µÏú†ÌïòÍ≥† Ïã∂ÏùÄ ÏÑúÎπÑÏä§Î•º ÎåÄÏÉÅÏúºÎ°ú&lt;/li>
&lt;li>https ÌîÑÎ°úÌÜ†ÏΩúÏùÑ ÏÇ¨Ïö©Ìï¥ÏÑú&lt;/li>
&lt;li>Ï∂©Î∂ÑÌûà Í∏¥ Ìå®Ïä§ÏõåÎìúÎ•º ÏÇ¨Ïö©ÌïòÎäî Í≤É&lt;/li>
&lt;/ol>
&lt;p>ÏùÑ Í∂åÏû•Ìï©ÎãàÎã§!&lt;/p>
&lt;h3 id="4-basic-auth-ÏÑ§Ï†ï-Î∞©Î≤ï">4. Basic Auth ÏÑ§Ï†ï Î∞©Î≤ï
&lt;/h3>&lt;ul>
&lt;li>Ï†ÄÌù¨Îäî Seaeld SecretsÎ•º Ïù¥Ïö©Ìï¥, Ï†ëÏÜç Ï†ïÎ≥¥ (Id/Password)Î•º ÏïîÌò∏ÌôîÌï¥ GitÏóê Ï†ÄÏû•ÌïòÎäî Î∞©ÏãùÏùÑ ÏÇ¨Ïö©Ìï† ÏòàÏ†ïÏûÖÎãàÎã§.&lt;/li>
&lt;li>Ïù¥Î†áÍ≤å ÌïòÎäî Ïù¥Ïú†Îäî Îã§ÏùåÍ≥º Í∞ôÏäµÎãàÎã§.
&lt;ul>
&lt;li>Î∂àÏãúÏùò ÏÇ¨Í≥†Í∞Ä ÏùºÏñ¥ÎÇ¨ÏùÑ Îïå, Ï†ëÏÜç Ï†ïÎ≥¥Î•º Ìè¨Ìï®ÌïòÏó¨ Ïã†ÏÜçÌïòÍ≤å ÌÅ¥Îü¨Ïä§ÌÑ∞Î•º Î≥µÍµ¨ÌïòÍ∏∞ ÏúÑÌï¥ÏÑú (Secrets Ï†ïÎ≥¥ÎèÑ GitÏóê ÏûàÏúºÎØÄÎ°ú, Î∞∞Ìè¨Îßå ÌïòÎ©¥ Îê®)&lt;/li>
&lt;li>ÏïÑÎ¨¥Î¶¨ Private RepoÎ•º ÏÇ¨Ïö©ÌïúÎã§Í≥† ÌïòÎçîÎùºÎèÑ, ÏàúÍ∞ÑÏùò Ïã§ÏàòÎ°ú Id/PasswordÍ∞Ä ÎÖ∏Ï∂úÎêòÎäî Í≤ÉÏùÑ ÎßâÍ∏∞ ÏúÑÌï¥&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>Disclaimer : ÏïÑÎûò ÎÇ¥Ïö©ÏùÄ Sealed Secrets &lt;a class="link" href="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-7.-sealed-secrets%EB%A5%BC-%ED%86%B5%ED%95%9C-%EB%B9%84%EB%B0%80-%EA%B4%80%EB%A6%AC--traefik-basic-auth-%EC%84%A4%EC%A0%95/#3-sealed-secrets-%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-basic-auth-%EB%93%B1%EB%A1%9D%ED%95%B4%EB%B3%B4%EA%B8%B0" target="_blank" rel="noopener"
>ÏÑπÏÖò 3&lt;/a>Í≥º ÎèôÏùºÌï©ÎãàÎã§!&lt;/p>
&lt;p>Longhorn DashboardÎ•º Ïô∏Î∂ÄÏóêÏÑú Ï†ëÍ∑ºÌï† Ïàò ÏûàÍ≤å ÏÑ§Ï†ïÌïòÎ©∞, Basic Auth ÏÑ§Ï†ï Î∞©Î≤ïÏùÑ Î∞∞ÏõåÎ¥ÖÏãúÎã§.&lt;/p>
&lt;ol>
&lt;li>&lt;code>apt install apache2-utils&lt;/code> Ïã§ÌñâÌïòÏó¨ htpasswd Ïª§Îß®ÎìúÎ•º ÏÇ¨Ïö©Ìï† Ïàò ÏûàÎèÑÎ°ù Ìï©ÎãàÎã§.&lt;/li>
&lt;li>&lt;code>htpasswd -nb &amp;lt;id&amp;gt; &amp;lt;password&amp;gt; | openssl base64&lt;/code> Î•º Ïù¥Ïö©ÌïòÏó¨, id,passwordÍ∞Ä Îã¥Í∏¥ Secret StringÏùÑ ÏñªÏäµÎãàÎã§.&lt;/li>
&lt;li>ÏïÑÎ¨¥ ÌÖçÏä§Ìä∏ Ìé∏ÏßëÍ∏∞Î°ú secret.yamlÏùÑ ÏÉùÏÑ±ÌïòÍ≥†, Îã§ÏùåÏùÑ Ï∞∏Í≥†ÌïòÏó¨ SecretÏùÑ Ï∂îÍ∞ÄÌï©ÎãàÎã§.&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Secret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system-basic-auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">data&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">users&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">&amp;lt;2ÏóêÏÑú ÏñªÏùÄ String&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>4.&lt;code>cat secret.yaml | kubeseal --controller-namespace=sealed-secrets-system --controller-name=sealed-secrets -oyaml &amp;gt; sealed-secrets.yaml&lt;/code> Î•º ÏûÖÎ†•ÌïòÏó¨ sealed-secrets.yaml ÏùÑ ÏñªÏäµÎãàÎã§.
5. Îã§ÏùåÏùÑ Ï∞∏Í≥†ÌïòÏó¨ ingressÎ•º Îì±Î°ùÌï©ÎãàÎã§.&lt;/p>
&lt;p>&lt;code>modules/longhorn-system/ingress.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">traefik.containo.us/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">IngressRoute&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-dashboard&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">tls&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">certResolver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">le&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">routes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Rule&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">match&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Host(`&amp;lt;ÏõêÌïòÎäî subdomain, ÏòàÏãú:longhorn.lemon.com&amp;gt;`)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">middlewares&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">basic-auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-frontend&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">traefik.containo.us/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Middleware&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">basic-auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">basicAuth&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">secret&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system-basic-auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>modules/longhorn-system/sealed-basic-auth-secret.yaml&lt;/code> ÏóêÎäî, Î∞©Í∏à ÏÉùÏÑ±Ìïú sealed-secrets.yamlÏùÑ Î≥µÏÇ¨ Î∂ôÏó¨ÎÑ£Í∏∞ Ìï¥ Ï§çÏãúÎã§.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">bitnami.com/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">SealedSecret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">creationTimestamp&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system-basic-auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">encryptedData&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">users&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">adfasdflavasdlfj...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">creationTimestamp&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system-basic-auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="6">
&lt;li>Ïù¥ÌõÑ Î∞∞Ìè¨Î•º ÏßÑÌñâÌï¥ Ï§çÎãàÎã§.&lt;/li>
&lt;li>Ïù¥ÌõÑ Ï†ëÏÜçÌïòÎ©¥ Ï†ïÏÉÅÏ†ÅÏúºÎ°ú id/password ÌôïÏù∏ Ï∞ΩÏù¥ Îú®Î©∞, Î°úÍ∑∏Ïù∏ÏùÑ ÌïòÏßÄ ÏïäÏúºÎ©¥ Ìï¥Îãπ ÌéòÏù¥ÏßÄÍ∞Ä Î≥¥Ïù¥ÏßÄ ÏïäÏäµÎãàÎã§!&lt;/li>
&lt;/ol>
&lt;h3 id="5-ÎßàÏπòÎ©∞">5. ÎßàÏπòÎ©∞
&lt;/h3>&lt;p>Basic AuthÎäî Ï†ú Ï¥àÍ∏∞ ÌÅ¥Îü¨Ïä§ÌÑ∞ Í¥ÄÎ¶¨ Î∞©Î≤ïÏù¥ÏóàÏäµÎãàÎã§.&lt;/p>
&lt;p>Ïô∏Î∂ÄÎ°ú ÎÖ∏Ï∂úÎêòÎäî ÏÑúÎπÑÏä§Í∞Ä ÎßéÏßÄ ÏïäÎã§Î©¥, Basic AuthÎ•º ÏÑ§Ï†ïÌïòÍ≥† &lt;a class="link" href="https://lemondouble.github.io/p/fly.io-%EC%86%8C%EA%B0%9C-%EB%B0%8F-fly.io%EC%97%90-%EC%98%AC%EB%A6%AC%EA%B8%B0-%EC%A2%8B%EC%9D%80-%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%B6%94%EC%B2%9C-vaultwarden/" target="_blank" rel="noopener"
>Bitwarden&lt;/a> Îì±Ïùò Ìå®Ïä§ÏõåÎìú Îß§ÎãàÏ†ÄÎ•º ÏÇ¨Ïö©Ìï¥ Í¥ÄÎ¶¨ÌïòÎäî Í≤É ÎßåÏúºÎ°úÎèÑ Ï∂©Î∂ÑÌïòÎã§Í≥† ÎäêÍºàÏäµÎãàÎã§.&lt;/p>
&lt;p>ÌïòÏßÄÎßå ÎÇòÏ§ëÏóê ÌîÑÎ°úÏ†ùÌä∏Í∞Ä Îçî ÎßéÏïÑÏßÑÎã§Î©¥?&lt;/p>
&lt;p>Í∑∏ Í≤ΩÏö∞Î•º Ìï¥Í≤∞ÌïòÍ∏∞ ÏúÑÌïú, SSO Ïù∏Ï¶ù Î∞©Î≤ïÏùÑ Îã§Ïùå Ìè¨Ïä§Ìä∏Ïóê Ïò¨Î¶¨ÎèÑÎ°ù ÌïòÍ≤†ÏäµÎãàÎã§.&lt;/p>
&lt;p>Îã®, Ïù∏Ï¶ù ÏÑúÎ≤ÑÎ•º DIYÎ°ú ÎßåÎì§Ïñ¥ Ï†ÑÏ≤¥ ÏÜåÏä§ ÏΩîÎìúÎ•º Ï†úÍ≥µÌï¥ÎìúÎ¶¨Í∏∞ ÌûòÎì§ Í≤É Í∞ôÏïÑ, ÏùºÎã® ÏÇ¨Ïö© Í∞ÄÎä•Ìïú Basic Auth Î®ºÏ†Ä ÏÑ§Î™ÖÎìúÎ¶ºÏùÑ ÏñëÌï¥ Î∂ÄÌÉÅÎìúÎ¶ΩÎãàÎã§ üôá&lt;/p></description></item><item><title>ÏßëÏóêÏÑú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞ Ï∞®Î¶¨Í∏∞ - 9. CloudNativePGÎ°ú Ïø†Î≤ÑÎÑ§Ìã∞Ïä§ÏóêÏÑú Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïö¥Ïö©ÌïòÍ∏∞</title><link>https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-9.-cloudnativepg%EB%A1%9C-%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4%EC%97%90%EC%84%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%9A%B4%EC%9A%A9%ED%95%98%EA%B8%B0/</link><pubDate>Tue, 12 Dec 2023 22:09:10 +0900</pubDate><guid>https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-9.-cloudnativepg%EB%A1%9C-%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4%EC%97%90%EC%84%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%9A%B4%EC%9A%A9%ED%95%98%EA%B8%B0/</guid><description>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-9.-cloudnativepg%EB%A1%9C-%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4%EC%97%90%EC%84%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%9A%B4%EC%9A%A9%ED%95%98%EA%B8%B0/cover.png" alt="Featured image of post ÏßëÏóêÏÑú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞ Ï∞®Î¶¨Í∏∞ - 9. CloudNativePGÎ°ú Ïø†Î≤ÑÎÑ§Ìã∞Ïä§ÏóêÏÑú Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïö¥Ïö©ÌïòÍ∏∞" />&lt;h3 id="ÏÑúÎ°†">ÏÑúÎ°†
&lt;/h3>&lt;p>Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§Îäî Í¥ÄÎ¶¨ÌïòÍ∏∞ ÍπåÎã§Î°≠ÏäµÎãàÎã§.&lt;/p>
&lt;p>Îã§Î•∏ PodÍ≥º Îã§Î•¥Í≤å Îç∞Ïù¥ÌÑ∞ Î≥¥Í¥Ä, Î∞±ÏóÖ, Í¥ÄÎ¶¨ÏóêÎèÑ Ïã†Í≤ΩÏç®Ïïº ÌïòÍ≥†, Failover Î∞è ÏÑ±Îä•ÏóêÎèÑ Í¥ÄÏã¨ÏùÑ Í∞ÄÏ†∏Ïïº Ìï©ÎãàÎã§.&lt;/p>
&lt;p>Í∑∏ÎûòÏÑú Îã§Î•∏ ÏõåÌÅ¨Î°úÎìúÎäî Ïø†Î≤ÑÎÑ§Ìã∞Ïä§ ÌÅ¥Îü¨Ïä§ÌÑ∞ÏóêÏÑú ÎèåÎ¶¨ÎçîÎùºÎèÑ, DBÎßåÌÅºÏùÄ AWS RDSÎì±Ïùò Í¥ÄÎ¶¨Ìòï ÏãúÏä§ÌÖúÏù¥ÎÇò Î≥ÑÎèÑ Ïù∏Ïä§ÌÑ¥Ïä§Î•º ÏÇ¨Ïö©ÌïòÎäî Í≤ΩÏö∞ÎèÑ ÌùîÌïú Í≤ÉÏúºÎ°ú ÏïåÍ≥† ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;p>ÌïòÏßÄÎßå Í∑∏Í≤å Ï§ëÏöîÌï†ÍπåÏöî? ÏßëÏóêÏÑú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞Î•º Ï∞®Î¶¨ÎäîÎç∞ Í¥ÄÎ¶¨Ìòï DBMSÎèÑ ÌïòÎÇòÏØ§ ÏûàÏñ¥Ïïº ÌïòÏßÄ ÏïäÏùÑÍπåÏöî?&lt;/p>
&lt;p>Í∑∏Îü¨ÎãàÍπå ÌïúÎ≤à ÎßåÎì§Ïñ¥ Î¥ÖÏãúÎã§. Ïø†Î≤ÑÎÑ§Ìã∞Ïä§Ïùò Operation PatternÏùÑ ÏÇ¨Ïö©Ìïú &lt;a class="link" href="https://cloudnative-pg.io/" target="_blank" rel="noopener"
>CloudNativePG&lt;/a> Î•º Ïù¥Ïö©Ìï¥ Primary ÌïòÎÇò, Replica 2Í∞úÏßúÎ¶¨ ÌÅ¥Îü¨Ïä§ÌÑ∞Î•º Î∞∞Ìè¨Ìï¥ Î≥¥Í≥† ÎÇ¥Î∂ÄÎßùÏóêÏÑú Ï†ëÏÜç Í∞ÄÎä•ÌïòÎèÑÎ°ù ÏÑ§Ï†ïÍπåÏßÄ ÏßÑÌñâÌï¥ Î¥ÖÎãàÎã§.&lt;/p>
&lt;p>Postgres OperatorÎäî ÏïÑÎãàÏßÄÎßå &lt;a class="link" href="https://nangman14.tistory.com/79#5.%20Mysql%20Operator%20Failover%20%ED%85%8C%EC%8A%A4%ED%8A%B8-1" target="_blank" rel="noopener"
>Mysql OperatorÎ°ú Kubernetes ÌôòÍ≤ΩÏóêÏÑú Mysql DB Ïö¥ÏòÅÌïòÍ∏∞&lt;/a> Í∏ÄÏùÑ ÏùΩÏñ¥Î≥¥ÏãúÎ©¥ Îî∞ÎùºÏò§ÎäîÎç∞ Ï¢Ä Îçî ÎèÑÏõÄÏù¥ Îê†?ÏàòÎèÑ ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;h3 id="2-ÏÑ§Ïπò">2. ÏÑ§Ïπò
&lt;/h3>&lt;p>ÏÑ§ÏπòÎäî Îëê Îã®Í≥ÑÎ°ú ÎÇòÎà†ÏÑú ÏßÑÌñâÌïòÍ≤†ÏäµÎãàÎã§.&lt;/p>
&lt;ol>
&lt;li>CNPG Operator ÏÑ§Ïπò&lt;/li>
&lt;li>CNPG Cluster ÏÑ§Ïπò&lt;/li>
&lt;/ol>
&lt;p>OperatorÎäî ClusterÍ∞Ä Ï†ïÏÉÅ ÏÉÅÌÉúÎ•º Ïú†ÏßÄÌïòÎäîÏßÄ Í∞êÏãúÌïòÎäî Ïó≠Ìï†ÏùÑ Ìï©ÎãàÎã§.
Ïã§Ï†úÎ°ú ÏÇ¨Ïö©ÌïòÎäî Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÌÅ¥Îü¨Ïä§ÌÑ∞Îäî 2.Î•º ÌÜµÌï¥ ÏÑ§ÏπòÌï©ÎãàÎã§.&lt;/p>
&lt;p>Ï∞®Í∑ºÏ∞®Í∑º ÏãúÏûëÌï¥ Î¥ÖÏãúÎã§! Ïù¥Î≤àÏóêÎèÑ ArgoCDÎ•º Ïù¥Ïö©Ìï¥ Îπ†Î•¥Í≤å Î∞∞Ìè¨Ìï©ÎãàÎã§.&lt;/p>
&lt;p>&lt;strong>1. CNPG Operator ÏÑ§Ïπò&lt;/strong>&lt;/p>
&lt;p>&lt;code>apps/enabled/cnpg-system.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argoproj.io/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Application&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argocd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">destination&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;https://kubernetes.default.svc&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">source&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">path&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">modules/cnpg-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">repoURL&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;git@github.com:&amp;lt;YourOrganizationName&amp;gt;/&amp;lt;YourRepositoryName&amp;gt;.git&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetRevision&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">HEAD&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">project&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">default&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>modules/cnpg-system/cnpg.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># https://github.com/cloudnative-pg/cloudnative-pg&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argoproj.io/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Application&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argocd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">destination&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;https://kubernetes.default.svc&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">source&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">repoURL&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;https://cloudnative-pg.github.io/charts&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetRevision&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">0.19.1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">chart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cloudnative-pg&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">project&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">default&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Í∞ÑÎã®ÌïòÏ£†? ÏÑ§Ïπò Ïù¥ÌõÑ Î∞∞Ìè¨Î•º ÏßÑÌñâÌï¥ CNPG OperatorÎ•º ÏÑ§ÏπòÌï¥ Ï§çÏãúÎã§.&lt;/p>
&lt;p>&lt;strong>2. CNPG Cluster ÏÑ§Ïπò&lt;/strong>&lt;/p>
&lt;p>Ï†ÄÌù¨Í∞Ä ÎßåÎì§ ÌÅ¥Îü¨Ïä§ÌÑ∞Ïùò Î™®ÏäµÏùÄ Îã§ÏùåÍ≥º Í∞ôÏäµÎãàÎã§.&lt;/p>
&lt;ol>
&lt;li>Îß§Ïùº UTC 0Ïãú (KST Í∏∞Ï§Ä ÏïÑÏπ® 9Ïãú)Ïóê S3Ïóê Daily BackupÏùÑ ÏßÑÌñâÌï©ÎãàÎã§.&lt;/li>
&lt;li>Ï¥ù 3Í∞úÏùò PodÏúºÎ°ú Íµ¨ÏÑ±Îê©ÎãàÎã§. Í∞Å PodÏùÄ Ïó¨Îü¨ ÎÖ∏ÎìúÏóê Î∂ÑÏÇ∞ÎêòÏñ¥ ÌòπÏãú Î™®Î•º Î∂àÌñâÏùÑ(?) ÏòàÎ∞©Ìï©ÎãàÎã§.&lt;/li>
&lt;li>192.168.0.x IPÎ°ú ÎÇ¥Î∂ÄÎßùÏóêÏÑú DB Ï†ëÍ∑ºÏù¥ Í∞ÄÎä•Ìï©ÎãàÎã§.&lt;/li>
&lt;/ol>
&lt;p>ÌïòÎÇòÌïòÎÇò ÏãúÏûëÌï¥ Î¥ÖÏãúÎã§!&lt;/p>
&lt;p>&lt;code>apps/enabled/cnpg-cluster.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argoproj.io/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Application&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argocd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">destination&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;https://kubernetes.default.svc&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">source&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">path&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">modules/cnpg-cluster-16&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">repoURL&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;git@github.com:&amp;lt;YourOrganizationName&amp;gt;/&amp;lt;YourRepositoryName&amp;gt;.git&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetRevision&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">HEAD&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">project&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">default&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>modules/cnpg-cluster/cluster.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># https://cloudnative-pg.io/documentation/1.21/quickstart/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">postgresql.cnpg.io/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">instances&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">superuserSecret&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">superuser-secrets&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">enableSuperuserAccess&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">primaryUpdateStrategy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">unsupervised&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Persistent storage configuration&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">storage&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">size&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">10Gi&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">pvcTemplate&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">accessModes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">ReadWriteOnce&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">resources&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">requests&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">storage&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">1Gi&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">storageClassName&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-ssd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumeMode&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Filesystem&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Backup properties&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">backup&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">retentionPolicy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;90d&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">barmanObjectStore&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">destinationPath&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">s3://lemon-backup/cnpg-backup&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">s3Credentials&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">accessKeyId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">aws-backup-secret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">key&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ACCESS_KEY_ID&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">secretAccessKey&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">aws-backup-secret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">key&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ACCESS_SECRET_KEY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">wal&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">compression&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">gzip&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Í¥ÄÎ¶¨ Ìé∏ÏùòÎ•º ÏúÑÌï¥ Superuser Ï†ëÍ∑ºÏùÑ ÌóàÏö©Ìï¥ Ï£ºÍ≥†,
DB Ïö©ÎüâÏùÄ 10GBÎ°ú Ï£ºÏóàÏäµÎãàÎã§. (Ïù¥ÌõÑ ÌôïÏû• Í∞ÄÎä•Ìï©ÎãàÎã§.)&lt;/p>
&lt;p>Ïù¥Ïô∏Ïóê ÎßåÏïΩ Î∂àÏùòÏùò ÏÇ¨Í≥†Í∞Ä Îã•Ï≥§ÏùÑ Îïå(&amp;hellip;) ÏâΩÍ≤å Î∞±ÏóÖÌï† Ïàò ÏûàÎèÑÎ°ù Î∞±ÏóÖ Ïä§ÌÜ†Î¶¨ÏßÄÎ•º AWS S3Ïóê Î∞±ÏóÖ ÌååÏùºÏùÑ Ï†ÄÏû•ÌïòÍ≤å ÏÑ§Ï†ïÌïòÍ≥†, ÏµúÎåÄ 90ÏùºÍπåÏßÄ Î≥¥Í¥ÄÌïòÎèÑÎ°ù ÌïòÏòÄÏäµÎãàÎã§.&lt;/p>
&lt;p>&lt;code>modules/cnpg-cluster/daily-backup.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">postgresql.cnpg.io/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ScheduledBackup&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">daily-backup&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">schedule&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;0 0 0 * * *&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Daily&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">backupOwnerReference&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">self&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cluster&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Í∞ÑÎã®Ìïú Daily Backup Î¶¨ÏÜåÏä§ÏûÖÎãàÎã§.&lt;/p>
&lt;p>&lt;code>modules/cnpg-cluster/lb.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-lb-rw&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">postgres&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">5432&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">protocol&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">TCP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetPort&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">5432&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">selector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cnpg.io/cluster&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">role&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">primary&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">LoadBalancer&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">loadBalancerIP&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">192.168.0.206&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ï†ÄÏùò Í≤ΩÏö∞ 192.168.0.206 Ï£ºÏÜåÎ°ú Ï†ëÍ∑ºÏùÑ ÌóàÏö©Ìï¥ Ï£ºÏóàÏäµÎãàÎã§.
Ïù¥ÌõÑ Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ï°∞ÌöåÎÇò Í¥ÄÎ¶¨ ÏãúÏóê ÎÇ¥Î∂Ä ÎßùÏóêÏÑú &lt;code>192.168.0.206&lt;/code> Î°ú Ï†ëÍ∑ºÌïòÏó¨ Í¥ÄÎ¶¨Í∞Ä Í∞ÄÎä•Ìï¥ÏßëÎãàÎã§.&lt;/p>
&lt;p>&lt;code>modules/cnpg-cluster/sealed-aws-secrets.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">bitnami.com/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">SealedSecret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">aws-secrets&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">annotations&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>{}&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">encryptedData&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ACCESS_KEY_ID&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">adffd...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ACCESS_SECRET_KEY&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Aadfads...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>AWSÏóêÏÑú S3FullAccess, ÎòêÎäî ÌäπÏ†ï Î≤ÑÌÇ∑Ïùò Ïï°ÏÑ∏Ïä§ Í∂åÌïúÏùÑ Ï§Ä ÌõÑ ACCESS KEY, SecretÏùÑ Î∞úÍ∏âÎ∞õÏùÄ ÌõÑ, Ïù¥Ï†ÑÏóê ÏÑ§Ï†ïÌñàÎçò Sealed SecretÏùÑ Ïù¥Ïö©Ìï¥ Îì±Î°ùÌï¥ Ï§çÎãàÎã§.&lt;/p>
&lt;p>&lt;code>modules/cnpg-cluster/sealed-superuser-secrets.yaml&lt;/code>&lt;/p>
&lt;p>ÏÉùÏÑ± Í≥ºÏ†ïÏù¥ Ï°∞Í∏à Î≥µÏû°Ìï©ÎãàÎã§!&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Secret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">superuser-secrets&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">kubernetes.io/basic-auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">stringData&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">username&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">&amp;lt;ÎÇ¥Í∞Ä Ïì∏ ID, b64Ïù∏ÏΩîÎî© ÏóÜÏù¥ ÏõêÎ≥∏ Í∑∏ÎåÄÎ°ú&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">password&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">&amp;lt;ÎÇ¥Í∞Ä Ïì∏ Ìå®Ïä§ÏõåÎìú, b64Ïù∏ÏΩîÎî© ÏóÜÏù¥ ÏõêÎ≥∏ Í∑∏ÎåÄÎ°ú&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÏúÑÏôÄ Í∞ôÏùÄ SecretÏùÑ Î®ºÏ†Ä secret.yamlÏù¥ÎûÄ Ïù¥Î¶ÑÏúºÎ°ú ÏÉùÏÑ± ÌõÑ,&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">cat secret.yaml &lt;span class="p">|&lt;/span> kubeseal --controller-namespace&lt;span class="o">=&lt;/span>sealed-secrets-system --controller-name&lt;span class="o">=&lt;/span>sealed-secrets -oyaml &amp;gt; sealed-superuser-secrets.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Î°ú Sealed SecretÏúºÎ°ú Î≥ÄÍ≤Ω ÌõÑ, Sealed SecretÏùÑ ÏÇ¨Ïö©Ìï©ÎãàÎã§!&lt;/p>
&lt;p>Ïù¥ÌõÑ ÌîÑÎ°úÎπÑÏ†ÄÎãùÏùÑ Í∏∞Îã§Î¶¨Í≥†, (ÏãúÍ∞ÑÏù¥ Ï¢Ä Í±∏Î¶ΩÎãàÎã§.) 192.168.0.206ÏúºÎ°ú Î∞©Í∏à ÏÑ§Ï†ïÌïú ID/PasswordÎ•º ÌÜµÌï¥ Î°úÍ∑∏Ïù∏ÌïòÏó¨ DBÎ•º ÏÇ¨Ïö©Ìï† Ïàò ÏûàÏäµÎãàÎã§!&lt;/p>
&lt;p>&lt;strong>Ï†ïÏÉÅÏ†ÅÏúºÎ°ú ÏÑ§ÏπòÎêòÏóàÎã§Î©¥, Îã§ÏùåÎÇ† ÏïåÎ¶ºÏùÑ Í±∏Ïñ¥ Íº≠!! S3 Ìï¥Îãπ Ìè¥ÎçîÏóê Ï†ïÏÉÅÏúºÎ°ú Î∞±ÏóÖÎêòÎäîÏßÄ ÌôïÏù∏Ìï¥ Ï£ºÏÑ∏Ïöî!!!&lt;/strong>&lt;/p>
&lt;h3 id="3Î≥µÍµ¨">3.Î≥µÍµ¨
&lt;/h3>&lt;p>ÌïòÎ£®Í∞Ä ÏßÄÎÇò Ï†ïÏÉÅ Î∞±ÏóÖÏù¥ ÎêòÏóàÎã§Î©¥, &lt;strong>Íº≠! Î≥µÏõêÏù¥ ÎêòÎäîÏßÄ ÌôïÏù∏&lt;/strong> ÌïòÏãúÍ∏∏ Î∞îÎûçÎãàÎã§.
ÎÇ†ÏïÑÍ∞ÄÍ≥† ÌôïÏù∏ÌïòÎ©¥ ÎÑàÎ¨¥ Îä¶Ïñ¥Ïöî&amp;hellip;&lt;/p>
&lt;p>Ï†ú Î≥µÏõê ÏÑ§Ï†ï ÌååÏùºÏùÑ Í≥µÏú† ÎìúÎ¶ΩÎãàÎã§.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># https://cloudnative-pg.io/documentation/1.17/quickstart/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">postgresql.cnpg.io/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">instances&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">superuserSecret&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">superuser-secrets&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">primaryUpdateStrategy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">unsupervised&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">bootstrap&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#Ï∂îÍ∞Ä&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">recovery&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">source&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">clusterBackup&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">storage&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">size&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">10Gi&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">pvcTemplate&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">accessModes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">ReadWriteOnce&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">resources&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">requests&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">storage&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">1Gi&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">storageClassName&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-ssd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumeMode&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Filesystem&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">externalClusters&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#Ï∂îÍ∞Ä&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">clusterBackup&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">barmanObjectStore&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">serverName&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">destinationPath&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">s3://lemon-backup/postgres-backup&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">s3Credentials&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">accessKeyId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">aws-secrets&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">key&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ACCESS_KEY_ID&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">secretAccessKey&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">aws-secrets&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">key&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ACCESS_SECRET_KEY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">wal&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">compression&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">gzip&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ïã†Í∑ú ÌÅ¥Îü¨Ïä§ÌÑ∞Î•º ÏúÑÏôÄ Í∞ôÏù¥ bootstrap, externalClusters ÏòµÏÖòÏùÑ Ï∂îÍ∞ÄÌïòÎ©¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Í∞Ä Ï≤òÏùå ÏãúÏûëÎê† Îïå, Í∏∞Ï°¥ S3 ÌååÏùºÏùÑ Ïù¥Ïö©Ìï¥ ÏûêÎèôÏúºÎ°ú Îç∞Ïù¥ÌÑ∞Î•º Î≥µÍµ¨Ìï©ÎãàÎã§.&lt;/p>
&lt;p>Ï†ëÏÜç/ ÌôïÏù∏ ÌõÑ Î≥µÍµ¨Í∞Ä ÎÅùÎÇ¨ÏúºÎ©¥ bootstrap, externalClusters ÏòµÏÖòÏùÑ ÏßÄÏö¥ ÌõÑ Í∏∞Ï°¥Ïùò Î∞±ÏóÖ ÏòµÏÖòÏùÑ Îã§Ïãú Ï∂îÍ∞ÄÌï¥ Ï£ºÏãúÎ©¥ Îê©ÎãàÎã§.&lt;/p>
&lt;p>Ïù¥Îïå Ï£ºÏùòÌï† Ï†êÏúºÎ°ú,
PostgresÏùò Î©îÏù¥Ï†Ä Î≤ÑÏ†ÑÏù¥ Îã§Î•∏ Í≤ΩÏö∞ Î≥µÍµ¨Í∞Ä Ï†ïÏÉÅÏ†ÅÏúºÎ°ú ÎêòÏßÄ ÏïäÏùÑ Ïàò ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;p>ÏòàÎ•º Îì§Ïñ¥ Ï†úÍ∞Ä 1.16Î≤ÑÏ†Ñ OperatorÎ•º ÏÇ¨Ïö©ÌïòÎã§ (Postgres 15), OperatorÎ•º 1.21(Í∏∞Î≥∏Í∞íÏúºÎ°ú Postgres 16 Operator)ÍπåÏßÄ ÏóÖÎç∞Ïù¥Ìä∏Î•º ÌñàÎã§ ÌïòÎçîÎùºÎèÑ Í∏∞ÏÉùÏÑ±Îêú ÌÅ¥Îü¨Ïä§ÌÑ∞Îäî ÏàòÎèô ÏóÖÍ∑∏Î†àÏù¥ÎìúÎ•º Ìï¥ Ï£ºÏßÄ ÏïäÎäî Ïù¥ÏÉÅ PG 15Î•º Ïú†ÏßÄÌï©ÎãàÎã§.&lt;/p>
&lt;p>Ïù¥ ÎñÑ, ÎßåÏïΩ Ïû•Ïï†Í∞Ä ÏÉùÍ≤® Î≥µÍµ¨Î•º ÏãúÎèÑÌïòÎäî Í≤ΩÏö∞ Operator Î≤ÑÏ†ÑÏù¥ 1.21 Î≤ÑÏ†ÑÏù¥ÎØÄÎ°ú PG16Ïù¥ ÌîÑÎ°úÎπÑÏ†ÄÎãù Îê† Í≤ÉÏù¥Í≥†, Ïù¥ Í≤ΩÏö∞ Í∏∞Ï°¥ S3Ïóê Ï†ÄÏû•Îêú Îç∞Ïù¥ÌÑ∞Í∞Ä PG15 Îç∞Ïù¥ÌÑ∞Ïù¥ÎØÄÎ°ú Î≥µÍµ¨Í∞Ä Ïïà Îê† Ïàò ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;p>Ïù¥Îü∞ Í≤ΩÏö∞Îäî OperatorÎ•º ÏÑ§Ïπò ÎãπÏãúÎ°ú Îã§Ïö¥Í∑∏Î†àÏù¥ÎìúÌïòÏó¨ ÎèôÏùº Î≤ÑÏ†ÑÏùò PGÎ•º Ïò¨Î¶∞ ÌõÑ Î≥µÍµ¨ -&amp;gt; ÏóÖÎç∞Ïù¥Ìä∏Î•º ÏßÑÌñâÌïòÍ±∞ÎÇò, ImageÎ•º ÏÑ§Ï†ïÌïòÏó¨ ÎèôÏùº Î©îÏù¥Ï†Ä Î≤ÑÏ†ÑÏùÑ ÏÇ¨Ïö©ÌïòÎäî Î≤ïÏù¥ ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;p>&lt;strong>Í∞ÄÎä•ÌïòÎã§Î©¥, Ïã†Í∑ú ÌÅ¥Îü¨Ïä§ÌÑ∞Î•º ÌïòÎÇò ÎßåÎì§Ïñ¥ Ï†ïÏÉÅ Î≥µÍµ¨Í∞Ä ÎêòÎäîÏßÄ Íº≠ ÌôïÏù∏ÌïòÍ≥†, Ïù¥ÌõÑ Îã§Ïùå ÎÇ¥Ïö©ÏùÑ ÏßÑÌñâÌïòÎäîÍ±∏ Íº≠! Ï∂îÏ≤úÎìúÎ¶ΩÎãàÎã§!!&lt;/strong>&lt;/p>
&lt;h3 id="4-ÌÅ¥Îü¨Ïä§ÌÑ∞-ÏóÖÎç∞Ïù¥Ìä∏">4. ÌÅ¥Îü¨Ïä§ÌÑ∞ ÏóÖÎç∞Ïù¥Ìä∏
&lt;/h3>&lt;p>ÎßàÏù¥ÎÑà ÏóÖÎç∞Ïù¥Ìä∏Ïùò Í≤ΩÏö∞Îäî ÏûêÎèôÏúºÎ°ú ÏßÑÌñâÎêòÎÇò, Î©îÏù¥Ï†Ä Î≤ÑÏ†Ñ ÏóÖÎç∞Ïù¥Ìä∏ÏãúÏóêÎäî Îã§ÏùåÍ≥º Í∞ôÏù¥ ÏßÑÌñâÌïòÎ©¥ Î≥¥?ÌÜµ Î≥ÑÎ¨∏Ï†ú ÏóÜÏùÑÍ≤ÅÎãàÎã§. (15 -&amp;gt; 16 ÏßÑÌñâÌï¥ Î¥Ñ)&lt;/p>
&lt;p>Ïò®ÎùºÏù∏ ÏóÖÎç∞Ïù¥Ìä∏Ïùò Í≤ΩÏö∞Îäî &lt;a class="link" href="https://www.enterprisedb.com/blog/current-state-major-postgresql-upgrades-cloudnativepg-kubernetes" target="_blank" rel="noopener"
>The Current State of Major PostgreSQL Upgrades with CloudNativePG&lt;/a> Î•º Ï∞∏Í≥†ÌïòÏãúÍ≥†,&lt;/p>
&lt;p>Ïò§ÌîÑÎùºÏù∏ ÏóÖÎç∞Ïù¥Ìä∏ (Îã§Ïö¥ÌÉÄÏûÑÏù¥ Î∞úÏÉùÌï¥ÎèÑ Î¨∏Ï†úX) ÎùºÎ©¥&lt;/p>
&lt;ol>
&lt;li>Í∏∞Ï°¥ ÌÅ¥Îü¨Ïä§ÌÑ∞ÏóêÏÑú pg_dumpallÎ°ú Îç∞Ïù¥ÌÑ∞ Îç§ÌîÑ&lt;/li>
&lt;li>Ïã†Í∑ú ÌÅ¥Îü¨Ïä§ÌÑ∞ ÏÉùÏÑ±&lt;/li>
&lt;li>1ÏóêÏÑú Îç§ÌîÑÎú¨ Îç∞Ïù¥ÌÑ∞Î•º 2Ïóê Î∂ÄÏùå&lt;/li>
&lt;li>Í∏∞Ï°¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î•º Î∞îÎùºÎ≥¥Îçò Ïñ¥ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏùÑ Ïã†Í∑ú ÌÅ¥Îü¨Ïä§ÌÑ∞Î•º Î∞îÎùºÎ≥¥ÎèÑÎ°ù Î≥ÄÍ≤Ω&lt;/li>
&lt;li>ÌÖåÏä§Ìä∏ ÌõÑ Í∏∞Ï°¥ ÌÅ¥Îü¨Ïä§ÌÑ∞ ÏÇ≠Ï†ú&lt;/li>
&lt;/ol>
&lt;h3 id="5-ÎØ∏ÏπòÎ©∞">5. ÎØ∏ÏπòÎ©∞
&lt;/h3>&lt;p>Ï†ÄÎäî ÌòÑÏû¨ CNPGÎ•º Ïù¥Ïö©Ìï¥ ÏïΩ 7~8Í∞úÏõîÍ∞Ñ ÏÑúÎ≤ÑÎ•º Ï†ïÏÉÅÏ†ÅÏúºÎ°ú Ïö¥ÏòÅÌïòÍ≥† ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;p>Ï†úÍ∞Ä Ï≤≠ÏÜåÌïòÎã§ ÏÑ†ÏùÑ ÏûêÏ£º ÎπºÎ®πÎäîÍ±∏ Í∞êÏïàÌïòÎ©¥(&amp;hellip;) ÏùºÎ∞òÏ†ÅÏù∏ ÏÉÅÌô©ÏóêÏÑú Ï∂©Î∂ÑÌûà Í≤¨Í≥†Ìïú Postgres DBÎ°ú ÏÇ¨Ïö©Îê† Ïàò ÏûàÍ≥†, Ï†úÍ∞Ä Ïã§ÏàòÎ°ú ÌÅ¥Îü¨Ïä§ÌÑ∞ Ï†ÑÏõêÏùÑ Ï†ÑÎ∂Ä ÎÇ†Î†∏ÏùÑ ÎïåÎèÑ Í∏∞Ï°¥ S3ÏóêÏÑú Í∞ÑÎã®Ìûà Îç∞Ïù¥ÌÑ∞Î•º Î≥µÍµ¨Ìï† Ïàò ÏûàÏñ¥ Ïã†Î¢∞ÏÑ±Ïù¥ ÍΩ§ ÎÜíÏùÄ ÏãúÏä§ÌÖúÏù¥ÎùºÎäî ÏÉùÍ∞ÅÏùÑ ÌïòÏòÄÏäµÎãàÎã§.&lt;/p>
&lt;p>Î¨ºÎ°†, ÎèàÏùò Ïó¨Ïú†Í∞Ä ÏûàÏúºÎ©¥ Í¥ÄÎ¶¨Ìòï RDBÎ•º Ïì∞ÎäîÍ≤å Í∞ÄÏû• Ï¢ãÏùÄ ÏÑ†ÌÉùÏù¥Í≤†ÏäµÎãàÎã§Îßå, Í∏∞Ïà†Ï¶ùÎ™Ö Í≤∏ Ïù¥Îü¨Ìïú ÏãúÏä§ÌÖúÏù¥ ÏûàÎã§Îäî Í≤ÉÎèÑ ÏïåÏïÑÏ£ºÏÖ®ÏúºÎ©¥ Í∞êÏÇ¨ÌïòÍ≤†ÏäµÎãàÎã§!&lt;/p>
&lt;p>Ïù¥ ÏãúÏ†êÏóêÏÑú, ÏÑúÎ≤Ñ Îì±Ïóê ÌïÑÏöîÌïú ÏãúÏä§ÌÖúÏù¥ Î™®Îëê Í∞ñÏ∂∞Ï†∏ Í∞úÎ∞úÏùÑ ÏãúÏûëÌï† Ïàò ÏûàÍ≤å ÎêòÏÖ®ÏùÑ Í≤ÅÎãàÎã§. Í∞ÑÎã®Ìïú Í≤ÉÎ∂ÄÌÑ∞ ÌïòÎÇòÏî© ÎßåÎì§Ïñ¥ Î¥êÏöî.&lt;/p>
&lt;p>Í∑∏Î¶¨Í≥† Ïø†Î≤ÑÎÑ§Ìã∞Ïä§ ÎÇ¥ÏóêÏÑú Ìï¥Îãπ DBÎäî cnpg-lb-rw.cnpg-cluster ÎùºÎäî Ïù¥Î¶ÑÏúºÎ°ú Ï†ëÍ∑ºÌï† Ïàò ÏûàÏäµÎãàÎã§. ÏòàÎ•º Îì§Î©¥ &lt;code>jdbc:postgresql://cnpg-lb-rw.cnpg-cluster:5432/my_app&lt;/code> Ï≤òÎüºÏöî.&lt;/p>
&lt;p>Í∏¥ Í∏Ä ÏùΩÎäêÎùº ÏàòÍ≥† ÎßéÏúºÏÖ®ÏäµÎãàÎã§! Îã§ÏùåÏóî nvidia-device-pluginÏùÑ Ïù¥Ïö©ÌïòÏó¨ K3SÏóêÏÑú GPU ÏÇ¨Ïö© Î≤ïÏùÑ ÏïåÏïÑÎ≥¥Í≤†ÏäµÎãàÎã§!&lt;/p></description></item><item><title>ÏßëÏóêÏÑú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞ Ï∞®Î¶¨Í∏∞ - 8-1. Docker Registry UI ÏÑ§Ï†ï Î∞è Registry GC ÏÇ¨Ïö©Î≤ï</title><link>https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-8-1.-docker-registry-ui-%EC%84%A4%EC%A0%95-%EB%B0%8F-registry-gc-%EC%82%AC%EC%9A%A9%EB%B2%95/</link><pubDate>Sun, 10 Dec 2023 11:39:46 +0900</pubDate><guid>https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-8-1.-docker-registry-ui-%EC%84%A4%EC%A0%95-%EB%B0%8F-registry-gc-%EC%82%AC%EC%9A%A9%EB%B2%95/</guid><description>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-8-1.-docker-registry-ui-%EC%84%A4%EC%A0%95-%EB%B0%8F-registry-gc-%EC%82%AC%EC%9A%A9%EB%B2%95/cover.png" alt="Featured image of post ÏßëÏóêÏÑú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞ Ï∞®Î¶¨Í∏∞ - 8-1. Docker Registry UI ÏÑ§Ï†ï Î∞è Registry GC ÏÇ¨Ïö©Î≤ï" />&lt;h3 id="1-private-registryÎäî-Ï¢ãÏùÄÎç∞-Í¥ÄÎ¶¨ÌïòÍ∏∞Í∞Ä-ÎÑàÎ¨¥-ÍπåÎã§Î°úÏõåÏöî">1. Private RegistryÎäî Ï¢ãÏùÄÎç∞, Í¥ÄÎ¶¨ÌïòÍ∏∞Í∞Ä ÎÑàÎ¨¥ ÍπåÎã§Î°úÏõåÏöî!
&lt;/h3>&lt;p>CLIÎ•º ÏóÑÏ≤≠ Ï¢ãÏïÑÌïòÎäî ÏÇ¨ÎûåÎèÑ ÏûàÏßÄÎßå.. Ï†ÄÎäî Ïª§Îß®Îìú Ïô∏Ïö∞ÎäîÍ±∏ Ï†ïÎßê Î™ª ÌïòÎäî Í≥†Î°ú.. GUIÏôÄ Í∏∞Î°ùÏùÑ ÏÑ†Ìò∏Ìï©ÎãàÎã§.&lt;/p>
&lt;p>Docker RegistryÎèÑ CLIÎ°úÎèÑ Í¥ÄÎ¶¨Í∞Ä Í∞ÄÎä•ÌïòÏßÄÎßå, Ï¢Ä Îçî Ìé∏ÌïòÍ≤å ÌïòÍ∏∞ ÏúÑÌï¥ &lt;a class="link" href="https://github.com/klausmeyer/docker-registry-browser" target="_blank" rel="noopener"
>docker-registry-browser&lt;/a> Î•º ÏÇ¨Ïö©Ìï©ÎãàÎã§.&lt;/p>
&lt;p>Ïù¥Îü∞ ÎäêÎÇåÏùò GUIÎ•º ÏÇ¨Ïö©Ìï† ÏòàÏ†ïÏûÖÎãàÎã§.&lt;/p>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-8-1.-docker-registry-ui-%EC%84%A4%EC%A0%95-%EB%B0%8F-registry-gc-%EC%82%AC%EC%9A%A9%EB%B2%95/image.png"
width="548"
height="647"
loading="lazy"
alt="Alt text"
class="gallery-image"
data-flex-grow="84"
data-flex-basis="203px"
>&lt;/p>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-8-1.-docker-registry-ui-%EC%84%A4%EC%A0%95-%EB%B0%8F-registry-gc-%EC%82%AC%EC%9A%A9%EB%B2%95/image-1.png"
width="532"
height="430"
loading="lazy"
alt="Alt text"
class="gallery-image"
data-flex-grow="123"
data-flex-basis="296px"
>&lt;/p>
&lt;h3 id="2-ÏÑ§Ïπò">2. ÏÑ§Ïπò
&lt;/h3>&lt;p>Í∏∞Ï°¥ docker-registry-systemÏóê Í∞ôÏù¥ ÏÑ§ÏπòÌï©ÎãàÎã§.&lt;/p>
&lt;p>Í∏∞Ï°¥ ÌååÏùº Î∞ëÏóê &amp;mdash; Ï∂îÍ∞Ä ÌõÑ ÏûëÏÑ±Ìï¥ Ï£ºÏÑ∏Ïöî.&lt;/p>
&lt;p>&lt;code>modules/docker-registry-system/deployment.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nn">...&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Í∏∞Ï°¥ deployment&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">apps/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deployment&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-ui-deployment&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">replicas&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">selector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">matchLabels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-ui-app&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">labels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-ui-app&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nodeSelector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">node-type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">worker&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">containers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-ui-pod&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">klausmeyer/docker-registry-browser:1.7.0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">imagePullPolicy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Always&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">http&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">containerPort&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8080&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">envFrom&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">secretRef&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-ui-secrets-sealed-secrets&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>modules/docker-registry-system/service.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nn">...&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Í∏∞Ï°¥ service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-ui-service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">selector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-ui-app&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ClusterIP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">http&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">protocol&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">TCP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetPort&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8080&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>modules/docker-registry-system/ingress.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">traefik.containo.us/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">IngressRoute&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-ui-ingress&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">tls&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">certResolver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">le&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">routes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Rule&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">match&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Host(`UIÎ•º Î≥¥Ïó¨Ï§Ñ URL ÏòàÏãú:docker-ui.lemon.com`)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-ui-service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ï∂îÍ∞ÄÎ°ú Basic Auth ÏÑ§Ï†ïÏùÑ ÏßÑÌñâÌïòÎ†§Î©¥ &lt;a class="link" href="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-7.-sealed-secrets%EB%A5%BC-%ED%86%B5%ED%95%9C-%EB%B9%84%EB%B0%80-%EA%B4%80%EB%A6%AC--traefik-basic-auth-%EC%84%A4%EC%A0%95/" target="_blank" rel="noopener"
>Sealed SecretsÎ•º ÌÜµÌïú ÎπÑÎ∞Ä Í¥ÄÎ¶¨ + Traefik Basic Auth ÏÑ§Ï†ï&lt;/a> ÏùÑ Ï∞∏Í≥†Ìï¥ Ï£ºÏÑ∏Ïöî.&lt;/p>
&lt;p>&lt;code>modules/docker-registry-system/sealed-docker-registry-ui-secrets.yaml&lt;/code>&lt;/p>
&lt;p>sealed secrets GUIÏóê Îì§Ïñ¥Í∞Ä Îã§Ïùå SecretÏùÑ Ï∂îÍ∞ÄÌï©ÎãàÎã§. (Ï∞∏Í≥† Docs &lt;a class="link" href="https://github.com/klausmeyer/docker-registry-browser/blob/master/docs/README.md" target="_blank" rel="noopener"
>Link&lt;/a>)&lt;/p>
&lt;ul>
&lt;li>BASIC_AUTH_USER : registry Î°úÍ∑∏Ïù∏Ïóê ÏÇ¨Ïö©ÌïòÎäî Ïú†Ï†ÄÎ™Ö&lt;/li>
&lt;li>BASIC_AUTH_PASSWORD : Ìå®Ïä§ÏõåÎìú&lt;/li>
&lt;li>DOCKER_REGISTRY_URL : https://&amp;lt;ÎÇ¥Í∞Ä Îì±Î°ùÌïú Registry Ï£ºÏÜå&amp;gt;&lt;/li>
&lt;li>ENABLE_DELETE_IMAGES : true&lt;/li>
&lt;li>SECRET_KEY_BASE : openssl rand -hex 64 Ïã§Ìñâ ÌõÑ ÎÇòÏò® Í∞í&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">bitnami.com/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">SealedSecret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-ui-secrets&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">annotations&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>{}&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">encryptedData&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">BASIC_AUTH_USER&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">afdfads...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">BASIC_AUTH_PASSWORD&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">fadvbads..&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">DOCKER_REGISTRY_URL&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">dfd..&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ENABLE_DELETE_IMAGES&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">afdgd...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">SECRET_KEY_BASE&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">dffdf...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÏÇ¨Ïö©Î≤ïÏùÄ ÏßÅÍ¥ÄÏ†ÅÏù¥ÎØÄÎ°ú, ÏßÅÏ†ë ÏÇ¨Ïö©Ìï¥ Î≥¥Îäî Í≤ÉÏùÑ Ï∂îÏ≤úÎìúÎ¶ΩÎãàÎã§!&lt;/p>
&lt;h3 id="3-registry-gc">3. Registry GC
&lt;/h3>&lt;p>Docker Registry UIÏóêÏÑú Ïù¥ÎØ∏ÏßÄÎ•º ÏßÄÏö∞ÎçîÎùºÎèÑ (ÌòπÏùÄ CLIÎ°ú Ïù¥ÎØ∏ÏßÄÎ•º ÏßÄÏö∞ÎçîÎùºÎèÑ) Ï¶âÏãú ÎîîÏä§ÌÅ¨ Ïö©ÎüâÏù¥ Ï§ÑÏñ¥Îì§ÏßÑ ÏïäÏäµÎãàÎã§.&lt;/p>
&lt;p>Ïù¥Îäî GUI/CLIÏóêÏÑú Ïù¥ÎØ∏ÏßÄÎ•º ÏßÄÏö∏ Îïå, Ïã§Ï†úÎ°ú Î¨ºÎ¶¨Ï†Å ÏÇ≠Ï†úÍ∞Ä ÏùºÏñ¥ÎÇòÎäî Í≤ÉÏù¥ ÏïÑÎãå Ìï¥Îãπ Ïù¥ÎØ∏ÏßÄÏùò ManifestÎßåÏùÑ ÏßÄÏö∞Í∏∞ ÎïåÎ¨∏ÏûÖÎãàÎã§.&lt;/p>
&lt;p>Ïã§Ï†ú Îç∞Ïù¥ÌÑ∞ ÏÇ≠Ï†úÎäî Registry GCÎ•º Î™ÖÏãúÏ†ÅÏúºÎ°ú ÏàòÌñâÌï† Îïå ÏùºÏñ¥ÎÇ©ÎãàÎã§.&lt;/p>
&lt;p>Îçî ÏûêÏÑ∏Ìïú Ïù¥ÏïºÍ∏∞Î•º Ìï† Ïàò ÏûàÏßÄÎßå, Ïò§ÎäòÏùÄ ÏùºÎã® ÏÇ¨Ïö©Ïóê Ï¥àÏ†êÏùÑ ÎßûÏ∂îÍ∏∞Ïóê ÏûêÏÑ∏Ìïú Ïù¥ÏïºÍ∏∞Îäî ÏÉùÎûµÌï©ÎãàÎã§.&lt;/p>
&lt;p>(Í¥ÄÎ†® ÎÇ¥Ïö©Ïù¥ Ï¢Ä Îçî Í∂ÅÍ∏àÌïòÏãúÎ©¥ &lt;a class="link" href="https://blog.naver.com/alice_k106/221530340759" target="_blank" rel="noopener"
>Ìà¨Î™Ö ÏÖÄÎ°úÌåêÏßÄ Ïù¥Î°†ÏùÑ ÌÜµÌïú Overlay FS ÏÇ¨Ïö© Î∞©Î≤ïÍ≥º Ïú†ÎãàÏò® ÎßàÏö¥Ìä∏&lt;/a> ÎùºÎäî Í∏ÄÏùÑ Î®ºÏ†Ä ÏùΩÏùÄ ÌõÑ, Docker registryÏôÄ Ïù¥ÎØ∏ÏßÄ ÏÇ≠Ï†ú Îì±Ïùò ÌÇ§ÏõåÎìúÎ°ú Í≤ÄÏÉâÌï¥ Î≥¥ÏãúÎ©¥ Ï¢ãÏùÑ Í≤É Í∞ôÏäµÎãàÎã§.)&lt;/p>
&lt;ul>
&lt;li>Registry GC ÏßÑÌñâÌïòÍ∏∞&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>!! Ï£ºÏùò! GC ÏßÑÌñâ ÎèÑÏ§ëÏóêÎäî Î†àÌè¨ÏßÄÌÜ†Î¶¨ÏóêÏÑú Pull/PushÍ∞Ä ÏùºÏñ¥ÎÇòÏßÄ ÏïäÏïÑÏïº Ìï©ÎãàÎã§. Ïù¥Î•º Î®ºÏ†Ä ÌôïÏù∏ÌïòÍ≥† ÏûëÏóÖÌï¥ Ï£ºÏÑ∏Ïöî!&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>&lt;code>kubectl get pod -n docker-registry-system&lt;/code> ÏùÑ Ïù¥Ïö©ÌïòÏó¨, RegistryÏùò PodÏùÑ Ï∞æÏïÑ Ï§çÎãàÎã§.&lt;/li>
&lt;li>&lt;code>kubectl exec -it pod/&amp;lt;registry-pod-name&amp;gt; -n docker-registry-system -- /bin/registry garbage-collect /etc/docker/registry/config.yml&lt;/code> ÏùÑ Ïã§ÌñâÌïòÏó¨ GCÎ•º Ïã§ÌñâÌï©ÎãàÎã§.&lt;/li>
&lt;li>Ïù¥ÌõÑ Longhorn DashboardÏóêÏÑú Volume ÏÑ†ÌÉù -&amp;gt; Trim FilesystemÏùÑ ÎàåÎü¨ Actual SizeÎ•º Ïû¨Í≥ÑÏÇ∞Ìï¥Ï§çÎãàÎã§.&lt;/li>
&lt;/ol>
&lt;h3 id="4-ÎßàÏπòÎ©∞">4. ÎßàÏπòÎ©∞
&lt;/h3>&lt;p>Ïù¥Î•º ÌÜµÌï¥ Docker UI, GC Î∞©Î≤ïÏóê ÎåÄÌï¥ ÏïåÏïÑ Î≥¥ÏïòÏäµÎãàÎã§.&lt;/p>
&lt;p>Ïù¥Ï†ú Private Registry Î∞è Í¥ÄÎ¶¨ Î∞©Î≤ïÏù¥ ÏÉùÍ≤ºÏúºÎãà, ÎßàÏùå Ìé∏ÌïòÍ≤å ÏÑúÎ≤ÑÎ•º Í∞úÎ∞ú(?) ÌïòÏÖîÏÑú ÏõêÌïòÏãúÎäî ÏÑúÎ≤ÑÎ•º ÏßëÏñ¥ÎÑ£ÏùÑ Ïàò ÏûàÏäµÎãàÎã§!&lt;/p>
&lt;p>Îã§Ïùå ÏãúÍ∞ÑÏóêÎäî CloudNativePGÎ•º Ïù¥Ïö©ÌïòÏó¨ Ïø†Î≤ÑÎÑ§Ìã∞Ïä§ ÏúÑÏóêÏÑú Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§Î•º Íµ¥Î¶¨Îäî Î∞©Î≤ïÏóê ÎåÄÌï¥ ÏïåÏïÑÎ≥¥Í≤†ÏäµÎãàÎã§.&lt;/p></description></item><item><title>ÏßëÏóêÏÑú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞ Ï∞®Î¶¨Í∏∞ - 8. Private Docker Registry Î∞è Ï†ëÏÜç ID/PW ÏÑ§Ï†ïÌïòÍ∏∞</title><link>https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-8.-private-docker-registry-%EB%B0%8F-%EC%A0%91%EC%86%8D-id/pw-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0/</link><pubDate>Sun, 10 Dec 2023 10:08:50 +0900</pubDate><guid>https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-8.-private-docker-registry-%EB%B0%8F-%EC%A0%91%EC%86%8D-id/pw-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0/</guid><description>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-8.-private-docker-registry-%EB%B0%8F-%EC%A0%91%EC%86%8D-id/pw-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0/cover.png" alt="Featured image of post ÏßëÏóêÏÑú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞ Ï∞®Î¶¨Í∏∞ - 8. Private Docker Registry Î∞è Ï†ëÏÜç ID/PW ÏÑ§Ï†ïÌïòÍ∏∞" />&lt;h3 id="1-ÏÑúÎ°†">1. ÏÑúÎ°†
&lt;/h3>&lt;p>Ïù¥Ïôï Ïù∏ÌîÑÎùº Í∞ñÏ∂òÍ±∞ Private Docker RegistryÎèÑ ÏßÅÏ†ë ÎßåÎì§Ïñ¥ Î¥ÖÏãúÎã§.&lt;/p>
&lt;p>Ï†ÄÏùò Í≤ΩÏö∞Îäî, Ïù¥ÌõÑ Ïù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Ïóê Î≥ÑÎèÑÎ°ú Í∞úÏù∏ ÏÑúÎ≤ÑÎì§ÏùÑ Ïò¨Î†§ ÏÇ¨Ïö©ÌïòÍ≥† ÏûàÏñ¥ Ìï¥Îãπ Ïª®ÌÖåÏù¥ÎÑàÎ•º Í¥ÄÎ¶¨ÌïòÍ∏∞ ÏúÑÌï¥ Private RegistryÎ•º ÏÇ¨Ïö©ÌïòÍ≥† ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;p>ÎßåÏïΩ DockerhubÏóê ÎèàÏùÑ ÏßÄÎ∂àÌï† ÏùòÌñ•Ïù¥ ÏûàÍ±∞ÎÇò, Public ImageÎ°úÎèÑ Ï∂©Î∂ÑÌïòÎã§Î©¥ Ïù¥ Í∞ÄÏù¥ÎìúÎ•º Îî∞Î•¥Ïã§ ÌïÑÏöîÎäî ÏóÜÏäµÎãàÎã§.&lt;/p>
&lt;p>Ï†ÄÌù¨Îäî Private RepoÎ•º ÏÇ¨Ïö©Ìï† Í≤ÉÏù¥Í∏∞ ÎñÑÎ¨∏Ïóê, ID,Password ÏÑ§Ï†ïÎèÑ ÎèôÏãúÏóê ÏßÑÌñâÌï©ÎãàÎã§!&lt;/p>
&lt;h3 id="2-ÏÑ§Ïπò">2. ÏÑ§Ïπò
&lt;/h3>&lt;p>Ïù¥Î≤àÏóêÎèÑ ArgoCDÎ°ú Îπ†Î•¥Í≤å ÏÑ§ÏπòÌï¥Î¥ÖÏãúÎã§!&lt;/p>
&lt;p>&lt;code>modules/docker-registry-system/pvc.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">PersistentVolumeClaim&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-docker-registry-pvc&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">accessModes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">ReadWriteOnce&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">storageClassName&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-ssd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">resources&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">requests&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">storage&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">300Gi&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ï†ÄÏùò Í≤ΩÏö∞ ML ÏÑúÎ≤ÑÎ•º Ïö¥ÏòÅÌï¥ Ïù¥ÎØ∏ÏßÄ ÏÇ¨Ïù¥Ï¶àÍ∞Ä ÌÅ∞ Í¥ÄÍ≥ÑÎ°ú, ÎÑâÎÑâÌïòÍ≤å 300GiÏ†ïÎèÑ Ï§¨ÎäîÎç∞ ÌïÑÏöîÌïòÏãúÎã§Î©¥ ÏàòÏ†ïÌïòÏÖîÏÑú ÏÇ¨Ïö©ÌïòÏãúÎ©¥ Îê©ÎãàÎã§.&lt;/p>
&lt;p>&lt;code>modules/docker-registry-system/service.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">registry-service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">selector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">registry&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">LoadBalancer&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-port&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">protocol&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">TCP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">5000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetPort&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">5000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">loadBalancerIP&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">192.168.0.202&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>modules/docker-registry-system/deployment.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">apps/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deployment&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">registry&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">replicas&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">selector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">matchLabels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">registry&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">labels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">registry&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">registry&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nodeSelector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">node-type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">worker&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">containers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">registry&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">registry:2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">containerPort&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">5000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">env&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">REGISTRY_HTTP_ADDR&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">value&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">0.0.0.0&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">5000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">REGISTRY_AUTH&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">value&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">htpasswd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">REGISTRY_AUTH_HTPASSWD_REALM&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">value&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">REGISTRY_AUTH_HTPASSWD_PATH&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">value&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">/auth/registry.password&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">REGISTRY_STORAGE_DELETE_ENABLED&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">value&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;true&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumeMounts&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">lv-storage&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">mountPath&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">/var/lib/registry&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">subPath&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">registry&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-account-htpasswd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">mountPath&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">/auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">readOnly&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">lv-storage&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">persistentVolumeClaim&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">claimName&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-docker-registry-pvc&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-account-htpasswd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">secret&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">secretName&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-account-htpasswd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>docker-registry-account-htpasswd ÎùºÎäî SecretÏùÑ ÌÜµÌï¥ RegistryÏóêÏÑú ÏÇ¨Ïö©Ìï† ID, PasswordÎ•º ÏßÄÏ†ïÌï©ÎãàÎã§. Ìï¥Îãπ ÎÇ¥Ïö©ÏùÄ Îí§ÏóêÏÑú Îã§Î£®Í≤†ÏäµÎãàÎã§.&lt;/p>
&lt;p>&lt;code>modules/docker-registry-system/sealed-docker-registry-account-htpasswd.yaml&lt;/code>&lt;/p>
&lt;p>Secrets ÏÑ§Ï†ïÏù¥ Ï°∞Í∏à Î≥µÏû°Ìï©ÎãàÎã§. Step By StepÏúºÎ°ú Îî∞ÎùºÏôÄ Î¥ÖÏãúÎã§!&lt;/p>
&lt;ol>
&lt;li>Control NodeÏóêÏÑú &lt;code>htpasswd -Bbn &amp;lt;id&amp;gt; &amp;lt;password&amp;gt;&lt;/code> Î°ú Docker RegistryÏóêÏÑú ÏÇ¨Ïö©Ìï† id/password StringÏùÑ ÏñªÏäµÎãàÎã§.&lt;/li>
&lt;li>Í∏∞Ï°¥ 7-1ÏóêÏÑú ÏÑ§Ï†ïÌïú kubeseal-webguiÎ•º Ïù¥Ïö©ÌïòÏó¨ Ìï¥Îãπ SecretÏùÑ ÏïîÌò∏ÌôîÌï©ÎãàÎã§.
&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-8.-private-docker-registry-%EB%B0%8F-%EC%A0%91%EC%86%8D-id/pw-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0/image.png"
width="1872"
height="354"
loading="lazy"
alt="ÏòàÏãú"
class="gallery-image"
data-flex-grow="528"
data-flex-basis="1269px"
>&lt;/li>
&lt;li>Ìï¥Îãπ SecretÏùÑ sealed-docker-registry-account-htpasswd.yaml Î°ú Î∂ôÏó¨ÎÑ£Í∏∞ Ìï©ÎãàÎã§.&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">bitnami.com/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">SealedSecret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-account-htpasswd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">annotations&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>{}&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">encryptedData&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">registry.password&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">dfadf...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>modules/docker-registry-system/ingress.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">traefik.containo.us/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">IngressRoute&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-ingress&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">tls&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">certResolver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">le&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">routes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Rule&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">match&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Host(`&amp;lt;ÏÇ¨Ïö©Ìï† subdomain&amp;gt;`)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">registry-service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">5000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="3-Ï†ïÏÉÅ-ÏûëÎèô-ÌôïÏù∏">3. Ï†ïÏÉÅ ÏûëÎèô ÌôïÏù∏
&lt;/h3>&lt;p>Ï†ïÏÉÅ ÏûëÎèôÏù¥ ÌôïÏù∏ÎêòÏóàÎã§Î©¥, Ïù¥ÌõÑ Î∞∞Ìè¨Ìï©ÎãàÎã§!&lt;/p>
&lt;p>Î∞∞Ìè¨Í∞Ä ÎêòÏóàÎã§Î©¥, Ï†ïÏÉÅÏ†ÅÏúºÎ°ú id/passwordÎ°ú Î°úÍ∑∏Ïù∏Ïù¥ Ïù¥Î§ÑÏßÄÎäîÏßÄ ÌôïÏù∏Ìï©ÎãàÎã§.&lt;/p>
&lt;p>dockerÍ∞Ä ÍπîÎ†§ÏûàÎäî Í≥≥ÏóêÏÑú ÌÑ∞ÎØ∏ÎÑêÎ°ú Îã§ÏùåÏùÑ Ïã§ÌñâÌï©ÎãàÎã§.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">docker login &amp;lt;my-registry.lemon.com&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ïù¥ÌõÑ id/passwordÎ•º ÏûÖÎ†•ÌïòÍ≥†, Ï†ïÏÉÅ Î°úÍ∑∏Ïù∏Ïù¥ ÎêòÎäîÏßÄ ÌôïÏù∏Ìï©ÎãàÎã§.&lt;/p>
&lt;h3 id="4-private-registryÏóêÏÑú-Ïù¥ÎØ∏ÏßÄ-Î∞õÏïÑÏò§Îäî-Î≤ï">4. Private RegistryÏóêÏÑú Ïù¥ÎØ∏ÏßÄ Î∞õÏïÑÏò§Îäî Î≤ï
&lt;/h3>&lt;p>Ïù¥Ï†ú Id/PasswordÍ∞Ä ÏûàÎäî Private RegistryÏóêÏÑú Ïù¥ÎØ∏ÏßÄÎ•º Pull Ìï¥Ïò§Îäî Î∞©Î≤ïÏùÑ ÏïåÏïÑÏïºÍ≤†Ï£†? Í∑∏ÎûòÏïº Ïò¨Î¶∞ Ïù¥ÎØ∏ÏßÄÎ•º Ïì∏ Ïàò ÏûàÏùÑÌÖåÎãàÍπåÏöî.&lt;/p>
&lt;p>Ï†úÍ∞Ä ÏÇ¨Ïö©ÌïòÎäî Î∞©Î≤ïÏùÑ ÏùºÎã® Ïò¨Î†§ÎìúÎ¶ΩÎãàÎã§. Îçî ÍπîÎÅîÌïú Î∞©Î≤ïÏù¥ ÏûàÏùÑ Í≤É Í∞ôÏùÄÎç∞, ÌòπÏãú ÏûàÎã§Î©¥ ÏïåÎ†§Ï£ºÏÑ∏Ïöî!&lt;/p>
&lt;p>ÎßåÏïΩ auth-server-system Ïù¥ÎùºÎäî namespaceÏóêÏÑú&lt;/p>
&lt;ol>
&lt;li>&lt;code>kubectl create secret docker-registry regcred --docker-server=&amp;lt;your-registry-server&amp;gt; --docker-username=&amp;lt;your-name&amp;gt; --docker-password=&amp;lt;your-pword&amp;gt; --docker-email=&amp;lt;your-email&amp;gt;&lt;/code> ÏùÑ Ïù¥Ïö©ÌïòÏó¨ default NamespaceÏóê regcredÎùºÎäî secretÏùÑ ÎßåÎì≠ÎãàÎã§.&lt;/li>
&lt;li>&lt;code>kubectl get secret regcred --output=yaml &amp;gt; secret.yaml&lt;/code> ÏùÑ Ïù¥Ïö©ÌïòÏó¨ secret.yamlÏóê secret Ï†ïÎ≥¥Î•º Ï†ÄÏû•Ìï©ÎãàÎã§. Ìï¥Îãπ SecretÏùÄ Ïñ¥ÎîòÍ∞ÄÏóê Î∞±ÏóÖÌï¥ Îë°ÎãàÎã§.&lt;/li>
&lt;li>&lt;code>kubectl delete secret regcred&lt;/code> Î•º ÏûÖÎ†•ÌïòÏó¨ default namespaceÏóê ÎßåÎì† secretÏùÑ ÏÇ≠Ï†úÌï©ÎãàÎã§.&lt;/li>
&lt;li>Ïù¥ÌõÑ 2Ïùò SecretÏóê NamespaceÎ•º ÏàòÏ†ïÌïòÏó¨ ÎÇ¥Í∞Ä ÏÇ¨Ïö©Ìï† namespaceÎ°ú Î≥ÄÍ≤ΩÌï©ÎãàÎã§. (ÏòàÏãú : auth-server-system)&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">data&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">.dockerconfigjson&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ddfadf...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Secret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">regcred&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">auth-server-system&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Îß§Î≤à Ïó¨Í∏∞Î•º Î≥ÄÍ≤Ω&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">kubernetes.io/dockerconfigjson&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="5">
&lt;li>Ïù¥ÌõÑ &lt;code>cat secret.yaml | kubeseal --controller-namespace=sealed-secrets-system --controller-name=sealed-secrets -oyaml &amp;gt; sealed-regcred.yaml&lt;/code> Ïª§Îß®ÎìúÎ•º ÏûÖÎ†•ÌïòÏó¨ Sealed SecretÏùÑ ÏÉùÏÑ±Ìï©ÎãàÎã§.&lt;/li>
&lt;li>Sealed regcredÎ•º Î∞∞Ìè¨Ïãú Í∞ôÏù¥ Î∞∞Ìè¨ÌïòÍ≥†, DeploymentÏóê Îã§ÏùåÍ≥º Í∞ôÏù¥ ImagePullSecretÏùÑ Ï∂îÍ∞ÄÌï©ÎãàÎã§.&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">apps/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deployment&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">auth-server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">auth-server-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">replicas&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">selector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">matchLabels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">auth-server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">labels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">auth-server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">auth-server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nodeSelector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">node-type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">worker&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">containers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">auth-server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">registry.lemon.com/auth_server_repository:2023.12.10.1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">imagePullPolicy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Always&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">http&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">containerPort&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">imagePullSecrets&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">regcred&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Ïù¥Í±∏ Ï∂îÍ∞Ä&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="5-ÎßàÏπòÎ©∞">5. ÎßàÏπòÎ©∞
&lt;/h3>&lt;p>Ï∂ïÌïòÌï©ÎãàÎã§! Ïù¥Ï†ú Private Docker Registry Íµ¨Ï∂ïÏùÑ ÏôÑÎ£åÌï¥,&lt;/p>
&lt;p>Id/PasswordÎ•º Ïù¥Ïö©Ìï¥ ÎÇ¥ Ïù¥ÎØ∏ÏßÄÎì§ÏùÑ ÏïàÏ†ÑÌïòÍ≤å ÏßÄÌÇ¨ Ïàò ÏûàÍ≤å ÎêòÏóàÏäµÎãàÎã§!&lt;/p>
&lt;p>Ïù¥Ï†ú Îã§ÏùåÏóî Web UIÎ•º ÌÜµÌï¥ Ïù¥ÎØ∏ÏßÄÎ•º Í¥ÄÎ¶¨ÌïòÎäî Î≤ïÏùÑ ÏïåÎ†§Î≥¥Í≥†, Docker GC Î∞©Î≤ïÏóê ÎåÄÌï¥ ÏïåÏïÑÎ≥¥Í≤†ÏäµÎãàÎã§.&lt;/p></description></item><item><title>ÏßëÏóêÏÑú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞ Ï∞®Î¶¨Í∏∞ - 7-1. Web UIÎ•º ÌÜµÌï¥ Í∞ÑÌé∏ÌïòÍ≤å Sealed Secrets ÎßåÎì§Í∏∞</title><link>https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-7-1.-web-ui%EB%A5%BC-%ED%86%B5%ED%95%B4-%EA%B0%84%ED%8E%B8%ED%95%98%EA%B2%8C-sealed-secrets-%EB%A7%8C%EB%93%A4%EA%B8%B0/</link><pubDate>Sun, 10 Dec 2023 00:41:05 +0900</pubDate><guid>https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-7-1.-web-ui%EB%A5%BC-%ED%86%B5%ED%95%B4-%EA%B0%84%ED%8E%B8%ED%95%98%EA%B2%8C-sealed-secrets-%EB%A7%8C%EB%93%A4%EA%B8%B0/</guid><description>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-7-1.-web-ui%EB%A5%BC-%ED%86%B5%ED%95%B4-%EA%B0%84%ED%8E%B8%ED%95%98%EA%B2%8C-sealed-secrets-%EB%A7%8C%EB%93%A4%EA%B8%B0/cover.png" alt="Featured image of post ÏßëÏóêÏÑú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞ Ï∞®Î¶¨Í∏∞ - 7-1. Web UIÎ•º ÌÜµÌï¥ Í∞ÑÌé∏ÌïòÍ≤å Sealed Secrets ÎßåÎì§Í∏∞" />&lt;h3 id="1-ÏÑúÎ°†">1. ÏÑúÎ°†
&lt;/h3>&lt;p>Sealed Secrets Îã§ Í¥úÏ∞ÆÏùÄÎç∞, Î¨∏Ï†úÍ∞Ä ÌïòÎÇò ÏûàÎã§Î©¥ Îß§Î≤à ÏÑ§Ï†ïÌï† ÎñÑÎßàÎã§ Secrets.yaml ÎßåÎì§Í≥†&amp;hellip; CLIÎ°ú Sealed SecretsÎ°ú Î≥ÄÍ≤ΩÌïú Îí§Ïóê.. GitÏóê Ï∂îÍ∞ÄÌïòÎäîÍ≤å ÎÅùÎÇ¥Ï£ºÍ≤å Í∑ÄÏ∞ÆÎã§Îäî Ï†êÏûÖÎãàÎã§.&lt;/p>
&lt;p>Ïù¥Í±∏ Ï¢Ä Îçî Ìé∏ÌïòÍ≤å ÌïòÍ∏∞ ÏúÑÌï¥ &lt;a class="link" href="https://github.com/Jaydee94/kubeseal-webgui" target="_blank" rel="noopener"
>kubeseal-webgui&lt;/a>Î•º Ïù¥Ïö©Ìï¥ Í∞ÑÎã®Ìûà Web UIÎ•º ÎßåÎì§Ïñ¥ Î≥º ÏòàÏ†ïÏûÖÎãàÎã§.&lt;/p>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-7-1.-web-ui%EB%A5%BC-%ED%86%B5%ED%95%B4-%EA%B0%84%ED%8E%B8%ED%95%98%EA%B2%8C-sealed-secrets-%EB%A7%8C%EB%93%A4%EA%B8%B0/image.png"
width="1865"
height="464"
loading="lazy"
alt="Kubeseal webui, Í∞ÑÎã®Ìûà ÏõπÏóêÏÑú SecretÏùÑ ÏÑ§Ï†ïÌïòÍ≥† Sealed SecretsÎ•º Î∞õÏïÑÏò¨ Ïàò ÏûàÎã§."
class="gallery-image"
data-flex-grow="401"
data-flex-basis="964px"
>&lt;/p>
&lt;h3 id="2-ÏÑ§Ïπò">2. ÏÑ§Ïπò
&lt;/h3>&lt;p>ArgoCDÎ•º Ïù¥Ïö©Ìï¥ Îòê Í∞ÑÎã®Ìûà ÏÑ§ÏπòÌï¥ Î¥ÖÏãúÎã§!&lt;/p>
&lt;p>&lt;code>modules/sealed-secrets-system/kubeseal-webgui.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># https://github.com/Jaydee94/kubeseal-webgui&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argoproj.io/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Application&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">kubeseal-webgui&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argocd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">destination&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sealed-secrets-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;https://kubernetes.default.svc&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">source&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">repoURL&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;https://jaydee94.github.io/kubeseal-webgui&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetRevision&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">5.1.4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">chart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">kubeseal-webgui&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">helm&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">parameters&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">api.url&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">value&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://&amp;lt;web uiÎ•º ÏÇ¨Ïö©Ìï† subdomain ÏòàÏãú:seal.lemon.com&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sealedSecrets.autoFetchCert&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">value&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;true&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sealedSecrets.controllerName&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">value&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sealed-secrets&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sealedSecrets.controllerNamespace&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">value&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sealed-secrets-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">sources&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">project&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">default&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>modules/sealed-secrets-system/ingress.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">traefik.containo.us/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">IngressRoute&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sealed-secrets-ingress&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sealed-secrets-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">tls&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">certResolver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">le&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">routes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Rule&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">match&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Host(`&amp;lt;web uiÎ•º ÏÇ¨Ïö©Ìï† subdomain ÏòàÏãú:seal.lemon.com&amp;gt;`)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">kubeseal-webgui&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8080&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÌïÑÏöîÌïòÎã§Î©¥ Basic AuthÎäî &lt;a class="link" href="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-7.-sealed-secrets%EB%A5%BC-%ED%86%B5%ED%95%9C-%EB%B9%84%EB%B0%80-%EA%B4%80%EB%A6%AC--traefik-basic-auth-%EC%84%A4%EC%A0%95/" target="_blank" rel="noopener"
>Ïù¥Ï†Ñ Í∏Ä&lt;/a>ÏùÑ Ï∞∏Í≥†ÌïòÏó¨ Ï∂îÍ∞ÄÌï©ÎãàÎã§.&lt;/p>
&lt;p>Ïù¥ÌõÑ Ìï¥Îãπ UIÎ•º ÌÜµÌï¥ Í∞ÑÎã®Ìûà Sealed SecretsÎ•º ÎßåÎì§ Ïàò ÏûàÏäµÎãàÎã§!&lt;/p></description></item><item><title>ÏßëÏóêÏÑú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞ Ï∞®Î¶¨Í∏∞ - 7. Sealed SecretsÎ•º ÌÜµÌïú ÎπÑÎ∞Ä Í¥ÄÎ¶¨ + Traefik Basic Auth ÏÑ§Ï†ï</title><link>https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-7.-sealed-secrets%EB%A5%BC-%ED%86%B5%ED%95%9C-%EB%B9%84%EB%B0%80-%EA%B4%80%EB%A6%AC--traefik-basic-auth-%EC%84%A4%EC%A0%95/</link><pubDate>Sun, 10 Dec 2023 00:41:05 +0900</pubDate><guid>https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-7.-sealed-secrets%EB%A5%BC-%ED%86%B5%ED%95%9C-%EB%B9%84%EB%B0%80-%EA%B4%80%EB%A6%AC--traefik-basic-auth-%EC%84%A4%EC%A0%95/</guid><description>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-7.-sealed-secrets%EB%A5%BC-%ED%86%B5%ED%95%9C-%EB%B9%84%EB%B0%80-%EA%B4%80%EB%A6%AC--traefik-basic-auth-%EC%84%A4%EC%A0%95/cover.png" alt="Featured image of post ÏßëÏóêÏÑú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞ Ï∞®Î¶¨Í∏∞ - 7. Sealed SecretsÎ•º ÌÜµÌïú ÎπÑÎ∞Ä Í¥ÄÎ¶¨ + Traefik Basic Auth ÏÑ§Ï†ï" />&lt;h3 id="1-sealed-secrets">1. Sealed Secrets?
&lt;/h3>&lt;p>Ï†ÄÌù¨Îäî ÏßÄÍ∏à GitOpsÎ•º ÌïòÍ≥† ÏûàÏäµÎãàÎã§. Ï¶â GitÏóê ÌÅ¥Îü¨Ïä§ÌÑ∞ÏôÄ Í¥ÄÎ†®Îêú Î™®Îì† ÏÑ§Ï†ïÏùÑ Ïò¨Î¶¨Í≥† ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;p>Í∑∏Îü∞?Îç∞? Ïø†Î≤ÑÎÑ§Ìã∞Ïä§ SecretÏùÄ? ÏïîÌò∏Ìôî Í∏∞Îä•Ïù¥ ÏóÜÏäµÎãàÎã§. base64Î°ú ÎîîÏΩîÎî©ÌïòÎ©¥ ÎàÑÍµ¨ÎÇò ÌèâÎ¨∏ÏúºÎ°ú ÎÇ¥Ïö©ÏùÑ Î≥º Ïàò ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;p>Í∑∏Îü¨Î©¥ GitÏóê?Ïò¨Î¶¨Î©¥?Ïïà?ÎêòÍ≤†Ï£†?&lt;/p>
&lt;p>Ïù¥Îü∞ Î¨∏Ï†úÎ•º Ìï¥Í≤∞ÌïòÍ∏∞ ÏúÑÌï¥ ÎÇòÏò® Í≤ÉÏù¥ Sealed SecretsÏûÖÎãàÎã§.&lt;/p>
&lt;ol>
&lt;li>ÌÅ¥Îü¨Ïä§ÌÑ∞Îäî Ïïî/Î≥µÌò∏Ìôî ÌÇ§Î•º Í∞ÄÏßëÎãàÎã§.&lt;/li>
&lt;li>Ïú†Ï†ÄÎäî GitÏóê ÌååÏùºÏùÑ Ïò¨Î¶¨Í∏∞ Ï†Ñ, Ìï¥Îãπ ÌÅ¥Îü¨Ïä§ÌÑ∞Í∞Ä Í∞ÄÏßÄÍ≥† ÏûàÎäî ÌÇ§Î°ú ÏïîÌò∏ÌôîÎ•º Ìï©ÎãàÎã§.&lt;/li>
&lt;li>GitÏóê ÏïîÌò∏ÌôîÎêú SecretÏù¥ Ïò¨ÎùºÍ∞ëÎãàÎã§. ÎàÑÍµ¨ÎÇò Î≥º Ïàú ÏûàÍ≤†ÏßÄÎßå, Î≥µÌò∏ÌôîÎäî Î∂àÍ∞ÄÎä•Ìï©ÎãàÎã§. Îî∞ÎùºÏÑú ÏïàÏ†ÑÌï©ÎãàÎã§.&lt;/li>
&lt;li>Ïù¥ÌõÑ ArgoCDÎì±ÏúºÎ°ú ÌÅ¥Îü¨Ïä§ÌÑ∞Ïóê Ìï¥Îãπ SecretÏùÑ Îã§Ïãú Î∂àÎü¨Ïò§Î©¥, Sealed Secret Ïª®Ìä∏Î°§Îü¨Í∞Ä ÏïîÌò∏ÌôîÎ•º ÌíÄÏñ¥ ÏûêÎèôÏúºÎ°ú Î≥µÌò∏Ìôî Ìï¥ Ï§çÎãàÎã§.&lt;/li>
&lt;/ol>
&lt;p>Sealed Secrets Github : &lt;a class="link" href="https://github.com/bitnami-labs/sealed-secrets" target="_blank" rel="noopener"
>Link&lt;/a>&lt;/p>
&lt;h3 id="2-sealed-secrets-Ï∂îÍ∞ÄÌïòÍ∏∞">2. Sealed Secrets Ï∂îÍ∞ÄÌïòÍ∏∞
&lt;/h3>&lt;p>ArgoCDÎ•º ÌÜµÌï¥ ÏàúÏãùÍ∞ÑÏóê Î∞∞Ìè¨Î•º Ìï¥ÏπòÏõå Î¥ÖÎãàÎã§!&lt;/p>
&lt;p>&lt;code>apps/enabled/sealed-secrets-system.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argoproj.io/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Application&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sealed-secrets-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argocd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">destination&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sealed-secrets-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;https://kubernetes.default.svc&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">source&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">path&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">modules/sealed-secrets-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">repoURL&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;git@github.com:&amp;lt;YourOrganizationName&amp;gt;/&amp;lt;YourRepositoryName&amp;gt;.git&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetRevision&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">HEAD&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">project&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">default&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>modules/sealed-secrets-system/sealed-secrets.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argoproj.io/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Application&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sealed-secrets&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argocd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">destination&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sealed-secrets-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;https://kubernetes.default.svc&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">source&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">repoURL&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;https://bitnami-labs.github.io/sealed-secrets&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetRevision&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">2.13.3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">chart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sealed-secrets&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">helm&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">releaseName&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sealed-secrets&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">project&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">default&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ïù¥ÌõÑ Î∞∞Ìè¨Î•º ÏßÑÌñâÌï©ÎãàÎã§.&lt;/p>
&lt;p>Ïù¥ÌõÑÎ°úÎäî, Îã§Ïùå Ïª§Îß®ÎìúÎ•º Ïù¥Ïö©ÌïòÏó¨ kubeseal Ïª§Îß®ÎìúÎùºÏù∏ ÎèÑÍµ¨Î•º ÏÑ§ÏπòÌï©ÎãàÎã§.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">KUBESEAL_VERSION&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;0.23.0&amp;#39;&lt;/span> &lt;span class="c1">#2023.12 Í∏∞Ï§Ä ÏµúÏã†Î≤ÑÏ†Ñ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget &lt;span class="s2">&amp;#34;https://github.com/bitnami-labs/sealed-secrets/releases/download/v&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">KUBESEAL_VERSION&lt;/span>&lt;span class="p">:?&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">/kubeseal-&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">KUBESEAL_VERSION&lt;/span>&lt;span class="p">:?&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">-linux-arm64.tar.gz&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tar -xvzf kubeseal-&lt;span class="si">${&lt;/span>&lt;span class="nv">KUBESEAL_VERSION&lt;/span>&lt;span class="p">:?&lt;/span>&lt;span class="si">}&lt;/span>-linux-arm64.tar.gz kubeseal
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo install -m &lt;span class="m">755&lt;/span> kubeseal /usr/local/bin/kubeseal
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>secret.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Secret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mysecret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mynamespace&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">data&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">users&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">bGVtb246JGFwcjEkL0ZYczZGam0kMkpJZWNlQy45UWc5QjV5NUw2TzVoMAoK&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Îã§ÏùåÍ≥º Í∞ôÏùÄ Ïª§Îß®ÎìúÎ°ú, Sealed SecretsÎ•º ÏÉùÏÑ± ÌõÑ Îì±Î°ùÌï† Ïàò ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">cat secret.yaml &lt;span class="p">|&lt;/span> kubeseal --controller-namespace&lt;span class="o">=&lt;/span>kube-sealed-secrets-system --controller-name&lt;span class="o">=&lt;/span>sealed-secrets -oyaml &amp;gt; sealed-secrets.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="3-sealed-secrets-Ïù¥Ïö©ÌïòÏó¨-basic-auth-Îì±Î°ùÌï¥Î≥¥Í∏∞">3. Sealed Secrets Ïù¥Ïö©ÌïòÏó¨ Basic Auth Îì±Î°ùÌï¥Î≥¥Í∏∞
&lt;/h3>&lt;p>Basic AuthÎäî ÏóÑÏ≤≠ ÏóÑÏ≤≠ Í∞ÑÎã®Ìûà ÎßêÌïòÎ©¥, ID Password Î°úÍ∑∏Ïù∏ÏûÖÎãàÎã§.&lt;/p>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-7.-sealed-secrets%EB%A5%BC-%ED%86%B5%ED%95%9C-%EB%B9%84%EB%B0%80-%EA%B4%80%EB%A6%AC--traefik-basic-auth-%EC%84%A4%EC%A0%95/image.png"
width="310"
height="231"
loading="lazy"
alt="Ïù¥Îü∞ Í±∞ (Id, passsword Î°úÍ∑∏Ïù∏)"
class="gallery-image"
data-flex-grow="134"
data-flex-basis="322px"
>&lt;/p>
&lt;p>Longhorn DashboardÎ•º Ïô∏Î∂Ä Ïù∏ÌÑ∞ÎÑ∑ÏóêÏÑúÎèÑ Ï†ëÍ∑ºÌï† Ïàò ÏûàÍ≤å IngressÎ•º ÏÑ§Ï†ïÌïòÍ≥†, Id/Password Î°úÍ∑∏Ïù∏ÏùÑ Î∂ôÏó¨ Î¥ÖÏãúÎã§! (Control01ÏóêÏÑú ÏßÑÌñâ)&lt;/p>
&lt;ol>
&lt;li>&lt;code>apt install apache2-utils&lt;/code> Ïã§ÌñâÌïòÏó¨ htpasswd Ïª§Îß®ÎìúÎ•º ÏÇ¨Ïö©Ìï† Ïàò ÏûàÎèÑÎ°ù Ìï©ÎãàÎã§.&lt;/li>
&lt;li>&lt;code>htpasswd -nb &amp;lt;id&amp;gt; &amp;lt;password&amp;gt; | openssl base64&lt;/code> Î•º Ïù¥Ïö©ÌïòÏó¨, id,passwordÍ∞Ä Îã¥Í∏¥ Secret StringÏùÑ ÏñªÏäµÎãàÎã§.&lt;/li>
&lt;li>ÏïÑÎ¨¥ ÌÖçÏä§Ìä∏ Ìé∏ÏßëÍ∏∞Î°ú secret.yamlÏùÑ ÏÉùÏÑ±ÌïòÍ≥†, Îã§ÏùåÏùÑ Ï∞∏Í≥†ÌïòÏó¨ SecretÏùÑ Ï∂îÍ∞ÄÌï©ÎãàÎã§.&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Secret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system-basic-auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">data&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">users&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">&amp;lt;2ÏóêÏÑú ÏñªÏùÄ String&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>4.&lt;code>cat secret.yaml | kubeseal --controller-namespace=sealed-secrets-system --controller-name=sealed-secrets -oyaml &amp;gt; sealed-secrets.yaml&lt;/code> Î•º ÏûÖÎ†•ÌïòÏó¨ sealed-secrets.yaml ÏùÑ ÏñªÏäµÎãàÎã§.
5. Îã§ÏùåÏùÑ Ï∞∏Í≥†ÌïòÏó¨ ingressÎ•º Îì±Î°ùÌï©ÎãàÎã§.&lt;/p>
&lt;p>&lt;code>modules/longhorn-system/ingress.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">traefik.containo.us/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">IngressRoute&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-dashboard&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">tls&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">certResolver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">le&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">routes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Rule&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">match&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Host(`&amp;lt;ÏõêÌïòÎäî subdomain, ÏòàÏãú:longhorn.lemon.com&amp;gt;`)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">middlewares&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">basic-auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-frontend&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">traefik.containo.us/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Middleware&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">basic-auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">basicAuth&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">secret&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system-basic-auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>modules/longhorn-system/sealed-basic-auth-secret.yaml&lt;/code> ÏóêÎäî, Î∞©Í∏à ÏÉùÏÑ±Ìïú sealed-secrets.yamlÏùÑ Î≥µÏÇ¨ Î∂ôÏó¨ÎÑ£Í∏∞ Ìï¥ Ï§çÏãúÎã§.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">bitnami.com/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">SealedSecret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">creationTimestamp&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system-basic-auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">encryptedData&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">users&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">adfasdflavasdlfj...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">creationTimestamp&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system-basic-auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="6">
&lt;li>Ïù¥ÌõÑ Î∞∞Ìè¨Î•º ÏßÑÌñâÌï¥ Ï§çÎãàÎã§.&lt;/li>
&lt;li>Ïù¥ÌõÑ Ï†ëÏÜçÌïòÎ©¥ Ï†ïÏÉÅÏ†ÅÏúºÎ°ú id/password ÌôïÏù∏ Ï∞ΩÏù¥ Îú®Î©∞, Î°úÍ∑∏Ïù∏ÏùÑ ÌïòÏßÄ ÏïäÏúºÎ©¥ Ìï¥Îãπ ÌéòÏù¥ÏßÄÍ∞Ä Î≥¥Ïù¥ÏßÄ ÏïäÏäµÎãàÎã§!&lt;/li>
&lt;/ol>
&lt;h3 id="3-Î∞±ÏóÖ-Î∞è-Î≥µÍµ¨">3. Î∞±ÏóÖ Î∞è Î≥µÍµ¨
&lt;/h3>&lt;p>Ïù¥Ï†ú Ïö∞Î¶¨Îäî GitÏóê Secret Í∞ôÏùÄ ÎØºÍ∞ê Ï†ïÎ≥¥ÎèÑ Ï†ÄÏû•Ìï† Ïàò ÏûàÍ≤å ÎêòÏóàÏäµÎãàÎã§!&lt;/p>
&lt;p>Í∑ºÎç∞ Îã§ Ï¢ãÏùÄÎç∞, ÌÅ¥Îü¨Ïä§ÌÑ∞Í∞Ä Î∞ïÏÇ¥ÎÇòÏÑú Î≥µÌò∏Ìôî ÌÇ§Î•º ÏûÉÏñ¥Î≤ÑÎ¶¨Î©¥ Ïö∞Î¶¨ÎèÑ ÎπÑÎ∞ÄÏùÑ ÌíÄ Ïàò ÏóÜÍ≤å ÎêòÏñ¥Î≤ÑÎ¶¨Í≤†Ï£†?&lt;/p>
&lt;p>Îî∞ÎùºÏÑú, Ïïî/Î≥µÌò∏Ìôî ÌÇ§Î•º &lt;strong>Î∞òÎìúÏãú&lt;/strong> Î∞±ÏóÖÌï¥Ïïº Ìï©ÎãàÎã§!&lt;/p>
&lt;ul>
&lt;li>Î∞±ÏóÖ Î∞©Î≤ï&lt;/li>
&lt;/ul>
&lt;ol>
&lt;li>&lt;code>kubectl get secret -n sealed-secrets-system -l sealedsecrets.bitnami.com/sealed-secrets-key -o yaml &amp;gt;master.key&lt;/code> Î•º ÏûÖÎ†•ÌïòÏó¨ mater.keyÎ•º Ïñ¥ÎîòÍ∞ÄÏóê Íº≠ Î∞±ÏóÖÌï¥ Îë°ÎãàÎã§.&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>Î≥µÍµ¨ Î∞©Î≤ï&lt;/li>
&lt;/ul>
&lt;ol>
&lt;li>Î∞©Í∏à Î∞±ÏóÖÌñàÎçò master.keyÎ•º ÌÅ¥Îü¨Ïä§ÌÑ∞Ïóê Î≥µÏÇ¨ÌïòÍ≥†, &lt;code>kubectl apply -f master.key&lt;/code> Î•º ÏûÖÎ†•ÌïòÏó¨ master keyÎ•º Îì±Î°ùÌï©ÎãàÎã§.&lt;/li>
&lt;li>sealed-secrets-systemÏóê Ï°¥Ïû¨ÌïòÎäî Pod ÌïòÎÇòÎ•º Ï£ΩÏó¨ÏÑú ÏÉà KeyÎ•º ÏùΩÍ≤å ÎßåÎì≠ÎãàÎã§. (ArgoCDÏóêÏÑú Í∞ÑÌé∏ÌïòÍ≤å Í∞ÄÎä•)&lt;/li>
&lt;/ol>
&lt;h3 id="4-ÎßàÏπòÎ©∞">4. ÎßàÏπòÎ©∞
&lt;/h3>&lt;p>Ï†ÄÌù¨Îäî Ïù¥Ï†ú Sealed SecretsÎ•º ÌÜµÌï¥ GitÏóê Î™®Îì† Îç∞Ïù¥ÌÑ∞Î•º Ï†ÄÏû•Ìï† Ïàò ÏûàÍ≤å ÎêòÏóàÍ≥†,&lt;/p>
&lt;p>Traefik Basic AuthÎ•º Ïù¥Ïö©Ìï¥ ÎÇ¥Î∂Ä ÏÑúÎπÑÏä§Î•º Ïô∏Î∂ÄÏóê (ÏµúÏÜåÌïúÏùò Î≥¥ÏïàÏùÑ Í∞ñÏ∂∞) Í≥µÍ∞úÌï† Ïàò ÏûàÍ≤å ÎêòÏóàÏäµÎãàÎã§!&lt;/p>
&lt;p>Í∑∏Îüº Îã§Ïùå ÏãúÍ∞ÑÏóêÎäî, Private Docker RegistryÎ•º Íµ¨Ï∂ïÌïòÎäî Î≤ïÏùÑ ÏïåÏïÑÎ≥¥Í≤†ÏäµÎãàÎã§!&lt;/p></description></item><item><title>ÏßëÏóêÏÑú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞ Ï∞®Î¶¨Í∏∞ - 6. Î∂ÑÏÇ∞ Ïä§ÌÜ†Î¶¨ÏßÄ Ï∂îÍ∞Ä Î∞è LonghornÏùÑ ÌÜµÌïú Ï†úÍ≥µÌïòÍ∏∞</title><link>https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-6.-%EB%B6%84%EC%82%B0-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-%EC%B6%94%EA%B0%80-%EB%B0%8F-longhorn%EC%9D%84-%ED%86%B5%ED%95%9C-%EC%A0%9C%EA%B3%B5%ED%95%98%EA%B8%B0/</link><pubDate>Sat, 09 Dec 2023 10:48:57 +0900</pubDate><guid>https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-6.-%EB%B6%84%EC%82%B0-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-%EC%B6%94%EA%B0%80-%EB%B0%8F-longhorn%EC%9D%84-%ED%86%B5%ED%95%9C-%EC%A0%9C%EA%B3%B5%ED%95%98%EA%B8%B0/</guid><description>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-6.-%EB%B6%84%EC%82%B0-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-%EC%B6%94%EA%B0%80-%EB%B0%8F-longhorn%EC%9D%84-%ED%86%B5%ED%95%9C-%EC%A0%9C%EA%B3%B5%ED%95%98%EA%B8%B0/cover.png" alt="Featured image of post ÏßëÏóêÏÑú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞ Ï∞®Î¶¨Í∏∞ - 6. Î∂ÑÏÇ∞ Ïä§ÌÜ†Î¶¨ÏßÄ Ï∂îÍ∞Ä Î∞è LonghornÏùÑ ÌÜµÌïú Ï†úÍ≥µÌïòÍ∏∞" />&lt;h3 id="1-Ïã†Í∑ú-ÎîîÏä§ÌÅ¨-Ï∂îÍ∞Ä-Î∞è-ÎßàÏö¥Ìä∏">1. Ïã†Í∑ú ÎîîÏä§ÌÅ¨ Ï∂îÍ∞Ä Î∞è ÎßàÏö¥Ìä∏
&lt;/h3>&lt;ul>
&lt;li>Ìï¥Îãπ ÎÇ¥Ïö©ÏùÄ ÏùºÎ∞òÏ†ÅÏù∏ SSD / HDD ÎßàÏö¥Ìä∏ÏôÄ ÎèôÏùºÌï©ÎãàÎã§! Î≠îÍ∞Ä Ïûò Ïïà ÎêúÎã§Î©¥, &lt;code>Ïö∞Î∂ÑÌà¨ ÌïòÎìúÎîîÏä§ÌÅ¨ ÎßàÏö¥Ìä∏&lt;/code> Îì±ÏùÑ Í≤ÄÏÉâÌïòÏÖîÏÑú Îî∞ÎùºÌï¥ÎèÑ Î¨¥Î∞©Ìï©ÎãàÎã§!&lt;/li>
&lt;/ul>
&lt;ol>
&lt;li>
&lt;p>SSD, HDDÎ•º ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥Ïóê Ïó∞Í≤∞Ìï©ÎãàÎã§.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>sudo fdisk -l&lt;/code> Ïª§Îß®ÎìúÎ•º ÏûÖÎ†•ÌïòÏó¨, ÎßàÏö¥Ìä∏Ìïú ÌïòÎìú ÎîîÏä§ÌÅ¨Ïùò Ïù¥Î¶ÑÏùÑ Ï∞æÏäµÎãàÎã§. Ï†ú Í≤ΩÏö∞ &lt;code>/dev/sda&lt;/code>ÏûÖÎãàÎã§.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-6.-%EB%B6%84%EC%82%B0-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-%EC%B6%94%EA%B0%80-%EB%B0%8F-longhorn%EC%9D%84-%ED%86%B5%ED%95%9C-%EC%A0%9C%EA%B3%B5%ED%95%98%EA%B8%B0/image.png"
width="534"
height="287"
loading="lazy"
alt="ÎßàÏö¥Ìä∏Îêú ÌïòÎìúÎîîÏä§ÌÅ¨ ÎÇ¥Ïö©"
class="gallery-image"
data-flex-grow="186"
data-flex-basis="446px"
>&lt;/p>
&lt;ol start="3">
&lt;li>&lt;code>sudo wipefs -a /dev/&amp;lt;Î∞©Í∏à ÌôïÏù∏Ìïú ÎîîÏä§ÌÅ¨&amp;gt;&lt;/code> Î•º ÏûÖÎ†•ÌïòÏó¨ Ï£ºÏùòÌïòÏó¨ ÎîîÏä§ÌÅ¨Î•º Ìè¨Îß∑Ìï©ÎãàÎã§. (ÏòàÏãú : &lt;code>sudo wipefs -a /dev/sda&lt;/code>)&lt;/li>
&lt;li>&lt;code>sudo mkfs.ext4 /dev/&amp;lt;Î∞©Í∏à ÌôïÏù∏Ìïú ÎîîÏä§ÌÅ¨&amp;gt;&lt;/code> Î•º ÏûÖÎ†•ÌïòÏó¨ ÎîîÏä§ÌÅ¨Î•º ext4 Ìè¨Îß∑ÏúºÎ°ú ÎßåÎì≠ÎãàÎã§.&lt;/li>
&lt;li>&lt;code>sudo blkid -s UUID -o value /dev/&amp;lt;Î∞©Í∏à ÌôïÏù∏Ìïú ÎîîÏä§ÌÅ¨&amp;gt;&lt;/code> Î•º ÏûÖÎ†•ÌïòÏó¨, Ìï¥Îãπ ÎîîÏä§ÌÅ¨Ïùò Í≥†Ïú† ID (680dfccb-9d8f-431c-ab3b-8c1e6c86e04f ÌòïÌÉú)Î•º Î∞õÏïÑÏòµÎãàÎã§.&lt;/li>
&lt;li>&lt;code>sudo mkdir /storage-ssd&lt;/code> (ÏúÑÏπòÎäî ÏûêÏú†, Ï†ÄÎäî Ìé∏ÏùòÏÉÅ RootÏóê &lt;code>/storage-ssd&lt;/code> ÎùºÎäî Ìè¥ÎçîÏóê ÎßàÏö¥Ìä∏ÌñàÏäµÎãàÎã§.) Î°ú ÎßàÏö¥Ìä∏Ìï† Ìè¥ÎçîÎ•º ÏÉùÏÑ±Ìï©ÎãàÎã§.&lt;/li>
&lt;li>sudo Í∂åÌïúÏúºÎ°ú &lt;code>/etc/fstab&lt;/code>ÏùÑ Ïó¥Ïñ¥ Ï†úÏùº ÎßàÏßÄÎßâ Ï§ÑÏóê &lt;code>UUID=7cf3fc21-74d6-4c01-a835-f8bd36bc3f7b /storage-ssd ext4 defaults 0 0&lt;/code>Î•º Ï∂îÍ∞ÄÌï©ÎãàÎã§. (6Î≤àÏóêÏÑú ÏÉùÏÑ±Ìïú Ìè¥ÎçîÏóê ÎßàÏö¥Ìä∏)&lt;/li>
&lt;li>&lt;code>sudo mount -a&lt;/code>Î•º ÌÜµÌï¥ Î∞©Í∏à Îì±Î°ùÌïú ÎîîÏä§ÌÅ¨Î•º ÎßàÏö¥Ìä∏Ìï©ÎãàÎã§.&lt;/li>
&lt;/ol>
&lt;h3 id="2-Ïã†Í∑ú-ÎîîÏä§ÌÅ¨-longhorn-Îì±Î°ù">2. Ïã†Í∑ú ÎîîÏä§ÌÅ¨ Longhorn Îì±Î°ù
&lt;/h3>&lt;p>Ïù¥Ï†ú ÏÉàÎ°úÏö¥ ÎîîÏä§ÌÅ¨Î•º LonghornÏóê Îì±Î°ùÌï¥ Î¥ÖÏãúÎã§!&lt;/p>
&lt;ol>
&lt;li>ÏïÑÍπå ÏÑ§Ï†ïÌïú Î°úÎìúÎ∞∏Îü∞ÏÑú ip (&lt;code>http://192.168.0.201/&lt;/code>) Î•º Î∏åÎùºÏö∞Ï†ÄÎ°ú Îì§Ïñ¥Í∞ëÎãàÎã§.&lt;/li>
&lt;li>Node -&amp;gt; Ìï¥Îãπ Node ÏÑ†ÌÉù -&amp;gt; Edit Node and disksÎ•º ÏÑ†ÌÉùÌï©ÎãàÎã§.&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-6.-%EB%B6%84%EC%82%B0-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-%EC%B6%94%EA%B0%80-%EB%B0%8F-longhorn%EC%9D%84-%ED%86%B5%ED%95%9C-%EC%A0%9C%EA%B3%B5%ED%95%98%EA%B8%B0/image-1.png"
width="1869"
height="545"
loading="lazy"
alt="Longhorn ÏÑ§Ï†ï Ïä§ÌÅ¨Î¶∞ÏÉ∑, Edit Node and disks"
class="gallery-image"
data-flex-grow="342"
data-flex-basis="823px"
>&lt;/p>
&lt;ol start="3">
&lt;li>
&lt;p>disk tagÏóê StorageClassÏãú ÏÑ§Ï†ïÌïú &lt;code>diskSelector&lt;/code> Í≥º Í∞ôÏùÄ ÌÉúÍ∑∏Î•º ÏûÖÎ†•Ìï¥ Ìï¥Îãπ ÎîîÏä§ÌÅ¨Í∞Ä Ìï¥Îãπ StorageClassÏóê ÏÜçÌïúÎã§Îäî Í≤ÉÏùÑ ÏïåÎ†§Ï§çÎãàÎã§. Ïù¥ÌõÑ PathÎ•º ÏúÑÏóêÏÑú ÏÑ§Ï†ïÌïú Mount Ìè¥ÎçîÎ°ú ÏßÄÏ†ïÌï©ÎãàÎã§.
&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-6.-%EB%B6%84%EC%82%B0-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-%EC%B6%94%EA%B0%80-%EB%B0%8F-longhorn%EC%9D%84-%ED%86%B5%ED%95%9C-%EC%A0%9C%EA%B3%B5%ED%95%98%EA%B8%B0/image-2.png"
width="820"
height="602"
loading="lazy"
alt="Longhorn ÏÑ§Ï†ï Ïä§ÌÅ¨Î¶∞ÏÉ∑"
class="gallery-image"
data-flex-grow="136"
data-flex-basis="326px"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Ïù¥ÌõÑ Ï†ÄÏû•ÏùÑ ÎàÑÎ•¥Í≥†, Ï†ïÏÉÅÏ†ÅÏúºÎ°ú Î≥ºÎ•®Ïù¥ Ïù∏ÏãùÎêòÎäîÏßÄ ÌôïÏù∏Ìï©ÎãàÎã§.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h3 id="3-ÎßàÏπòÎ©∞">3. ÎßàÏπòÎ©∞
&lt;/h3>&lt;p>ÏàòÍ≥†ÌïòÏÖ®ÏäµÎãàÎã§! Ïù¥Ï†ú LonghornÏùÑ Ïù¥Ïö©Ìï¥ Ïù¥ÌõÑÏùò Ïñ¥ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏóê ÏïàÏ†ïÏ†ÅÏúºÎ°ú Î∂ÑÏÇ∞ Ïä§ÌÜ†Î¶¨ÏßÄ ÏãúÏä§ÌÖúÏùÑ Í≥µÍ∏âÌï† Ïàò ÏûàÍ≤å ÎêòÏóàÏäµÎãàÎã§!&lt;/p>
&lt;p>Ïù¥ Îã§ÏùåÏúºÎ°† Sealed SecretsÎ•º ÌÜµÌï¥ Ìå®Ïä§ÏõåÎìú Îì±Ïùò ÎØºÍ∞êÏ†ïÎ≥¥Î•º GitÏùÑ ÌÜµÌï¥ Í¥ÄÎ¶¨ÌïòÎäî Î≤ïÏùÑ ÏïåÏïÑÎ≥¥Í≥†, Í∑∏ Îã§Ïùå Private Docker RegistryÎ•º Íµ¨ÌòÑÌï¥ Î≥º ÏòàÏ†ïÏûÖÎãàÎã§.&lt;/p>
&lt;p>Í∞êÏÇ¨Ìï©ÎãàÎã§!&lt;/p></description></item><item><title>ÏßëÏóêÏÑú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞ Ï∞®Î¶¨Í∏∞ - 5. ArgoCD GitOps ÏÑ§Ï†ï Î∞è Longhorn ÏÑ§Ïπò</title><link>https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-5.-argocd-gitops-%EC%84%A4%EC%A0%95-%EB%B0%8F-longhorn-%EC%84%A4%EC%B9%98/</link><pubDate>Sat, 09 Dec 2023 09:16:13 +0900</pubDate><guid>https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-5.-argocd-gitops-%EC%84%A4%EC%A0%95-%EB%B0%8F-longhorn-%EC%84%A4%EC%B9%98/</guid><description>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-5.-argocd-gitops-%EC%84%A4%EC%A0%95-%EB%B0%8F-longhorn-%EC%84%A4%EC%B9%98/cover.png" alt="Featured image of post ÏßëÏóêÏÑú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞ Ï∞®Î¶¨Í∏∞ - 5. ArgoCD GitOps ÏÑ§Ï†ï Î∞è Longhorn ÏÑ§Ïπò" />&lt;h3 id="1-gitops-ÏãúÏûë">1. GitOps ÏãúÏûë
&lt;/h3>&lt;p>Ïù¥Ï†ú ArgoCDÎ•º ÏÑ§ÏπòÌïòÏòÄÏúºÎãà, Î¶¨Ìè¨ÏßÄÌÜ†Î¶¨ Íµ¨Ï°∞Î•º Ï†ïÎ¶¨Ìï¥ Î¥ÖÏãúÎã§.&lt;/p>
&lt;p>Ï†ÄÌù¨Îäî App On Apps Ìå®ÌÑ¥ÏùÑ Ïù¥Ïö©ÌïòÏó¨ Í∞ÑÍ≤∞Ìïú Î∞∞Ìè¨ Î∞©Î≤ïÏùÑ ÎßåÎì§Ïñ¥ Î≥º Í≤ÉÏûÖÎãàÎã§.&lt;/p>
&lt;p>Ïù¥Ìï¥Í∞Ä ÎêòÏßÄ ÏïäÎçîÎùºÎèÑ ÏùºÎã® Îî∞ÎùºÏôÄ Ï£ºÏÑ∏Ïöî.&lt;/p>
&lt;p>ÏßÄÎÇú ÏãúÍ∞ÑÏóê ÎßåÎì† Îπà Î†àÌè¨ÏßÄÌÜ†Î¶¨Î•º Îã§ÏùåÍ≥º Í∞ôÏùÄ Íµ¨Ï°∞Î°ú ÎßåÎì§Ïñ¥ Ï£ºÏÑ∏Ïöî.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">/apps
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> „Ñ¥/disabled
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> „Ñ¥/enabled
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/init
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/modules
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ïù¥ÌõÑ, init Ìè¥ÎçîÏóê Ïù¥Ï†ÑÏóê ÏûëÏóÖÌñàÎçò ip_address_pool.yaml, (argoCDÏùò) ingress.yaml, traefik-update.yaml, values.yamlÏùÑ Ï†ÑÎ∂Ä Ï∂îÍ∞ÄÌï©ÎãàÎã§.&lt;/p>
&lt;p>GitÏóê ÏµúÏ¥à ÏÑ§Ï†ï ÎãπÏãúÏùò ÌååÏùºÎì§ÏùÑ Ï†ÄÏû•Ìï¥ Îë†ÏúºÎ°úÏç®, Ïù¥ÌõÑ ÌÅ¥Îü¨Ïä§ÌÑ∞Î•º Î≥µÍµ¨Ìï¥Ïïº ÌïòÎäî ÏÉÅÌô©ÏóêÏÑú Îπ†Î•¥Í≤å Ìï¥Îãπ ÏÑ§Ï†ï ÌååÏùºÎì§ÏùÑ &lt;code>kubectl -f ÌååÏùºÎ™Ö&lt;/code> ÏúºÎ°ú Ï†ÅÏö©ÌïòÍ∏∞ ÏúÑÌï¥ÏÑúÏûÖÎãàÎã§.&lt;/p>
&lt;p>ÏïÑÎûòÏôÄ Í∞ôÏù¥ ÌååÏùºÎì§ÏùÑ Ï∂îÍ∞ÄÌïòÍ≥†, README.mdÎ•º ÌïòÎÇò Ï∂îÍ∞ÄÌï¥ÏÑú ÏßÄÍ∏àÍπåÏßÄ Ïñ¥Îñ§ ÏûëÏóÖÏùÑ ÌñàÎäîÏßÄ Ï†ÅÏñ¥ÎëêÎ©¥, ÌÅ¥Îü¨Ïä§ÌÑ∞Í∞Ä Î¨∏Ï†úÍ∞Ä ÏÉùÍ≤ºÏùÑ Îïå Î≥µÍµ¨Ïãú ÌÅ∞ ÎèÑÏõÄÏù¥ Îê©ÎãàÎã§. README.mdÎäî ÏßÅÏ†ë ÏûëÏÑ±Ìï¥ Ï£ºÏÑ∏Ïöî!&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">/init
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> „Ñ¥ ip_address_pool.yaml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> „Ñ¥ ingress.yaml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> „Ñ¥ traefik-update.yaml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> „Ñ¥ values.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ïù¥ÌõÑ, init Ìè¥Îçî ÏïàÏóê Îã§Ïùå yaml ÌååÏùºÏùÑ Ï∞∏Ï°∞Ìï¥ root-app.yamlÏùÑ Ï∂îÍ∞ÄÌï©ÎãàÎã§.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argoproj.io/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Application&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">&amp;lt;Ï¢ãÏïÑÌïòÎäî ÏïÑÎ¨¥ Ïù¥Î¶Ñ (Ï†ú Í≤ΩÏö∞Îäî lemon-k8s-apps)&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argocd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">destination&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argocd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;https://kubernetes.default.svc&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">source&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">repoURL&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;git@github.com:&amp;lt;YourOrganizationName&amp;gt;/&amp;lt;YourRepositoryName&amp;gt;.git&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetRevision&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">HEAD&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">path&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">apps/enabled&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">project&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">default&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">syncPolicy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">syncOptions&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">CreateNamespace=true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÌïòÎÇòÌïòÎÇò ÎúØÏñ¥Î≥¥Î©¥&lt;/p>
&lt;ol>
&lt;li>ArgoCDÍ∞Ä Í¥ÄÎ¶¨ÌïòÎäî Ïñ¥ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏùÑ ÌïòÎÇò Ï∂îÍ∞Ä&lt;/li>
&lt;li>Ïñ¥ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏùÄ GithubÏùò ÎÇ¥ Î†àÌè¨ÏßÄÌÜ†Î¶¨Î•º Ï∞∏Í≥†&lt;/li>
&lt;li>PathÎäî ÏúÑÏóêÏÑú ÏÑ§Ï†ïÌïú apps/enabled ÏïàÏóê ÏûàÎäî Î™®Îì† yaml ÌååÏùºÏùÑ Ïã§Ìñâ&lt;/li>
&lt;/ol>
&lt;p>ÏûÖÎãàÎã§.&lt;/p>
&lt;p>Ïù¥ÌõÑ &lt;code>kubectl apply -f root-app.yaml&lt;/code> ÌïòÏó¨ root appÏùÑ ÏÑ§ÏπòÌï©ÎãàÎã§.&lt;/p>
&lt;p>Ïù¥ÌõÑ, ArgoCDÎ°ú ÎèåÏïÑÍ∞Ä ÎÇ¥ ÏÉàÎ°úÏö¥ Ï≤´ Ïñ¥ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏù¥ Ïûò Îñ¥ÎäîÏßÄ ÌôïÏù∏Ìï©ÎãàÎã§. SyncÍ∞Ä Ïã§Ìå®ÌïòÍ≥†, Î¶¨Ìè¨ÏßÄÌÜ†Î¶¨Ïóê Ìï¥Îãπ PathÍ∞Ä ÏóÜÎã§Í≥† ÎÇòÏò®Îã§Î©¥ Ï†ïÏÉÅ Ïó∞Í≤∞Îêú Í≤ÉÏûÖÎãàÎã§.&lt;/p>
&lt;h3 id="2-longhorn-ÏÑ§Ïπò">2. Longhorn ÏÑ§Ïπò
&lt;/h3>&lt;ul>
&lt;li>Î©îÏù∏ USB (OSÍ∞Ä ÍπîÎ†§ÏûàÎäî USB) Ïù¥Ïô∏Ïóê ÏµúÏÜåÌïú ÌïòÎÇò Ïù¥ÏÉÅÏùò Ïä§ÌÜ†Î¶¨ÏßÄÏö© USB, SSD, HDDÍ∞Ä ÍΩÇÌòÄ ÏûàÎã§Í≥† Í∞ÄÏ†ïÌï©ÎãàÎã§.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>2023.12 Í∏∞Ï§Ä ArgoCDÎ°ú ÏµúÏ¥à ÏÑ§ÏπòÏãú LonghornÏùò Ï¥àÍ∏∞ Batch JobÏù¥ Ïã§Ìå®ÌïòÎäî Î≤Ñ?Í∑∏Í∞Ä ÏûàÏñ¥ ÏàòÎèôÏúºÎ°ú ÌïúÎ≤à ÏÑ§Ïπò ÌõÑ, ArgoCDÎ°ú Ïù¥Ï†ÑÌïòÎäî ÏûëÏóÖÏùÑ ÏßÑÌñâÌï©ÎãàÎã§.&lt;/strong>&lt;/p>
&lt;p>LonghornÏùÄ Î∂ÑÏÇ∞ Ïä§ÌÜ†Î¶¨ÏßÄ Í¥ÄÎ¶¨ÏûêÎ°úÏç®, Îã§ÏùåÍ≥º Í∞ôÏùÄ Í∏∞Îä•ÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§. (ÏùΩÍ∏∞ Í∑ÄÏ∞¨Îã§Î©¥, Í∞ÑÎã®Ìûà S3ÏôÄ ÎπÑÏä∑Ìïú Í∏∞Îä•Îì§ÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§!)&lt;/p>
&lt;ol>
&lt;li>&lt;strong>Î∂ÑÏÇ∞ Ïä§ÌÜ†Î¶¨ÏßÄ Ï†ÄÏû•&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>ÎÇ¥ ÌååÏùºÏùÑ ÏÑ§Ï†ïÏóê Îî∞Îùº NÍ∞úÏùò Ïä§ÌÜ†Î¶¨ÏßÄÏóê Î∂ÑÏÇ∞ Ï†ÄÏû•Ìï©ÎãàÎã§.&lt;/p>
&lt;p>ÎßåÏïΩ Ïñ¥Îñ§ Ïû¨Ìï¥Î°ú Ïù∏Ìï¥ Ìïú Ïä§ÌÜ†Î¶¨ÏßÄÍ∞Ä ÌååÍ¥¥ÎêòÎçîÎùºÎèÑ Ìï¥Îãπ Ïä§ÌÜ†Î¶¨ÏßÄÏóê ÏûàÏóàÎçò Îç∞Ïù¥ÌÑ∞Îì§ÏùÑ Îã§Î•∏ Ïä§ÌÜ†Î¶¨ÏßÄÎ°ú ÏûêÎèôÏúºÎ°ú Ïù¥Ï†ÑÌïòÏó¨ ÏµúÏÜå NÍ∞úÏùò Î≥µÏû¨Î≥∏Ïù¥ Ïú†ÏßÄÎêòÎèÑÎ°ù Ìï©ÎãàÎã§.&lt;/p>
&lt;p>Ïù¥Î•º ÌÜµÌï¥, ÎßåÏïΩ SSD ÌïòÎÇòÍ∞Ä ÎªëÎÇòÎçîÎùºÎèÑ Îã§Î•∏ Ïä§ÌÜ†Î¶¨ÏßÄÏóê ÎèôÏùºÌïú Îç∞Ïù¥ÌÑ∞Í∞Ä ÏûàÏúºÎØÄÎ°ú, ÌîÑÎ°úÍ∑∏Îû® Î∞è ÏãúÏä§ÌÖúÏù¥ Ï†ïÏÉÅ Ïö¥Ïö©ÎêòÎèÑÎ°ù Ìï† Ïàò ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;ol start="2">
&lt;li>&lt;strong>Storage Tiering&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>ÎßåÏïΩ Ïñ¥Îñ§ ÏãúÏä§ÌÖúÏùÄ I/OÍ∞Ä ÍµâÏû•Ìûà Ìó§ÎπÑÌïú ÏõåÌÅ¨Î°úÎìúÎùº ÎÜíÏùÄ Ïä§ÌÜ†Î¶¨ÏßÄ ÏÑ±Îä•ÏùÑ ÌïÑÏöîÎ°ú ÌïòÍ≥†,&lt;/p>
&lt;p>Ïñ¥Îñ§ ÏãúÏä§ÌÖúÏùÄ ÏûêÏ£º ÏùΩÏßÄ ÏïäÎäî ÌååÏùºÏù¥ ÏóÑÏ≤≠ ÎßéÏïÑ, Ïä§ÌÜ†Î¶¨ÏßÄ ÏÑ±Îä•Î≥¥Îã® Ïö©ÎüâÏù¥ ÌïÑÏöîÌï† Ïàò ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;p>LonghornÏùÄ StorageClassÎ•º ÏßÄÏõêÌïòÏó¨, Ïù¥Î•º ÌÜµÌï¥ Îã®Í≥ÑÎ≥ÑÎ°ú Ïä§ÌÜ†Î¶¨ÏßÄÎ•º ÎÇòÎà† ÏÇ¨Ïö©Ìï† Ïàò ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;p>ÏòàÎ•º Îì§Ïñ¥ I/OÍ∞Ä Ï§ëÏöîÌïú Í≤ΩÏö∞Îäî NVME SSDÎßå Î™®Ïó¨ÏûàÎäî Ïä§ÌÜ†Î¶¨ÏßÄ ÌÅ¥ÎûòÏä§Î•º, Îã®Ïàú ÌååÏùº Ï†ÄÏû•Ïù¥ ÎßéÏù¥ ÌïÑÏöîÌïú Í≤ΩÏö∞Îäî HDDÎßå ÏûàÎäî Ïä§ÌÜ†Î¶¨ÏßÄ ÌÅ¥ÎûòÏä§Î•º Ìï†ÎãπÌïòÎäî ÏãùÏúºÎ°ú ÏÇ¨Ïö©Ìï©ÎãàÎã§.&lt;/p>
&lt;p>Îî∞ÎùºÏÑú! Îã§Ïùå Î™ÖÎ†πÏñ¥Î•º ÌÜµÌï¥ LonghornÏùÑ ÏÑ§ÏπòÌï©ÎãàÎã§.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">helm repo add longhorn https://charts.longhorn.io
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">helm repo update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">helm install longhorn longhorn/longhorn --namespace longhorn-system --create-namespace --set service.ui.loadBalancerIP&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;192.168.0.201&amp;#34;&lt;/span> --set service.ui.type&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;LoadBalancer&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ï†ïÏÉÅÏ†ÅÏúºÎ°ú ÏÑ§ÏπòÎêòÏóàÎã§Î©¥, Î∏åÎùºÏö∞Ï†ÄÏóêÏÑú &lt;code>http://192.168.0.201&lt;/code>Î°ú Îì§Ïñ¥Í∞ÄÏÑú Longhorn UIÍ∞Ä ÎÇòÏò§Îäî Í≤ÉÏùÑ ÌôïÏù∏Ìï©ÎãàÎã§.&lt;/p>
&lt;h3 id="3-1-argocdÎ•º-Ïù¥Ïö©Ìï¥-ÏÑ§ÏπòÌïòÍ∏∞---ÏÑ§Ï†ïÌååÏùº-Ï∂îÍ∞Ä">3-1. ArgoCDÎ•º Ïù¥Ïö©Ìï¥ ÏÑ§ÏπòÌïòÍ∏∞ - ÏÑ§Ï†ïÌååÏùº Ï∂îÍ∞Ä
&lt;/h3>&lt;p>Ïù¥Ï†ú ÏÑ§ÏπòÍ∞Ä ÌïúÎ≤à ÏôÑÎ£åÎêòÏóàÏúºÎãà, Í∏∞Ï°¥ ÏÑ§ÏπòÌñàÎçò LonghornÏùÑ ArgoCDÎ°ú ÏòÆÍ≤®Î≥¥ÎèÑÎ°ù Ìï©ÏãúÎã§.&lt;/p>
&lt;p>Ìè¥Îçî Íµ¨Ï°∞ Î∞è Î∞∞Ìè¨ Ï†ÑÎûµÏùÄ Îã§ÏùåÍ≥º Í∞ôÏäµÎãàÎã§. ÏïÑÎûòÏôÄ Í∞ôÏùÄ Íµ¨Ï°∞Î°ú, root-appÏùÑ Î∞∞Ìè¨ÌïòÎ©¥ ÌïòÏúÑ Ïï±Îì§Ïù¥ ÏûêÎèôÏúºÎ°ú Îú®ÎèÑÎ°ù Ìï©ÎãàÎã§.&lt;/p>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-5.-argocd-gitops-%EC%84%A4%EC%A0%95-%EB%B0%8F-longhorn-%EC%84%A4%EC%B9%98/image.png"
width="778"
height="432"
loading="lazy"
alt="Ìè¥Îçî Íµ¨Ï°∞, Root AppÏù¥ enabled Ìè¥ÎçîÎ•º, Î∞∞Ìè¨, enables Ìè¥Îçî ÏïÑÎûòÏùò yaml ÌååÏùºÎì§Ïù¥ modules/ÌååÏùºÎ™ÖÏùÑ Î∞∞Ìè¨ÌïúÎã§."
class="gallery-image"
data-flex-grow="180"
data-flex-basis="432px"
>&lt;/p>
&lt;p>Ïù¥Í≤ÉÎèÑ ÎßàÏ∞¨Í∞ÄÏßÄÎ°ú, ÏùºÎã® Îî∞ÎùºÌï¥ Î≥¥ÎèÑÎ°ù Ìï©ÎãàÎã§. ÏïÑÎûò ÌååÏùºÏùÑ Ï∂îÍ∞ÄÌï©ÎãàÎã§.&lt;/p>
&lt;ul>
&lt;li>&lt;code>apps/enabled/longhorn-system.yaml&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argoproj.io/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Application&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argocd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">destination&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;https://kubernetes.default.svc&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">source&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">path&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">modules/longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">repoURL&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;git@github.com:&amp;lt;YourOrganizationName&amp;gt;/&amp;lt;YourRepositoryName&amp;gt;.git&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetRevision&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">HEAD&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">project&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">default&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>modules/longhorn-system ÏùÑ ÏûêÎèô Î∞∞Ìè¨ÌïòÎäî Ïñ¥ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏùÑ Ï∂îÍ∞ÄÌï©ÎãàÎã§.&lt;/p>
&lt;ul>
&lt;li>&lt;code>modules/longhorn-system/longhorn.yaml&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argoproj.io/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Application&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argocd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">destination&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;https://kubernetes.default.svc&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">source&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">repoURL&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;https://charts.longhorn.io&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetRevision&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1.5.3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">chart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">helm&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">parameters&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">service.ui.loadBalancerIP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">value&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">192.168.0.201&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">service.ui.type&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">value&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">LoadBalancer&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">project&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">default&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>helm.paramters&lt;/code> Î•º ÌÜµÌï¥ ÏúÑÏôÄ Í∞ôÏù¥, values.yamlÏóê Îì§Ïñ¥Í∞à Í∞íÏùÑ Ï∂îÍ∞ÄÌï† Ïàò ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;ul>
&lt;li>&lt;code>modules/longhorn-system/longhorn.yaml&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">StorageClass&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">storage.k8s.io/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-ssd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">provisioner&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">driver.longhorn.io&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">allowVolumeExpansion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">reclaimPolicy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;Delete&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">volumeBindingMode&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Immediate&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">parameters&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">numberOfReplicas&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;2&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">fsType&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;ext4&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">diskSelector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;ssd&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">StorageClass&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">storage.k8s.io/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-hdd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">provisioner&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">driver.longhorn.io&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">allowVolumeExpansion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">reclaimPolicy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;Delete&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">volumeBindingMode&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Immediate&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">parameters&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">numberOfReplicas&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;1&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">fsType&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;ext4&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">diskSelector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;hdd&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ssd, hdd Ïä§ÌÜ†Î¶¨ÏßÄÎ•º Ï∂îÍ∞ÄÌï©ÎãàÎã§. ÎßåÏïΩ USB Îì±ÏùÑ ÏÇ¨Ïö©ÌïòÍ≥† Í≥ÑÏãúÎã§Î©¥, Ïù¥Î¶ÑÏùÑ longhorn-usb Îì±ÏúºÎ°ú Î≥ÄÍ≤ΩÌïòÏÖîÎèÑ Îê©ÎãàÎã§.&lt;/p>
&lt;p>&lt;code>numberOfReplicas&lt;/code> : Î≥µÏ†úÎ≥∏Ïùò Í∞úÏàòÏûÖÎãàÎã§. Ï†ÄÏùò Í≤ΩÏö∞ SSDÎäî Ïñ¥ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏóê ÌïÑÏöîÌïú Îç∞Ïù¥ÌÑ∞ Ï†ÄÏû•Ïö©Ïù¥Îãà ÏïàÏ†ïÏÑ±ÏùÑ ÏúÑÌï¥ ÏµúÏÜå 2Í∞ú, HDDÎäî Îã®Ïàú ÌååÏùº Ï†ÄÏû•Ïö©Ïù¥Îùº 1Í∞úÎ°ú ÏÑ§Ï†ïÌñàÏäµÎãàÎã§.
&lt;code>fsType&lt;/code> : ÌååÏùºÏãúÏä§ÌÖúÏùò ÌÉÄÏûÖÏûÖÎãàÎã§. ext4Î•º ÏÇ¨Ïö©Ìï† ÏòàÏ†ïÏûÖÎãàÎã§. Í∞ÄÏù¥ÎìúÎ•º Îî∞ÎùºÏò§Ïã†Îã§Î©¥, ÎèôÏùºÌïòÍ≤å ÏÑ§Ï†ïÌïòÎ©¥ Îê©ÎãàÎã§.
&lt;code>diskSelector&lt;/code> : Ïù¥ÌõÑ Disk Îì±Î°ùÏãú ÏÇ¨Ïö©Ìï©ÎãàÎã§. Í∏∞ÏñµÌï¥ ÎëêÎèÑÎ°ù Ìï©ÎãàÎã§.&lt;/p>
&lt;p>ÏûëÏóÖÏùÑ ÏôÑÎ£åÌïòÏÖ®Îã§Î©¥, Git commit ÌõÑ PushÌï©ÎãàÎã§!&lt;/p>
&lt;h3 id="3-2-argocdÎ•º-Ïù¥Ïö©Ìï¥-ÏÑ§ÏπòÌïòÍ∏∞---Ïã§Ï†ú-Î∞∞Ìè¨ÌïòÍ∏∞">3-2. ArgoCDÎ•º Ïù¥Ïö©Ìï¥ ÏÑ§ÏπòÌïòÍ∏∞ - Ïã§Ï†ú Î∞∞Ìè¨ÌïòÍ∏∞
&lt;/h3>&lt;p>Ïù¥Ï†ú Ï¥àÍ∏∞ ÏÑ§Ï†ïÌñàÎçò ArgoCDÏóê Îì§Ïñ¥Í∞Ä ÏßÅÏ†ë Î∞∞Ìè¨Î•º ÏßÑÌñâÌï©ÎãàÎã§.&lt;/p>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-5.-argocd-gitops-%EC%84%A4%EC%A0%95-%EB%B0%8F-longhorn-%EC%84%A4%EC%B9%98/image-1.png"
width="1153"
height="402"
loading="lazy"
alt="ArgoCD Root App ÏÇ¨ÏßÑ"
class="gallery-image"
data-flex-grow="286"
data-flex-basis="688px"
>&lt;/p>
&lt;p>Ï†ÄÌù¨Í∞Ä ÏïåÏïÑÏïº ÌïòÎäî Í≤ÉÏùÄ &lt;code>Sync&lt;/code>, &lt;code>Refresh&lt;/code> Î≤ÑÌäºÏûÖÎãàÎã§.&lt;/p>
&lt;ul>
&lt;li>&lt;code>Sync&lt;/code> : GitÏóêÏÑú ÏÉàÎ°úÏö¥ ÌÅ¥Îü¨Ïä§ÌÑ∞ ÏÉÅÌÉúÎ•º Í∞ÄÏ†∏Ïò® ÌõÑ, Ïã§Ï†ú ÌÅ¥Îü¨Ïä§ÌÑ∞ ÏÉÅÌÉúÎ•º GitÍ≥º ÎèôÍ∏∞ÌôîÌï©ÎãàÎã§.&lt;/li>
&lt;li>&lt;code>Refresh&lt;/code> : GitÏóêÏÑú ÏÉàÎ°úÏö¥ ÌÅ¥Îü¨Ïä§ÌÑ∞ ÏÉÅÌÉúÎ•º Í∞ÄÏ†∏ÏòµÎãàÎã§. ÌÅ¥Îü¨Ïä§ÌÑ∞Î•º ÎèôÍ∏∞ÌôîÌïòÏßÑ ÏïäÏäµÎãàÎã§.&lt;/li>
&lt;/ul>
&lt;p>Îî∞ÎùºÏÑú, SyncÎ•º ÎàÑÎ•¥Î©¥ ArgoCDÍ∞Ä Î∞∞Ìè¨Î•º ÏãúÏûëÌï©ÎãàÎã§.&lt;/p>
&lt;p>Ïù¥ÌõÑ Longhorn-system -&amp;gt; LonghornÏùÑ Ï∞®Î°ÄÏ∞®Î°Ä ÌÉÄÍ≥† Í∞Ä Sync Î≤ÑÌäºÏùÑ ÎàåÎü¨ Î∞∞Ìè¨Î•º ÏßÑÌñâÌï©ÎãàÎã§.&lt;/p>
&lt;h3 id="ÎßàÏπòÎ©∞">ÎßàÏπòÎ©∞
&lt;/h3>&lt;p>Í≥†ÏÉùÌïòÏÖ®ÏäµÎãàÎã§! ÎìúÎîîÏñ¥ ÏßÄÍ∏àÍπåÏßÄ Ï§ëÍµ¨ÎÇúÎ∞©ÏúºÎ°ú ÏûàÎçò Yaml ÌååÏùºÎì§ÏùÑ Ï†ïÎ¶¨ÌïòÍ≥†, GitOpsÎ•º Ìñ•Ìïú Ï≤´ Î∞úÏùÑ ÎÇ¥ÎîõÏóàÏäµÎãàÎã§.&lt;/p>
&lt;p>Ïù¥Ï†ú Îã§Ïùå ÏãúÍ∞ÑÏóêÎäî Ïã§Ï†ú SSD, HDDÎ•º LonghornÏùÑ ÌÜµÌï¥ Îì±Î°ùÌï¥ Î≥¥Í≤†ÏäµÎãàÎã§.&lt;/p></description></item><item><title>ÏßëÏóêÏÑú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞ Ï∞®Î¶¨Í∏∞ - 4. Traefik https Ïù∏Ï¶ù Î∞è ArgoCD ÏÑ§Ï†ï</title><link>https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-4.-traefik-https-%EC%9D%B8%EC%A6%9D-%EB%B0%8F-argocd-%EC%84%A4%EC%A0%95/</link><pubDate>Wed, 06 Dec 2023 05:21:00 +0900</pubDate><guid>https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-4.-traefik-https-%EC%9D%B8%EC%A6%9D-%EB%B0%8F-argocd-%EC%84%A4%EC%A0%95/</guid><description>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-4.-traefik-https-%EC%9D%B8%EC%A6%9D-%EB%B0%8F-argocd-%EC%84%A4%EC%A0%95/cover.png" alt="Featured image of post ÏßëÏóêÏÑú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞ Ï∞®Î¶¨Í∏∞ - 4. Traefik https Ïù∏Ï¶ù Î∞è ArgoCD ÏÑ§Ï†ï" />&lt;p>ÎßåÏïΩ, ÏãúÏä§ÌÖúÏùÑ GitÏùÑ ÌÜµÌï¥ Í¥ÄÎ¶¨ÌïòÎ©¥ Ïñ¥Îñ®ÍπåÏöî?
ÎÇ¥Í∞Ä ÌïÑÏöîÌïú Ïª®ÌÖåÏù¥ÎÑà Ï¢ÖÎ•ò, Í∞úÏàò Îì±ÏùÑ Ï†ÑÎ∂Ä GitÏóê ÏÑ†Ïñ∏ÌïòÍ≥† GitÏóê ÏÑ†Ïñ∏ÎêòÏñ¥ ÏûàÎäî Í∑∏ÎåÄÎ°ú ÌÅ¥Îü¨Ïä§ÌÑ∞Í∞Ä Ïö¥ÏòÅÎêúÎã§Î©¥, ÍµâÏû•Ìûà Ìé∏ÌïòÏßÄ ÏïäÏùÑÍπåÏöî?&lt;/p>
&lt;p>Íµ≥Ïù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞ Ïù¥Í≥≥Ï†ÄÍ≥≥ÏùÑ ÌôïÏù∏ÌïòÏßÄ ÏïäÎçîÎùºÎèÑ, GitÏóê Ïò¨ÎùºÏôÄ ÏûàÎäî ÏÑ§Ï†ïÍ∞íÎßå ÌôïÏù∏ÌïòÎ©¥ Îê† ÌÖåÎãàÍπåÏöî.&lt;/p>
&lt;p>ÎòêÌïú, ÎßåÏïΩ Î∞∞Ìè¨ ÎèÑÏ§ë Î¨∏Ï†úÍ∞Ä ÏÉùÍ≤ºÎã§Î©¥ Î∞îÎ°ú RevertÌï¥Î≤ÑÎ¶¥ Ïàò ÏûàÏßÄ ÏïäÏùÑÍπåÏöî? Îòê, Ïó¨Îü¨ ÏÇ¨ÎûåÏù¥ Í∞ôÏùÄ ÌÅ¥Îü¨Ïä§ÌÑ∞Î•º Í¥ÄÎ¶¨ÌïòÎ©¥ÏÑú ÏÉùÍ∏∞Îäî Î¨∏Ï†úÎèÑ Ïö∞Î¶¨Í∞Ä Ìï≠ÏÉÅ ÌïòÎäî PRÏùÑ ÌÜµÌï¥ Í¥ÄÎ¶¨Ìï† Ïàò ÏûàÏùÑ Í±∞Íµ¨Ïöî.&lt;/p>
&lt;p>ÎßàÏßÄÎßâÏúºÎ°ú, ÎßåÏïΩ ÌÅ¥Îü¨Ïä§ÌÑ∞Ïóê Í∞ëÏûëÏä§ÎüΩÍ≤å Î¨∏Ï†úÍ∞Ä ÏÉùÍ≤® Î™®Îì† ÎÖ∏ÎìúÍ∞Ä Îã§Ïö¥ÎêòÏñ¥ Î≤ÑÎ†∏ÎçîÎùºÎèÑ, ÏÑ†Ïñ∏Ìïú ÏÉÅÌÉúÍ∞íÏù¥ GitÏóê ÏûàÏúºÎØÄÎ°ú Îã§Î•∏ ÌÅ¥Îü¨Ïä§ÌÑ∞Î•º ÌÜµÌï¥ÏÑúÎùºÎèÑ Îπ†Î•¥Í≤å Î≥µÍµ¨Î•º ÏßÑÌñâÌï† Ïàò ÏûàÏùÑ Í≤ÅÎãàÎã§.&lt;/p>
&lt;p>Í∑∏Îü¨Ìïú Î∞©Î≤ïÏùÑ GitOpsÎùºÍ≥† Î∂ÄÎ•¥Î©∞, ArgoCDÎäî GitÏóê ÏÑ†Ïñ∏Îêú ÏÉÅÌÉúÏôÄ ÌÅ¥Îü¨Ïä§ÌÑ∞Ïùò ÏÉÅÌÉúÎ•º ÎòëÍ∞ôÏù¥ ÎßûÏ∂∞Ï£ºÎäîÎç∞ ÎèÑÏõÄÏùÑ Ï£ºÎäî Ìà¥ÏûÖÎãàÎã§.&lt;/p>
&lt;p>Ïù¥ÌõÑ Î∞∞Ìè¨Ìï¥Ïïº Ìï† ÏãúÏä§ÌÖúÏù¥ Ï†ïÎßê Ï†ïÎßê ÎßéÏïÑÏÑú, Ï†úÏùº Î®ºÏ†Ä Ïù¥Îü¨Ìïú GitOpsÎ•º ÎèÑÏôÄÏ£ºÎäî ArgoCDÎ•º Î®ºÏ†Ä ÏÑ§ÏπòÌï©ÏãúÎã§.&lt;/p>
&lt;p>ÎòêÌïú ArgoCD Ïô∏Î∂Ä Ï†ëÏÜçÏù¥ Í∞ÄÎä•ÌïòÎèÑÎ°ù, TraefikÏùò LetsEncrypt ÏÑ§Ï†ï Îì±ÏùÑ Í∞ôÏù¥ ÏßÑÌñâÌï¥ Î¥ÖÏãúÎã§.&lt;/p>
&lt;h3 id="traefik-letsencrypt-certification-Ï†ÅÏö©">Traefik Letsencrypt Certification Ï†ÅÏö©
&lt;/h3>&lt;ul>
&lt;li>Ï∞∏Í≥†Ìïú Í∏Ä : &lt;a class="link" href="https://traefik.io/blog/https-on-kubernetes-using-traefik-proxy/" target="_blank" rel="noopener"
>HTTPS on Kubernetes Using Traefik Proxy&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Control NodeÏóêÏÑú Îã§ÏùåÏùÑ Ï∞∏Í≥†ÌïòÏó¨ traefik-update.yamlÏùÑ ÌïòÎÇò ÎßåÎì§Ïñ¥ Ï§çÎãàÎã§.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># https://traefik.io/blog/https-on-kubernetes-using-traefik-proxy/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">helm.cattle.io/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">HelmChartConfig&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">traefik&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">kube-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">valuesContent&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|-&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> ports:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> web:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> redirectTo:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> port: websecure
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> priority: 10
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> additionalArguments:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - &amp;#34;--log.level=INFO&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - &amp;#34;--certificatesresolvers.le.acme.email=yourMail@gmail.com&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - &amp;#34;--certificatesresolvers.le.acme.storage=/data/acme.json&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - &amp;#34;--certificatesresolvers.le.acme.tlschallenge=true&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - &amp;#34;--certificatesresolvers.le.acme.caServer=https://acme-v02.api.letsencrypt.org/directory&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ïù¥ÌõÑ &lt;code>kubectl apply -f traefik-update.yaml&lt;/code>ÏùÑ Ïù¥Ïö©Ìï¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Ïóê Ï†ÅÏö©Ìï©ÎãàÎã§.&lt;/p>
&lt;p>Ïù¥ÌõÑ, IngressRouteÏóêÏÑú CertifiactionResolverÎ°ú le(letsEcnrypt)Î•º ÏÇ¨Ïö©Ìï† Ïàò ÏûàÍ≤å Îê©ÎãàÎã§. (Î¨¥Ïä® Ïù¥ÏïºÍ∏¥ÏßÄ Î™®Î•¥Í≤†Îã§Î©¥, ÏßÑÌñâÌïòÎã§ Î≥¥Î©¥ Ïù¥Ìï¥ÌïòÍ≤å Îê©ÎãàÎã§.)&lt;/p>
&lt;h3 id="argocd-ÏÑ§Ïπò">ArgocD ÏÑ§Ïπò
&lt;/h3>&lt;p>ArgoCDÎ•º ÏÑ§ÏπòÌïòÍ≥†, Github SSOÎ•º Ïó∞ÎèôÌï¥ Î¥ÖÏãúÎã§.&lt;/p>
&lt;ol>
&lt;li>
&lt;p>DNS ÏÑ§Ï†ïÏùÑ ÏßÑÌñâÌï©ÎãàÎã§. ArgoCDÎ•º Ïô∏Î∂ÄÏóêÏÑú Ï†ëÍ∑ºÏãú ÏÇ¨Ïö©Ìï† ÏÑúÎ∏åÎèÑÎ©îÏù∏ÏùÑ ÌòÑÏû¨ IP Ï£ºÏÜåÏôÄ Ïó∞Í≤∞Ìï¥ Ï§çÎãàÎã§.&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.findip.kr/" target="_blank" rel="noopener"
>ÎÇ¥ IP Î≥¥Í∏∞&lt;/a> Ïóê Îì§Ïñ¥Í∞ÄÏÑú ÎÇ¥ IPÎ•º ÌôïÏù∏Ìï©ÎãàÎã§.&lt;/li>
&lt;li>DNSÎ•º Íµ¨Îß§Ìïú Í≥≥Ïóê Í∞ÄÏÑú A Î†àÏΩîÎìúÎ°ú IP4 AddressÏóê Î∞©Í∏à ÌôïÏù∏Ìïú ÎÇ¥ IPÎ•º ÏûÖÎ†•Ìï©ÎãàÎã§.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;code>Github Organization&lt;/code>ÏùÑ ÌïòÎÇò ÏÉùÏÑ±ÌïòÍ≥†, Ï†ÅÏ†àÌïú RoleÏùÑ ÌïòÎÇò ÎßåÎì≠ÎãàÎã§. Ï†ÄÏùò Í≤ΩÏö∞Îäî Í∞úÏù∏Ïö© OrganizationÏóê AdminÏù¥ÎûÄ RoleÏùÑ Ï∂îÍ∞ÄÌñàÏäµÎãàÎã§.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Orignization -&amp;gt; Settings -&amp;gt; Developer Settings -&amp;gt; OAuth AppsÏóê Í∞ÄÏÑú ÏÉàÎ°úÏö¥ OAuth Ïï±ÏùÑ ÌïòÎÇò Ï∂îÍ∞ÄÌï©ÎãàÎã§.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-4.-traefik-https-%EC%9D%B8%EC%A6%9D-%EB%B0%8F-argocd-%EC%84%A4%EC%A0%95/image.png"
width="437"
height="485"
loading="lazy"
alt="ArgoCD OAuth ÏÑ§Ï†ï, Authorization callback URLÏù¥ Ï§ëÏöî"
class="gallery-image"
data-flex-grow="90"
data-flex-basis="216px"
>&lt;/p>
&lt;p>Ïù¥Îïå, Authorization callback URLÏùÑ &lt;code>https://&amp;lt;Î∞©Í∏à ÏÑ§Ï†ïÌïú ÎèÑÎ©îÏù∏&amp;gt;/api/dev/callback&lt;/code> ÏúºÎ°ú ÏÑ§Ï†ïÌï©ÎãàÎã§.
ÎÇòÎ®∏ÏßÄÎäî ÏûêÏú†Î°≠Í≤å Î∞îÍæ∏ÏÖîÎèÑ ÏÉÅÍ¥ÄÏóÜÏäµÎãàÎã§.&lt;/p>
&lt;p>Ïù¥ÌõÑ &lt;code>Client ID, Secret&lt;/code> ÏùÑ Î∞úÍ∏â ÌõÑ Í∏∞ÏñµÌï©ÎãàÎã§.&lt;/p>
&lt;ol start="4">
&lt;li>values.yaml ÌååÏùº ÏÉùÏÑ±&lt;/li>
&lt;/ol>
&lt;p>Îã§Ïùå ÌååÏùºÏùÑ Ï∞∏Í≥†ÌïòÏó¨ &lt;code>values.yaml&lt;/code> ÌååÏùºÏùÑ ÏûëÏÑ±Ìï©ÎãàÎã§.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">configs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">params&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># TraefikÏù¥ Https Ïó∞Í≤∞ Ìï¥ Ï£ºÎØÄÎ°ú Insecure Î™®ÎìúÎ°ú Í∞ÄÎèô&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">server.insecure&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">rbac&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Built-in Policy : https://github.com/argoproj/argo-cd/blob/master/assets/builtin-policy.csv&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">policy.default&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">role:readonly&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">policy.csv&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> g, &amp;lt;Github Organization Ïù¥Î¶Ñ&amp;gt;:&amp;lt;ÏÉùÏÑ±Ìïú Role Ïù¥Î¶Ñ&amp;gt;, role:admin&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">config&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">url&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://&amp;lt;ÏÑ§Ï†ïÌïú ÎèÑÎ©îÏù∏ Ïù¥Î¶Ñ&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">dex.config&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> connectors:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - type: github
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> id: github
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> name: github
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> config:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> clientID: &amp;lt;Î∞©Í∏à Î∞úÍ∏âÎ∞õÏùÄ Client ID&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> clientSecret: &amp;lt;Î∞©Í∏à Î∞úÍ∏âÎ∞õÏùÄ Client Secret&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> orgs:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - name: &amp;lt;Github Organization Ïù¥Î¶Ñ&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÏòàÎ•º Îì§Ïñ¥ Îã§ÏùåÍ≥º Í∞ôÏäµÎãàÎã§.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">configs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">params&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># TraefikÏù¥ Https Ïó∞Í≤∞ Ìï¥ Ï£ºÎØÄÎ°ú Insecure Î™®ÎìúÎ°ú Í∞ÄÎèô&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">server.insecure&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">rbac&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Built-in Policy : https://github.com/argoproj/argo-cd/blob/master/assets/builtin-policy.csv&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">policy.default&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">role:readonly&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">policy.csv&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> g, LemonLemon:Admin, role:admin&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">config&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">url&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://argo.lemon.com&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">dex.config&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> connectors:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - type: github
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> id: github
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> name: github
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> config:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> clientID: vadf45a6sdfad
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> clientSecret: adsfvasd45f6ads4f56asd7
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> orgs:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - name: LemonLemon&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="5">
&lt;li>ingress.yaml ÌååÏùº ÏÉùÏÑ±&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">traefik.containo.us/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">IngressRoute&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argocd-ingress&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argocd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">entryPoints&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">websecure&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">routes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Rule&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">match&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Host(`&amp;lt;ÏÑ§Ï†ïÌïú ÎèÑÎ©îÏù∏ Ïù¥Î¶Ñ&amp;gt;`)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">priority&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">10&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argo-cd-argocd-server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Rule&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">match&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Host(`&amp;lt;ÏÑ§Ï†ïÌïú ÎèÑÎ©îÏù∏ Ïù¥Î¶Ñ&amp;gt;`) &amp;amp;&amp;amp; Headers(`Content-Type`, `application/grpc`)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">priority&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">11&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argo-cd-argocd-server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">scheme&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">h2c&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">tls&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">certResolver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">le&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÏïÑÎûòÎäî ÏòàÏ†úÏûÖÎãàÎã§.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">traefik.containo.us/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">IngressRoute&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argocd-ingress&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argocd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">entryPoints&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">websecure&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">routes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Rule&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">match&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Host(`https://argo.lemon.com`)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">priority&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">10&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argo-cd-argocd-server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Rule&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">match&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Host(`https://argo.lemon.com`) &amp;amp;&amp;amp; Headers(`Content-Type`, `application/grpc`)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">priority&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">11&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argo-cd-argocd-server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">scheme&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">h2c&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">tls&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">certResolver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">le&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="6">
&lt;li>&lt;code>values.yaml&lt;/code>Í≥º &lt;code>ingress.yaml&lt;/code>ÏùÑ ÏûëÏÑ±ÌñàÎã§Î©¥, Îã§Ïùå Ïª§Îß®ÎìúÎ•º ÏûÖÎ†•ÌïòÏó¨ argocdÎ•º ÏÑ§ÏπòÌï©ÎãàÎã§.&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">kubectl create namespace argocd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">helm repo add argo https://argoproj.github.io/argo-helm
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">helm install -n argocd argo-cd argo/argo-cd -f values.yaml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl apply -f ingress.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ïû†Íπê Í∏∞Îã§Î¶∞ ÌõÑ, ÏÑ§Ï†ïÌïú ÎèÑÎ©îÏù∏ (Ï†ú Í≤ΩÏö∞Îäî &lt;code>https://argo.lemon.com&lt;/code>) Î°ú Îì§Ïñ¥Í∞ÄÎ©¥ Ï†ïÏÉÅÏ†ÅÏúºÎ°ú ArgoCDÍ∞Ä Î∞òÍ≤®Ï§çÎãàÎã§.&lt;/p>
&lt;p>Ïù¥ÌõÑ &lt;code>Log in Via Github&lt;/code> Î≤ÑÌäºÏùÑ ÌÅ¥Î¶≠Ìï¥ Î°úÍ∑∏Ïù∏Ìï©ÎãàÎã§.&lt;/p>
&lt;p>Î°úÍ∑∏Ïù∏Ïù¥ ÏÑ±Í≥µÌñàÎã§Î©¥ Ï†ïÏÉÅÏ†ÅÏúºÎ°ú ÏÑ§ÏπòÎêú Í≤ΩÏö∞ÏûÖÎãàÎã§!&lt;/p>
&lt;p>‚Äª Tip : 401 ÏóêÎü¨Í∞Ä ÎÇúÎã§Î©¥, ÌïúÎ≤à argocd ÎÑ§ÏûÑÏä§ÌéòÏù¥Ïä§Ïùò argocd-server ÌåüÏùÑ ÌïúÎ≤à Ï£ΩÏó¨Î≥¥ÏÑ∏Ïöî&lt;/p>
&lt;h3 id="argocd-git-private-repo-Ïó∞Í≤∞">ArgoCD Git Private Repo Ïó∞Í≤∞
&lt;/h3>&lt;p>ÎßåÏïΩ ÌÅ¥Îü¨Ïä§ÌÑ∞Î•º Public RepoÎ°ú ÏÇ¨Ïö©ÌïúÎã§Î©¥ Ïù¥ ÏÑ§Ï†ïÏùÄ ÏÉùÎûµÌï¥ÎèÑ ÎêòÍ≤†ÏßÄÎßå, ÌòπÏãú Î™®Î•º ÏÇ¨Í≥†Î•º Î∞©ÏßÄÌïòÍ∏∞ ÏúÑÌï¥ GitÏóêÏÑúÎèÑ private RepoÎ•º ÏÇ¨Ïö©ÌïòÍ≥†, ArgoCDÏóêÏÑúÎèÑ Ïó∞Í≤∞Ìï¥ÏÑú ÏÇ¨Ïö©Ìï¥ Î¥ÖÏãúÎã§.&lt;/p>
&lt;p>GithubÏóêÏÑú ÏÉàÎ°úÏö¥ Î†àÌè¨ÏßÄÌÜ†Î¶¨ (Îπà Î†àÌè¨ÏßÄÌÜ†Î¶¨) Î•º ÌïòÎÇò Ï∂îÍ∞ÄÌïú ÌõÑ, Ìï¥Îãπ Î†àÌè¨ÏßÄÌÜ†Î¶¨Î•º ArgoCDÏôÄ Ïó∞ÎèôÌï¥ Î¥ÖÎãàÎã§.&lt;/p>
&lt;ol>
&lt;li>ArgoCD Î°úÍ∑∏Ïù∏ ÌõÑ Settings -&amp;gt; Repository -&amp;gt; Connect RepoÎ•º ÎàÑÎ¶ÖÎãàÎã§.&lt;/li>
&lt;li>connection method via ssh, NameÏùÄ ÏïÑÎ¨¥Í±∞ÎÇò, ProejctÎäî default, Repository URLÏùÄ git cloneÏãú &lt;code>ssh Ï£ºÏÜå&lt;/code>Î•º, SSH private key dataÎäî Control01 ÎÖ∏ÎìúÏùò &lt;code>~/.ssh/id_rsa&lt;/code> Î•º Î≥µÏÇ¨Ìï¥ÏÑú Î∂ôÏó¨ÎÑ£Ïñ¥ Ï§çÎãàÎã§.&lt;/li>
&lt;li>GitÏùÑ Ïó∞Í≤∞Ìï©ÎãàÎã§.&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-4.-traefik-https-%EC%9D%B8%EC%A6%9D-%EB%B0%8F-argocd-%EC%84%A4%EC%A0%95/image-1.png"
width="694"
height="522"
loading="lazy"
alt="Github Ïó∞Îèô ÏòàÏãú"
class="gallery-image"
data-flex-grow="132"
data-flex-basis="319px"
>&lt;/p>
&lt;h3 id="ÎßàÏπòÎ©∞">ÎßàÏπòÎ©∞
&lt;/h3>&lt;p>Ïò§ÎäòÏùÄ Traefik Ingress ÏÑ§Ï†ï, ArgoCD ÏÑ§Ïπò Î∞è Git Ïó∞ÎèôÍπåÏßÄÎ•º ÏßÑÌñâÌï¥ Î≥¥ÏïòÏäµÎãàÎã§.&lt;/p>
&lt;p>Îã§Ïùå Ìè¨Ïä§Ìä∏ÏóêÏÑúÎäî ÏßÄÍ∏àÍπåÏßÄ Ïñ¥ÏßàÎü¨ ÎÜ®Îçò(?) yaml ÌååÏùºÏùÑ Ï†ïÎ¶¨ÌïòÍ≥†, App of AppsÎ•º Ïù¥Ïö©ÌïòÏó¨ Î¶¨Ìè¨ÏßÄÌÜ†Î¶¨ Íµ¨Ï°∞Î•º Ï†ïÎ¶¨ÌïòÍ≥†, ÎßåÏïΩ Ïû•Ïï†Í∞Ä ÎÇòÎçîÎùºÎèÑ ÌÅ¥Î¶≠ Ìïú Î≤àÏúºÎ°ú Î≥µÍµ¨Ìï† Ïàò ÏûàÎäî ÏãúÏä§ÌÖúÏùÑ ÎßåÎì§Ïñ¥ Î≥º ÏòàÏ†ïÏûÖÎãàÎã§.&lt;/p>
&lt;p>Ïñ∏Ï†úÎÇò Í∑∏Î†áÎìØ, ÌãÄÎ¶∞ ÎÇ¥Ïö©Ïù¥ ÏûàÎã§Î©¥ ÏïåÎ†§ Ï£ºÏÑ∏Ïöî!&lt;/p></description></item><item><title>ÏßëÏóêÏÑú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞ Ï∞®Î¶¨Í∏∞ - 3. Helm ÏÑ§Ïπò Î∞è MetalLBÎ°ú Î°úÎìú Î∞∏Îü∞ÏÑú ÏÑ§Ï†ïÌïòÍ∏∞</title><link>https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-3.-helm-%EC%84%A4%EC%B9%98-%EB%B0%8F-metallb%EB%A1%9C-%EB%A1%9C%EB%93%9C-%EB%B0%B8%EB%9F%B0%EC%84%9C-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0/</link><pubDate>Wed, 06 Dec 2023 05:20:00 +0900</pubDate><guid>https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-3.-helm-%EC%84%A4%EC%B9%98-%EB%B0%8F-metallb%EB%A1%9C-%EB%A1%9C%EB%93%9C-%EB%B0%B8%EB%9F%B0%EC%84%9C-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0/</guid><description>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-3.-helm-%EC%84%A4%EC%B9%98-%EB%B0%8F-metallb%EB%A1%9C-%EB%A1%9C%EB%93%9C-%EB%B0%B8%EB%9F%B0%EC%84%9C-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0/cover.png" alt="Featured image of post ÏßëÏóêÏÑú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞ Ï∞®Î¶¨Í∏∞ - 3. Helm ÏÑ§Ïπò Î∞è MetalLBÎ°ú Î°úÎìú Î∞∏Îü∞ÏÑú ÏÑ§Ï†ïÌïòÍ∏∞" />&lt;h3 id="helm-ÏÑ§Ïπò">Helm ÏÑ§Ïπò
&lt;/h3>&lt;ul>
&lt;li>Ï∞∏Í≥†Ìïú Í∏Ä : &lt;a class="link" href="https://helm.sh/docs/intro/install/" target="_blank" rel="noopener"
>Installing Helm&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Îã§Ïùå Ïª§Îß®ÎìúÎ•º Ï∞®Î°ÄÎ°ú ÏûÖÎ†•ÌïòÏó¨ HelmÏùÑ ÏÑ§ÏπòÌï©ÎãàÎã§.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">curl -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chmod &lt;span class="m">700&lt;/span> get_helm.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">./get_helm.sh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ïù¥ÌõÑ, kubeconfig ÌååÏùºÏùÑ ÏÑ§Ï†ïÌï¥ Ï§çÎãàÎã§.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">cp /etc/rancher/k3s/k3s.yaml ~/.kube/config
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chmod &lt;span class="m">600&lt;/span> ~/.kube/config
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ïù¥ÌõÑ bashrc Ï†úÏùº Î∞ëÏóê Îã§Ïùå Ìïú Ï§ÑÏùÑ Ï∂îÍ∞ÄÌïú ÌõÑ, &lt;code>source ~/.bashrc&lt;/code> Î°ú Shell ÏÑ§Ï†ïÏùÑ Ï¶âÏãú Ï†ÅÏö©ÏãúÌÇµÎãàÎã§.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">KUBECONFIG&lt;/span>&lt;span class="o">=&lt;/span>~/.kube/config
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>HelmÏùÄ Ïø†Î≤ÑÎÑ§Ìã∞Ïä§Ïùò Ìå®ÌÇ§ÏßÄ Îß§ÎãàÏ†ÄÏôÄ ÎπÑÏä∑Ìïú Ïó≠Ìï†ÏùÑ Ìï©ÎãàÎã§.&lt;/p>
&lt;p>ÏòàÎ•º Îì§Ïñ¥ÏÑú, Ï†úÍ∞Ä KafkaÎ•º ÌÅ¥Îü¨Ïä§ÌÑ∞ Î™®ÎìúÎ°ú ÏÑ§ÏπòÌïòÎ†§Í≥† ÌïúÎã§Í≥† Í∞ÄÏ†ïÌï¥ Î¥ÖÏãúÎã§.&lt;/p>
&lt;p>Ï†úÍ∞Ä ÏùºÏùºÌûà KafkaÎ•º Ïø†Î≤ÑÎÑ§Ìã∞Ïä§Ïóê ÎùÑÏö∞Î†§Î©¥, Kafka Container Ïù¥ÎØ∏ÏßÄÎ•º Í∞ÄÏ†∏ÏôÄÏÑú ÌÅ¥Îü¨Ïä§ÌÑ∞ ÏòµÏÖòÏùÑ ÌÇ§Í≥†, ÎÇ¥Î∂Ä ÎÑ§Ìä∏ÏõåÌÅ¨ Ïó∞Í≤∞ÏùÑ Ìï¥ Ï£ºÍ≥†&amp;hellip; ÌïòÎäî ÏûëÏóÖÏùÑ Ï†ÑÎ∂Ä Ìï¥ Ï§òÏïº Ìï† Í≤ÉÏûÖÎãàÎã§.&lt;/p>
&lt;p>ÎòêÌïú, Kafka Î≤ÑÏ†Ñ ÏóÖÍ∑∏Î†àÏù¥ÎìúÎ•º ÌïúÎã§Í≥† ÏÉÅÏÉÅÏùÑ Ìï¥ Î¥ÖÏãúÎã§.&lt;/p>
&lt;p>Ïö∞Î¶¨Í∞Ä ÏûëÏÑ±Ìïú Kafka ÌÅ¥Îü¨Ïä§ÌÑ∞ Yaml ÌååÏùºÏóêÏÑú Ïª®ÌÖåÏù¥ÎÑà Ïù¥ÎØ∏ÏßÄ Î≤ÑÏ†ÑÏùÑ Ïò¨Î¶¨Í≥†.. ÎßåÏïΩ ÌÅ¥Îü¨Ïä§ÌÑ∞ ÏÑ§ÏπòÎ•º ÌïòÎ©¥ÏÑú Îã§Î•∏ Î¶¨ÏÜåÏä§Î•º Í∞ÄÏ†∏Îã§ ÏçºÎã§Î©¥ Ìò∏ÌôòÏù¥ ÎêòÎäîÏßÄ ÌôïÏù∏ÌïòÍ≥†&amp;hellip; Îì±Îì±Îì±Ïùò Î≥µÏû°Ìïú ÏûëÏóÖÏù¥ Í∏∞Îã§Î¶¨Í≥† ÏûàÏùÑ Í≤ÉÏûÖÎãàÎã§.&lt;/p>
&lt;p>ÌïòÏßÄÎßå ÎàÑÍ∞Ä Ïù¥ ÏûëÏóÖÏùÑ ÎØ∏Î¶¨ Ìï¥ ÎëêÏóàÎã§Î©¥?&lt;/p>
&lt;p>Í∑∏Í≤ÉÏùÑ &lt;code>Helm Chart&lt;/code> ÎùºÍ≥† Î∂ÄÎ•¥Í≥†, Ï†ÄÌù¨Îäî &lt;code>Helm install Kafka&lt;/code> Îßå ÏûÖÎ†•ÌïòÎ©¥ Ïù¥ÎØ∏ ÎÑ§Ìä∏ÏõåÌÅ¨, ÌÅ¥Îü¨Ïä§ÌÑ∞ ÏÑ§Ï†ïÏù¥ ÏôÑÎ£åÎêú Ïπ¥ÌîÑÏπ¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î•º ÏñªÏùÑ Ïàò ÏûàÍ≤å Îê©ÎãàÎã§.&lt;/p>
&lt;p>Í∑ºÎç∞ ÎßåÏïΩ Î™®Îëê Í∞ôÏùÄ Helm ChartÎ•º ÏÇ¨Ïö©ÌïúÎã§Î©¥, Ïã§ÌóòÏö©ÏúºÎ°ú Kafak Ïª®ÌÖåÏù¥ÎÑà Ìïú ÎåÄÎßå ÎùÑÏõåÎ≥¥Í∏∞Î•º ÏõêÌïòÎäî Ïö∞Î¶¨Í∞ôÏùÄ(?) ÏÇ¨ÎûåÍ≥º, Kafka ÏàòÎ∞±ÎåÄÍ∞Ä ÌÅ¥Îü¨Ïä§ÌÑ∞Î•º Ïù¥Î§ÑÏïº ÌïòÎäî ÌÅ∞ ÌöåÏÇ¨Í∞Ä, ÏÑúÎ°ú Í∞ôÏùÄ ÏÑ§Ï†ïÏùÑ ÏÇ¨Ïö©Ìï† Ïàò Î∞ñÏóê ÏóÜÏùÑ Í≤ÉÏûÖÎãàÎã§.&lt;/p>
&lt;p>Ïù¥Îü∞ Í≤ΩÏö∞Î•º ÎåÄÎπÑÌï¥, HelmÎ∞è ChartÎäî &lt;code>Values.yaml&lt;/code> Ïù¥ÎùºÎäî Ï∂îÍ∞Ä ÏÑ§Ï†ï ÌååÏùºÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§.&lt;/p>
&lt;p>Ï¶â, ÎßåÏïΩ ÎÇ¥Í∞Ä Ïª®ÌÖåÏù¥ÎÑà Ìïú ÎåÄÎßå ÌïÑÏöîÌïòÎã§Î©¥ Ï∞®Ìä∏Ïùò &lt;code>values.yaml&lt;/code> ÏùÑ Ïûò ÏùΩÍ≥†, &lt;code>kafka.container-count : 1&lt;/code> Í≥º Í∞ôÏù¥ ÏÑ§Ï†ïÌïòÎ©¥ Ìï¥Îãπ Î≥ÄÏàòÍ∞Ä Ï£ºÏûÖÎê®ÏúºÎ°úÏç®, Helm ChartÎ•º ÎÇ¥Í∞Ä ÌïÑÏöîÌïú ÏÑ§Ï†ïÏùÑ ÎÑ£Ïñ¥ Ïú†Ïó∞ÌïòÍ≤å ÏÇ¨Ïö©Ìï† Ïàò ÏûàÎäî ÏãùÏûÖÎãàÎã§. (ÎßàÏπò ÏÑúÎ≤ÑÏùò ÌôòÍ≤Ω Î≥ÄÏàò Í∞ôÏù¥Ïöî!)&lt;/p>
&lt;h3 id="metallb-ÏÑ§Ïπò">MetalLB ÏÑ§Ïπò
&lt;/h3>&lt;ul>
&lt;li>Ï∞∏Í≥†Ìïú Í∏Ä : &lt;a class="link" href="https://metallb.universe.tf/installation/" target="_blank" rel="noopener"
>Installation With Helm&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Ïù¥Ï†ú HelmÏùÑ ÏÇ¨Ïö©Ìï¥ Î°úÎìúÎ∞∏Îü∞ÏÑúÏù∏ MetalLBÎ•º ÏÑ§ÏπòÌï¥ Î¥ÖÏãúÎã§!&lt;/p>
&lt;p>Îã§Ïùå Ïª§Îß®ÎìúÎ•º ÏàúÏ∞®Ï†ÅÏúºÎ°ú ÏûÖÎ†•Ìï©ÎãàÎã§. Î≥ÑÎã§Î•∏ ÎßêÏù¥ ÏóÜÎã§Î©¥ Î™®Îì† Ïª§Îß®ÎìúÎäî &lt;code>Control Node&lt;/code>ÏóêÏÑú ÏûÖÎ†•Ìï©ÎãàÎã§.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">helm repo add metallb https://metallb.github.io/metallb
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">helm upgrade --install metallb metallb/metallb --create-namespace --namespace metallb-system --wait
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ïù¥ÌõÑ &lt;code>ip-address-pool.yaml&lt;/code> Ïù¥ÎûÄ ÌååÏùºÏùÑ ÌïòÎÇò ÏÉùÏÑ±Ìï¥, Îã§ÏùåÍ≥º Í∞ôÏù¥ ÏûëÏÑ±ÌïòÍ≥† &lt;code>kubectl apply -f ip-address-pool.yaml&lt;/code> ÏùÑ ÏûÖÎ†•ÌïòÏó¨ Ï†ÅÏö©ÏãúÌÇµÎãàÎã§.&lt;/p>
&lt;p>ÏïÑÎûòÎäî, Î°úÎìúÎ∞∏Îü∞ÏÑú Îì±Ïùò IPÍ∞Ä ÌïÑÏöîÌïú ÏÑúÎπÑÏä§Ïóê 192.168.0.200~192.168.0.250 ÏÇ¨Ïù¥Ïùò IPÎ•º Ìï†ÎãπÌï¥ Ï£ºÍ≤†Îã§Îäî ÎúªÏûÖÎãàÎã§.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">metallb.io/v1beta1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">IPAddressPool&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ipaddresspool&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">metallb-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">addresses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">192.168.0.200-192.168.0.250&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">metallb.io/v1beta1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">L2Advertisement&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">default&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">metallb-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ipAddressPools&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">ipaddresspool&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ïù¥Ï†ú, Ï†ïÏÉÅÏ†ÅÏúºÎ°ú ÏÑ§Ï†ïÎêòÏóàÎã§Î©¥ LoadBalancerÎ•º ÏÇ¨Ïö©ÌïòÎäî ÏÑúÎπÑÏä§Ïóê IPÍ∞Ä Ìï†ÎãπÎê©ÎãàÎã§.&lt;/p>
&lt;p>&lt;code>kubectl get svc -n kube-system&lt;/code> Î•º ÏûÖÎ†•Ìï¥ &lt;code>traefik&lt;/code>Ïùò &lt;code>EXTERNAL-IP&lt;/code> Î∂ÄÎ∂ÑÏù¥ 192.168.0.xxx Î•º Ìï†ÎãπÎ∞õÏïòÎäîÏßÄ ÌôïÏù∏Ìï©ÎãàÎã§.&lt;/p>
&lt;p>ÏïÑÎßà Î≥ÑÎèÑÎ°ú ÏÑ§Ï†ïÌïòÏßÄ ÏïäÏïòÎã§Î©¥, 192.168.0.200ÏùÑ Ìï†ÎãπÎ∞õÏïòÏùÑ Í≤ÉÏûÖÎãàÎã§.&lt;/p>
&lt;h3 id="Í≥µÏú†Í∏∞-Ìè¨Ìä∏-Ìè¨ÏõåÎî©-ÏÑ§Ï†ï">Í≥µÏú†Í∏∞ Ìè¨Ìä∏ Ìè¨ÏõåÎî© ÏÑ§Ï†ï
&lt;/h3>&lt;p>TraefikÏùò IPÎ•º ÌôïÏù∏ÌñàÎã§Î©¥, (Îã§Ïùå ÏãúÍ∞ÑÏóê Ìï¥Ïïº Ìï† ÏùºÏùÑ) ÌïòÎÇòÎßå ÎØ∏Î¶¨ Ìï¥ ÎëêÎèÑÎ°ù Ìï©ÎãàÎã§.&lt;/p>
&lt;p>Í≥µÏú†Í∏∞Ïùò Ìè¨Ìä∏Ìè¨ÏõåÎî© ÏÑ§Ï†ïÏùÑ Ï∞æÏïÑ, 80, 443Î≤à Ìè¨Ìä∏Î•º ÏúÑÏóêÏÑú ÌôïÏù∏Ìïú TraefikÏùò IPÎ°ú Ìè¨Ìä∏Ìè¨ÏõåÎî© Ìï¥ Ï§çÎãàÎã§.&lt;/p>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-3.-helm-%EC%84%A4%EC%B9%98-%EB%B0%8F-metallb%EB%A1%9C-%EB%A1%9C%EB%93%9C-%EB%B0%B8%EB%9F%B0%EC%84%9C-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0/image.png"
width="895"
height="652"
loading="lazy"
alt="IpTime Í≥µÏú†Í∏∞ ÏÑ§Ï†ï ÌéòÏù¥ÏßÄ. 80,443 Ìè¨Ìä∏Î•º Ìè¨Ìä∏Ìè¨ÏõåÎî©ÌñàÎã§."
class="gallery-image"
data-flex-grow="137"
data-flex-basis="329px"
>&lt;/p>
&lt;h3 id="metallbÎäî-Ïñ¥ÎñªÍ≤å-ÏûëÎèôÌïòÎÇòÏöî">MetalLBÎäî Ïñ¥ÎñªÍ≤å ÏûëÎèôÌïòÎÇòÏöî?
&lt;/h3>&lt;p>MetalLBÎäî ARP Î™®ÎìúÏôÄ BGP Î™®Îìú ÎëêÍ∞ÄÏßÄÎ°ú ÏûëÎèôÌï† Ïàò ÏûàÏúºÎÇò, Ï†ÄÌù¨Îäî ARP Î™®ÎìúÎ•º ÏÇ¨Ïö©ÌïòÎØÄÎ°ú ARP Î™®ÎìúÏùò ÏûëÎèô Î∞©Î≤ïÏóê ÎåÄÌï¥ ÏïÑÏ£º Í∞ÑÎã®Ìûà(?) ÏïåÏïÑÎ≥¥ÎèÑÎ°ù ÌïòÍ≤†ÏäµÎãàÎã§.&lt;/p>
&lt;p>Ïù¥ÎØ∏ÏßÄÎ•º Î≥¥Í∏∞ Ï†ÑÏóê, Î∞∞Í≤Ω ÏßÄÏãùÏù¥ ÏïΩÍ∞Ñ ÌïÑÏöîÌï©ÎãàÎã§.&lt;/p>
&lt;ol>
&lt;li>Mac AddrÎäî ÌïòÎìúÏõ®Ïñ¥Ïóê Î∞ïÌòÄÏûàÎäî Ï£ºÏÜåÎ°ú, Í≥µÏû• Ï∂úÍ≥†ÏãúÎ∂ÄÌÑ∞ ÏûàÏúºÎ©∞ Í≥†Ïú†Ìï©ÎãàÎã§.&lt;/li>
&lt;li>Í≥µÏú†Í∏∞(ÎùºÏö∞ÌÑ∞)Ïùò Ìè¨Ìä∏Ìè¨ÏõåÎî©ÏùÄ, ÌäπÏ†ïÌïú Ìè¨Ìä∏Î°ú Ïô∏Î∂Ä ÏöîÏ≤≠ÏùÑ Î∞õÏïòÏùÑ Ïãú ÎÇ¥Î∂ÄÎßùÏùò ÌäπÏ†ï IPÎ°ú Î≥ÄÌôòÌï¥ ÏöîÏ≤≠ÏùÑ ÌïòÎäî Ïó≠Ìï†ÏùÑ Ìï¥ Ï§çÎãàÎã§.
&lt;ul>
&lt;li>ÏòàÎ•º Îì§Ïñ¥ ÏúÑÏóê ÏÑ§Ï†ïÌïú 80Î≤à Ìè¨Ìä∏, 443Î≤à Ìè¨Ìä∏Ïóê 192.168.0.200ÏúºÎ°ú ÏÑ§Ï†ïÏùÑ Ìï¥ ÎëêÏóàÎã§Î©¥, http(80Ìè¨Ìä∏), https(443Ìè¨Ìä∏) Ïóê ÎåÄÌï¥ ÎÇ¥Î∂ÄÎßùÏóêÏÑú 192.168.0.200 ÏùÑ Í∞ÄÏßÑ ÎÖ∏ÎìúÎ•º Ïó∞Í≤∞Ìï¥ Ï§çÎãàÎã§.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>Ïù¥ÌõÑÏùò ÎÑ§Ìä∏ÏõåÌÅ¨ ÏöîÏ≤≠ ÌùêÎ¶ÑÏùÄ Îã§ÏùåÍ≥º Í∞ôÏäµÎãàÎã§.&lt;/strong>&lt;/p>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-3.-helm-%EC%84%A4%EC%B9%98-%EB%B0%8F-metallb%EB%A1%9C-%EB%A1%9C%EB%93%9C-%EB%B0%B8%EB%9F%B0%EC%84%9C-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0/image-1.png"
width="626"
height="818"
loading="lazy"
alt="Ïô∏Î∂ÄÏóêÏÑú https, Í≥µÏú†Í∏∞ IPÎ°ú Ï†ëÍ∑º"
class="gallery-image"
data-flex-grow="76"
data-flex-basis="183px"
>&lt;/p>
&lt;ol>
&lt;li>&lt;code>https://&lt;/code> Î°ú ÏÑúÎ≤ÑÏóê Ï†ëÍ∑ºÌïòÎ©¥, &lt;code>443&lt;/code> Ìè¨Ìä∏Î•º Ïô∏Î∂ÄÏóêÏÑú ÏöîÏ≤≠ÌïòÍ≤å Îê©ÎãàÎã§.&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-3.-helm-%EC%84%A4%EC%B9%98-%EB%B0%8F-metallb%EB%A1%9C-%EB%A1%9C%EB%93%9C-%EB%B0%B8%EB%9F%B0%EC%84%9C-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0/image-2.png"
width="844"
height="919"
loading="lazy"
alt="Í≥µÏú†Í∏∞Í∞Ä 192.168.0.200ÏùÑ Î™®Î•¥ÎØÄÎ°ú ARP Request"
class="gallery-image"
data-flex-grow="91"
data-flex-basis="220px"
>&lt;/p>
&lt;ol start="2">
&lt;li>Ï†ÄÌù¨Í∞Ä ÏúÑÏóêÏÑú ÏÑ§Ï†ïÌïú &lt;code>Ìè¨Ìä∏ Ìè¨ÏõåÎî©&lt;/code> ÏÑ§Ï†ïÏúºÎ°ú Ïù∏Ìï¥, ÎùºÏö∞ÌÑ∞Îäî &lt;code>192.168.0.200&lt;/code>ÏóêÍ≤å Ìä∏ÎûòÌîΩÏùÑ Ï†ÑÎã¨Ìï¥Ïïº Ìï©ÎãàÎã§. Í∑∏Îü∞Îç∞ ÎùºÏö∞ÌÑ∞Îäî ÌòÑÏû¨ &lt;code>192.168.0.200&lt;/code> Ï£ºÏÜåÎ•º Î™®Î•¥ÎØÄÎ°ú &lt;code>ÎÇ¥Î∂ÄÎßùÏùò Î™®ÎëêÏóêÍ≤å 192.168.0.200 ÎÇòÏôÄÎùº&lt;/code> Îäî ÏöîÏ≤≠ÏùÑ ÎøåÎ¶ΩÎãàÎã§. (ARP Request)&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-3.-helm-%EC%84%A4%EC%B9%98-%EB%B0%8F-metallb%EB%A1%9C-%EB%A1%9C%EB%93%9C-%EB%B0%B8%EB%9F%B0%EC%84%9C-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0/image-3.png"
width="679"
height="909"
loading="lazy"
alt="TraefikÏù¥ ÏûàÎäî ÎÖ∏ÎìúÍ∞Ä Response"
class="gallery-image"
data-flex-grow="74"
data-flex-basis="179px"
>&lt;/p>
&lt;ol start="3">
&lt;li>Í∑∏Îü¨Î©¥ TraefikÏù¥ ÏûàÎäî NodeÍ∞Ä &lt;code>Ìóâ Ï†ÑÎç∞Ïóº;;&lt;/code> ÌïòÍ≥† ÏûêÍ∏∞ &lt;code>Mac Address&lt;/code>Î•º Îã¥ÏùÄ ÏùëÎãµÏùÑ Î≥¥ÎÉÖÎãàÎã§. Ïù¥Î°ú Ïù∏Ìï¥ ÎùºÏö∞ÌÑ∞Îäî Ïô∏Î∂ÄÏóêÏÑú Îì§Ïñ¥Ïò® Ìä∏ÎûòÌîΩÏùÑ &lt;code>AA-AA-AA-AA&lt;/code>Î°ú Î≥¥ÎÇ¥Î©¥ ÎêúÎã§ÎäîÍ±∏ ÏïåÍ≤å Îê©ÎãàÎã§.&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-3.-helm-%EC%84%A4%EC%B9%98-%EB%B0%8F-metallb%EB%A1%9C-%EB%A1%9C%EB%93%9C-%EB%B0%B8%EB%9F%B0%EC%84%9C-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0/image-4.png"
width="635"
height="906"
loading="lazy"
alt="Ïô∏Î∂ÄÏôÄ Traefik NodeÍ∞Ä ÌÜµÏã† Í∞ÄÎä•"
class="gallery-image"
data-flex-grow="70"
data-flex-basis="168px"
>&lt;/p>
&lt;ol start="4">
&lt;li>Îî∞ÎùºÏÑú Ïù¥Ï†ú ÏÑúÎ°ú Ìä∏ÎûòÌîΩ Ï†ÑÎã¨Ïù¥ Í∞ÄÎä•ÌïòÎãà, ÌÜµÏã†Ïù¥ Í∞ÄÎä•ÌïòÍ≤å Îê©ÎãàÎã§.&lt;/li>
&lt;/ol>
&lt;h3 id="Ìó∑Í∞àÎ¶¨Îäî-Ï†ê">Ìó∑Í∞àÎ¶¨Îäî Ï†ê
&lt;/h3>&lt;p>Í∑∏Îü¨Î©¥? Ìó∑Í∞àÎ¶¨Îäî Î∂ÄÎ∂ÑÏù¥ ÏÉùÍπÅÎãàÎã§. ÌïòÎÇòÌïòÎÇò ÎåÄÎûµ Ï†ïÎ¶¨Ìï¥Î≥¥Î©¥&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>ÏïÑÎãà Í∑∏Îü¨Î©¥ Ìïú ÎÖ∏ÎìúÍ∞Ä IPÍ∞Ä Ïó¨Îü¨Í∞úÎ•º Í∞ÄÏßà Ïàò ÏûàÎÇò?&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>ÏòàÎ•º Îì§Ïñ¥, ÏïÑÍπåÏùò ÏòàÏãúÎùºÎ©¥ AA-AA-AA-AAÎäî Ïù¥ÎØ∏ DHCP ÏÑúÎ≤ÑÎ°úÎ∂ÄÌÑ∞ ÎÇ¥Î∂Ä IP ÌïòÎÇòÎ•º Ìï†ÎãπÎ∞õÏïòÏùÑ Í≤ÉÏûÖÎãàÎã§.&lt;/li>
&lt;li>Í∑∏Îü¨Î©¥ Ïó¨Í∏∞Ïóê Ï∂îÍ∞ÄÎ°ú IPÎ•º Ìï†ÎãπÎ∞õÎäî Í±¥Í∞Ä? ÎùºÍ≥† ÏÉùÍ∞ÅÌïòÎ©¥ ÎßûÏäµÎãàÎã§!&lt;/li>
&lt;li>&lt;code>MetalLB ÏãúÏä§ÌÖúÏóêÏÑ† Ìïú ÎÖ∏ÎìúÍ∞Ä Ïó¨Îü¨Í∞úÏùò ÎÇ¥Î∂Ä IPÎ•º Ìï†ÎãπÎ∞õÏùÑ Ïàò ÏûàÏäµÎãàÎã§.&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>ÎßåÏïΩ TraefikÏù¥ ÏûàÎäî ÎÖ∏ÎìúÍ∞Ä Ï£ΩÏúºÎ©¥ Ïñ¥ÎñªÍ≤å ÎèºÏöî?&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>ÎãπÏó∞Ìûà? Ïû†Íπê ÎèôÏïà Ï†ëÍ∑ºÏù¥ Î∂àÍ∞ÄÎä•ÌïòÍ≤å Îã§Ïö¥Îê©ÎãàÎã§.&lt;/li>
&lt;li>ÎåÄÏã† TraefikÏù¥ Îã§Î•∏ ÎÖ∏ÎìúÏóê Îú∞ Í±∞Í≥†, Í∑∏ Îí§ ÏÉàÎ°ú ARP Request/ResponseÎ•º ÏßÑÌñâÌïòÎ©¥ ÏÉàÎ°úÏö¥ Mac Address(Node)Î°ú Ìè¨ÏõåÎî©ÎêòÎØÄÎ°ú Ïû•Ïï†Í∞Ä Î≥µÍµ¨ÎêòÍ≤å Îê©ÎãàÎã§.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>ARP ResponseÎäî ÎàÑÍ∞Ä Ìï¥Ï£ºÎäîÍ±∞ÏóêÏöî?&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>MetalLB Ïª®ÌÖåÏù¥ÎÑàÍ∞Ä ARP Response Î∞è, Ìï¥Îãπ Ï£ºÏÜåÎ°ú Îì§Ïñ¥Ïò® Ìä∏ÎûòÌîΩÏùÑ Pod (Ïó¨Í∏∞ÏÑúÎäî Traefik) ÏúºÎ°ú Ïö¥Î∞òÌï¥Ï£ºÎäî Ïó≠Ìï†ÏùÑ Ìï©ÎãàÎã§.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h3 id="ÎßàÏπòÎ©∞">ÎßàÏπòÎ©∞
&lt;/h3>&lt;p>Ìï¥Îãπ ÎÇ¥Ïö©ÏùÄ Î¨∏ÏÑúÎ•º Ï∞æÏïÑÎ≥¥Î©∞ Ìïú ÎèÖÏûêÏó∞Íµ¨ÏûÖÎãàÎã§. (ÌäπÌûà MetalLB Ï™ΩÏùÄ)&lt;/p>
&lt;p>ÌòπÏãú ÌãÄÎ¶∞ Í≤å ÏûàÎã§Î©¥ Ïñ∏Ï†úÎì†ÏßÄ ÏàòÏ†ïÌï¥Ï£ºÏãúÎ©¥ Í∞êÏÇ¨ÌïòÍ≤†ÏäµÎãàÎã§!&lt;/p></description></item><item><title>ÏßëÏóêÏÑú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞ Ï∞®Î¶¨Í∏∞ - 2. ÌÅ¥Îü¨Ïä§ÌÑ∞ Ï¥àÍ∏∞ ÏÑ§Ï†ï Ìé∏</title><link>https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-2.-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-%EC%B4%88%EA%B8%B0-%EC%84%A4%EC%A0%95-%ED%8E%B8/</link><pubDate>Sun, 03 Dec 2023 22:20:29 +0900</pubDate><guid>https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-2.-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-%EC%B4%88%EA%B8%B0-%EC%84%A4%EC%A0%95-%ED%8E%B8/</guid><description>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-2.-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-%EC%B4%88%EA%B8%B0-%EC%84%A4%EC%A0%95-%ED%8E%B8/cover.png" alt="Featured image of post ÏßëÏóêÏÑú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞ Ï∞®Î¶¨Í∏∞ - 2. ÌÅ¥Îü¨Ïä§ÌÑ∞ Ï¥àÍ∏∞ ÏÑ§Ï†ï Ìé∏" />&lt;h3 id="ÌïòÎìúÏõ®Ïñ¥">ÌïòÎìúÏõ®Ïñ¥
&lt;/h3>&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-2.-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-%EC%B4%88%EA%B8%B0-%EC%84%A4%EC%A0%95-%ED%8E%B8/image.png"
width="1280"
height="720"
loading="lazy"
alt="ÌïòÎìúÏõ®Ïñ¥ Íµ¨ÏÑ± ÎèÑÏãù"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="426px"
>&lt;/p>
&lt;p>ÏúÑ Í∑∏Î¶ºÏùÑ Ï∞∏Í≥†ÌïòÏó¨, ÌïòÎìúÏõ®Ïñ¥ Íµ¨ÏÑ±ÏùÑ ÏãúÏºú Ï§çÎãàÎã§.&lt;/p>
&lt;p>Ïª¥Ìì®ÌÑ∞Î•º ÏÇ¨Ïö©ÌïòÎäî ÏßëÏù¥ÎùºÎ©¥ ÏïÑÎßà ÎÜíÏùÄ ÌôïÎ•†Î°ú ÎùºÏö∞ÌÑ∞ÏôÄ Í∏∞Î≥∏ Îç∞Ïä§ÌÅ¨ÌÉëÏùÄ ÏÑ§Ï†ïÎêòÏñ¥ ÏûàÏùÑÌÖåÎãà, ÏúÑ ÎèÑÏãùÏóêÏÑú Ï¥àÎ°ùÏÉâ Î∂ÄÎ∂ÑÎßå Ï∂îÍ∞ÄÌïòÏãúÎ©¥ Îê©ÎãàÎã§.&lt;/p>
&lt;p>Ïù∏ÌÑ∞ÎÑ∑ÏóêÏÑú Ïä§ÏúÑÏπòÌóàÎ∏å (Unmanaged Switch)Î•º Íµ¨Îß§ÌïòÏÖ®Îã§Î©¥, Îã®ÏàúÌûà ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥Ïùò ÎûúÏÑ†ÏùÑ Ï†ÑÎ∂Ä Ïä§ÏúÑÏπòÌóàÎ∏åÏóê Ïó∞Í≤∞ÌïòÍ≥†, Í≥µÏú†Í∏∞ÏóêÏÑú Ïù∏ÌÑ∞ÎÑ∑ ÏÑ†ÏùÑ ÌïòÎÇò Îì§Í≥†ÏôÄÏÑú Ïä§ÏúÑÏπòÏóê Ïó∞Í≤∞ÌïòÎ©¥ Îê©ÎãàÎã§.&lt;/p>
&lt;h3 id="ÎùºÏ¶àÎ≤†Î¶¨-ÌååÏù¥-ÏÑ§Ï†ï">ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÏÑ§Ï†ï
&lt;/h3>&lt;p>Ïù¥Ï†ÑÏùò Ï†úÍ∞Ä Î∞úÌñâÌïú Í∏ÄÏù∏ &lt;a class="link" href="https://lemondouble.github.io/p/%EB%82%B4%EA%B0%80-%EB%B3%B4%EB%A0%A4%EA%B3%A0-%EC%98%AC%EB%A6%AC%EB%8A%94-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%EC%B4%88%EA%B8%B0-%EC%84%B8%ED%8C%85/" target="_blank" rel="noopener"
>ÎÇ¥Í∞Ä Î≥¥Î†§Í≥† Ïò¨Î¶¨Îäî ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ Ï¥àÍ∏∞ ÏÑ∏ÌåÖ&lt;/a> Í≥º, &lt;a class="link" href="https://lemondouble.github.io/p/sd%EC%B9%B4%EB%93%9C-%EC%84%B8%EA%B0%9C-%EB%82%A0%EB%A0%A4%EB%A8%B9%EA%B3%A0-%ED%99%94%EB%82%98%EC%84%9C-%EC%93%B0%EB%8A%94-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC%ED%8C%8C%EC%9D%B4-usb-boot-%EC%84%B8%ED%8C%85-%EB%B0%A9%EB%B2%95/" target="_blank" rel="noopener"
>SDÏπ¥Îìú ÏÑ∏Í∞ú ÎÇ†Î†§Î®πÍ≥† ÌôîÎÇòÏÑú Ïì∞Îäî ÎùºÏ¶àÎ≤†Î¶¨ÌååÏù¥ USB Boot ÏÑ∏ÌåÖ Î∞©Î≤ï&lt;/a>, ÌòπÏùÄ ÌÉÄ Î∏îÎ°úÍ∑∏Ïùò Í∏ÄÏùÑ Ï∞∏Í≥†ÌïòÏó¨ ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥Ïóê Ïö∞Î∂ÑÌà¨ ÏÑúÎ≤Ñ 22.04Î•º ÏÑ§ÏπòÌï¥ Ï§çÎãàÎã§.&lt;/p>
&lt;p>SDÏπ¥ÎìúÎ°úÎèÑ ÌÅ¥Îü¨Ïä§ÌÑ∞ Íµ¨Ï∂ïÏùÄ Í∞ÄÎä•ÌïòÎÇò, USB Boot ÏÑ§Ï†ïÏùÑ Ìïú ÌõÑ USBÎ°ú Î∂ÄÌåÖÌïòÎäîÍ≤ÉÏùÑ &lt;strong>Í∞ïÎ†•ÌïòÍ≤å Í∂åÏû•&lt;/strong> ÎìúÎ¶ΩÎãàÎã§.&lt;/p>
&lt;p>Ïó¨Í∏∞ÍπåÏßÄ Ïò§ÏÖ®Îã§Î©¥, ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ Ubuntu ÏÑ§Ïπò + SSH Ïó∞Í≤∞Ïù¥ Í∞ÄÎä•ÌïòÎã§Í≥† Í∞ÄÏ†ïÌï©ÎãàÎã§.&lt;/p>
&lt;p>Ïù¥ÌõÑ, &lt;code>sudo apt update -y &amp;amp;&amp;amp; sudo apt upgrdae -y &amp;amp;&amp;amp; sudo apt install linux-modules-extra-raspi&lt;/code> Î°ú ÌïÑÏöîÌïú Ï¢ÖÏÜçÏÑ± ÏÑ§ÏπòÎ•º ÏßÑÌñâÌï©ÎãàÎã§. (&lt;a class="link" href="https://lemondouble.github.io/p/%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4--ubuntu-22.04%EC%97%90-k3s-%EC%84%A4%EC%B9%98%ED%95%B4%EC%84%9C-%EC%93%B0%EA%B8%B0/" target="_blank" rel="noopener"
>ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ + Ubuntu 22.04Ïóê K3S ÏÑ§ÏπòÌï¥ÏÑú Ïì∞Í∏∞&lt;/a> Ï∞∏Í≥†)&lt;/p>
&lt;h3 id="dhcp-ÏÑúÎ≤Ñ-ÏÑ§Ï†ï">DHCP ÏÑúÎ≤Ñ ÏÑ§Ï†ï
&lt;/h3>&lt;p>Ïù¥ÌõÑ, ÏµúÏ¥à ÌïúÎ≤à Î™®Îì† ÌååÏù¥Î•º Ïºú Ï£ºÍ≥† ÎÇòÎ©¥ ÌååÏù¥Í∞Ä ÎÇ¥Î∂Ä IPÎ•º Ìï†ÎãπÎ∞õÍ≤å Îê©ÎãàÎã§. (ÏÑ§Ï†ïÏùÑ Î∞îÍæ∏ÏßÄ ÏïäÏïòÎã§Î©¥, 192.168.0.X ÌòïÌÉú)&lt;/p>
&lt;p>Î≥ÑÎèÑÎ°ú ÏÑ§Ï†ïÌïòÏßÄ ÏïäÏïòÎã§Î©¥, Ïù¥ ÎÇ¥Î∂Ä Ï£ºÏÜåÎäî ÌååÏù¥Ïùò Ï†ÑÏõêÏù¥ ÏºúÏßà ÎïåÎßàÎã§ &lt;strong>ÎÇ®Îäî IP Ï§ë ÌïòÎÇò&lt;/strong> Î•º Í∞ÄÏ†∏ÏôÄÏÑú ÏÑ§Ï†ïÌïòÍ≤å ÎêòÎäîÎç∞, Ïù¥ Í≤ΩÏö∞ IPÍ∞Ä Ïú†ÎèôÏ†ÅÏúºÎ°ú Î∞îÎÄåÏñ¥ Îß§Î≤à Î≥ÑÎèÑÎ°ú ÎÖ∏ÎìúÏùò IPÎ•º Í≥µÏú†Í∏∞ Í¥ÄÎ¶¨Ïûê ÌéòÏù¥ÏßÄ Îì±ÏóêÏÑú ÌôïÏù∏Ìï¥Ïïº ÌïòÎäî Î≤àÍ±∞Î°úÏõÄÏù¥ ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;p>&lt;del>(Ï†ïÌôïÌûàÎäî, Î∞îÎÄî ÏàòÎèÑ Ïïà Î∞îÎÄî ÏàòÎèÑ ÏûàÏäµÎãàÎã§. ÎåÄÎ∂ÄÎ∂Ñ Í∑∏ÎåÄÎ°ú Ïú†ÏßÄÌïòÎ†§Í≥† ÌïòÍ∏¥ ÌïòÏßÄÎßå, ÎßåÏùºÏùÑ ÏúÑÌï¥ ÎØ∏Î¶¨ ÏÑ∏ÌåÖÌï¥ Îë°ÎãàÎã§.)&lt;/del>&lt;/p>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-2.-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-%EC%B4%88%EA%B8%B0-%EC%84%A4%EC%A0%95-%ED%8E%B8/image-1.png"
width="885"
height="641"
loading="lazy"
alt="IpTime DHCP ÏÑúÎ≤Ñ ÏÑ§Ï†ï"
class="gallery-image"
data-flex-grow="138"
data-flex-basis="331px"
>&lt;/p>
&lt;p>ÏúÑÏôÄ Í∞ôÏù¥ DHCP ÏÑúÎ≤Ñ ÏÑ§Ï†ï (Iptime Í∏∞Ï§Ä) Í≥º ÎπÑÏä∑Ìïú Î©îÎâ¥Î•º Ï∞æÏïÑ, ÏµúÏ¥à Ïó∞Í≤∞Îêú ÌååÏù¥Ïùò &lt;strong>Mac Addr&lt;/strong> (1A-2B-3C&amp;hellip;) Î•º ÏûÖÎ†•Ìïú ÌõÑ, ÌäπÏ†ï IPÎ•º Ìï†ÎãπÌï¥ Ï§çÏãúÎã§.&lt;/p>
&lt;p>Ï†ÄÎäî Ìé∏ÏùòÏÉÅ 192.168.0.20(Control Node), 192.168.0.21~30(Worker Node)Î°ú ÏÑ§Ï†ïÌïòÏòÄÏúºÎÇò, Ìï¥Îãπ IPÎäî Ìé∏ÌïòÏã† ÎåÄÎ°ú ÏÑ§Ï†ïÌïòÎ©¥ Îê©ÎãàÎã§.&lt;/p>
&lt;p>Ïù¥ÌõÑ Windows ÏÇ¨Ïö©ÏûêÎùºÎ©¥ PuttyÎ•º Ïù¥Ïö©Ìï¥, LinuxÎÇò Mac ÏÇ¨Ïö©ÏûêÎùºÎ©¥ ssh CLIÎ•º ÌÜµÌï¥ Ïó∞Í≤∞ Ï§ÄÎπÑÎ•º Ìï©ÎãàÎã§.&lt;/p>
&lt;h3 id="supabase-Í∞ÄÏûÖ-Î∞è-postgres-Ï†ëÏÜç-Í∂åÌïú-Í∞ÄÏ†∏Ïò§Í∏∞">Supabase Í∞ÄÏûÖ Î∞è Postgres Ï†ëÏÜç Í∂åÌïú Í∞ÄÏ†∏Ïò§Í∏∞
&lt;/h3>&lt;p>Control NodeÎ•º ÏÑ∏ÎåÄÎÇò Ìï†ÎãπÌïòÍ∏∞Ïóî ÏûêÏõêÏù¥ ÎÑàÎ¨¥ ÏïÑÍπùÍ≥†, 1ÎåÄÎßå Ìï†ÎãπÌïòÏûêÎãà ÎßåÏïΩ Control NodeÍ∞Ä Ï£ΩÏóàÏùÑ Ïãú Î≥µÍµ¨Í∞Ä Ïñ¥Î†§ÏõåÏÑú ÏÑ†ÌÉùÌïú Ï∞®ÏÑ†Ï±ÖÏúºÎ°ú,&lt;/p>
&lt;p>Ï†ÄÌù¨Îäî ÎßåÏïΩ Control NodeÍ∞Ä Ï£ΩÎçîÎùºÎèÑ StateÎ•º Ïô∏Î∂Ä SaaSÏóê Î≥¥Í¥ÄÌïòÏó¨, ÎßåÏïΩ Control NodeÍ∞Ä Ï£ΩÎçîÎùºÎèÑ Control NodeÎ•º ÍµêÏ≤¥ÌïòÎ©¥ Ïô∏Î∂Ä StorageÏóêÏÑú ÏÉÅÌÉúÎ•º Í∞ÄÏ†∏ÏôÄ ÏÇ¨Ïö©Ìï† Ïàò ÏûàÎèÑÎ°ù Íµ¨Ï∂ïÌï† ÏòàÏ†ïÏûÖÎãàÎã§.&lt;/p>
&lt;p>Ïù¥Î•º ÏúÑÌï¥ÏÑú Î¨¥Î£å DBÎ•º Ï†úÍ≥µÌïòÎäî &lt;strong>Supabase&lt;/strong> Î•º ÏÇ¨Ïö©Ìï©ÎãàÎã§.&lt;/p>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-2.-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-%EC%B4%88%EA%B8%B0-%EC%84%A4%EC%A0%95-%ED%8E%B8/image-2.png"
width="327"
height="696"
loading="lazy"
alt="500MBÍπåÏßÄ Í≥µÏßú!"
class="gallery-image"
data-flex-grow="46"
data-flex-basis="112px"
>&lt;/p>
&lt;p>&lt;a class="link" href="https://supabase.com/" target="_blank" rel="noopener"
>Supabase&lt;/a> Ïóê Í∞ÄÏûÖÌïú ÌõÑ, Postgres Ï†ëÏÜç Í∂åÌïúÏùÑ ÏÑ§Ï†ï ÌõÑ Í∞ÄÏ†∏ÏòµÎãàÎã§.&lt;/p>
&lt;p>ÏÑ§Ï†ïÌï† Ïàò ÏûàÎã§Î©¥, SupabaseÎäî PgBouncerÎèÑ ÏßÄÏõêÌïòÎãà, PgBouncerÎèÑ ÏÑ§Ï†ïÌïòÎ©¥ Ï¢ãÏäµÎãàÎã§.&lt;/p>
&lt;p>(ÎèôÏãú Ïó∞Í≤∞ Ïàò Ï†úÌïú ÎñÑÎ¨∏Ïóê, Ïù¥ÌõÑ PortainerÎ•º ÏÑ§ÏπòÌïòÎ©¥ Ï†ïÏÉÅ ÏûëÎèôÏùÄ ÌïòÎÇò PgBouncer ÏóÜÏù¥Îäî ÏóêÎü¨ Î©îÏÑ∏ÏßÄÍ∞Ä ÎßéÏù¥ ÎúπÎãàÎã§.)&lt;/p>
&lt;h3 id="matser-node-ÏÑ§Ï†ïÌïòÍ∏∞">Matser Node ÏÑ§Ï†ïÌïòÍ∏∞
&lt;/h3>&lt;p>&lt;em>ÏúÑ ÏÑ§Ï†ïÏùÑ Îî∞ÎùºÏôÄ UbuntuÍ∞Ä ÏÑ§ÏπòÎêòÏñ¥ ÏûàÎã§Í≥† Í∞ÄÏ†ïÌï©ÎãàÎã§.&lt;/em>&lt;/p>
&lt;p>Îã§ÏùåÏùÑ Ï§ÄÎπÑÌï©ÎãàÎã§.&lt;/p>
&lt;ol>
&lt;li>Mater NodeÎ°ú ÏÇ¨Ïö©Ìï† ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥Ïùò IP (ÏúÑ DHCP ÏÑúÎ≤Ñ ÏÑ§Ï†ïÏóêÏÑú ÏÑ§Ï†ïÌïú IP)
&lt;ul>
&lt;li>ÏòàÏãú : &lt;code>192.168.0.20&lt;/code> ÌòïÌÉú, &lt;strong>Ïù¥ÌõÑ Worker Node Ïó∞Í≤∞Ïóê ÌïÑÏöîÌïòÎØÄÎ°ú, Î∞òÎìúÏãú Í∏∞Î°ùÌï¥ Îë°ÎãàÎã§.&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Ïø†Î≤ÑÎÑ§Ìã∞Ïä§ ÌÅ¥Îü¨Ïä§ÌÑ∞Í∞Ä ÏÑúÎ°ú JoinÌï†Îïå ÏÇ¨Ïö©Ìï† ÎûúÎç§ ÌÜ†ÌÅ∞ÏùÑ Ï§ÄÎπÑÌï©ÎãàÎã§. Ï†ÄÎäî ÌäπÎ¨∏ ÏóÜÏù¥ ÏïåÌååÎ≤≥ ÎåÄÏÜåÎ¨∏Ïûê+Ïà´Ïûê Ï°∞Ìï©ÏúºÎ°ú 60Í∏ÄÏûêÏßúÎ¶¨ Random StringÏùÑ ÏÇ¨Ïö©ÌñàÏäµÎãàÎã§. &lt;strong>Ïù¥ÌõÑ Worker Node Ïó∞Í≤∞Ïãú ÌïÑÏöîÌïòÎØÄÎ°ú, Î∞òÎìúÏãú Í∏∞Î°ùÌï¥ Îë°ÎãàÎã§.&lt;/strong>
&lt;ul>
&lt;li>ÏòàÏãú : &lt;code>jUofPu4hMegXLDKgCn6FbsfWcL8mFQu3DYEiyDjQgh8447cMAqwfgYwTeNU4&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ÏúÑÏóêÏÑú Ï§ÄÎπÑÌïú Postgres ÏóîÎìúÌè¨Ïù∏Ìä∏Î•º Ï§ÄÎπÑÌï©ÎãàÎã§.
&lt;ul>
&lt;li>ÏòàÏãú : &lt;code>postgres://postgres:postgresPassword@db.mydb.supabase.co:5432/postgres&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">curl -sfL https://get.k3s.io &lt;span class="p">|&lt;/span> sh -s - --write-kubeconfig-mode &lt;span class="m">644&lt;/span> --disable servicelb --token &amp;lt;2,myToken&amp;gt; --node-taint &lt;span class="nv">CriticalAddonsOnly&lt;/span>&lt;span class="o">=&lt;/span>true:NoExecute --bind-address &amp;lt;1,myControlNodeIP&amp;gt; --disable local-storage --datastore-endpoint &amp;lt;3, postGresEndpoint&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>1,2,3Ïóê ÎßûÏ∂∞ Îã§ÏùåÍ≥º Í∞ôÏù¥ ÏÑ§Ï†ïÌï©ÎãàÎã§. ÏïÑÎûòÎäî ÏòàÏãúÏûÖÎãàÎã§.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">curl -sfL https://get.k3s.io &lt;span class="p">|&lt;/span> sh -s - --write-kubeconfig-mode &lt;span class="m">644&lt;/span> --disable servicelb --token mytoken --node-taint &lt;span class="nv">CriticalAddonsOnly&lt;/span>&lt;span class="o">=&lt;/span>true:NoExecute --bind-address 192.168.0.20 --disable local-storage --datastore-endpoint postgres://postgres:postgresPassword@db.mydb.supabase.co:5432/postgres
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÌïòÎÇòÌïòÎÇò ÏòµÏÖòÏùÑ ÍπåÎ≥¥Î©¥ Îã§ÏùåÍ≥º Í∞ôÏäµÎãàÎã§.&lt;/p>
&lt;ol>
&lt;li>&lt;code>curl -sfL https://get.k3s.io | sh -s -&lt;/code> : K3SÎ•º ÏÑ§Ï†ïÌï©ÎãàÎã§.&lt;/li>
&lt;li>&lt;code>--write-kubeconfig-mode 644&lt;/code> : KubeConfig ÌååÏùºÏùò Ï†ëÍ∑º Í∂åÌïúÏùÑ 644Î°ú ÏÑ§Ï†ïÌï©ÎãàÎã§. Ï∂îÌõÑ ÏÑ§Ï†ïÏóê ÌïÑÏöîÌï©ÎãàÎã§.&lt;/li>
&lt;li>&lt;code>--disable servicelb&lt;/code> : K3SÏùò Í∏∞Î≥∏ &lt;a class="link" href="https://docs.k3s.io/networking#service-load-balancer" target="_blank" rel="noopener"
>Service Load Balancer&lt;/a> (klipper-lb) Î•º ÎπÑÌôúÏÑ±ÌôîÌï©ÎãàÎã§. Ïù¥ÌõÑ MetalLBÎùºÎäî Î°úÎìúÎ∞∏Îü∞ÏÑúÎ•º Î≥ÑÎèÑÎ°ú ÍπîÏïÑ ÏÇ¨Ïö©Ìï† ÏòàÏ†ïÏûÖÎãàÎã§.&lt;/li>
&lt;li>&lt;code>--token &amp;lt;mytoken&amp;gt;&lt;/code> : K3S ÌÅ¥Îü¨Ïä§ÌÑ∞Í∞Ä ÏÑúÎ°ú JoinÌï†Îïå Ïì∞Îäî ÌÜ†ÌÅ∞ÏùÑ ÏÑ§Ï†ïÌï©ÎãàÎã§.&lt;/li>
&lt;li>&lt;code> --node-taint CriticalAddonsOnly=true:NoExecute&lt;/code> : Control NodeÏóê TaintÎ•º Ï∂îÍ∞ÄÌï©ÎãàÎã§. Ï¶â, &lt;strong>ÏïàÏ†ïÏÑ±ÏùÑ ÏúÑÌï¥ Ï†ïÎßê Ï§ëÏöîÌïú Ïª®ÌÖåÏù¥ÎÑàÎ•º Ï†úÏô∏ÌïòÍ≥§ Control NodeÏóêÏÑú Ïã§ÌñâÌïòÏßÄ ÏïäÎèÑÎ°ù Ìï©ÎãàÎã§.&lt;/strong>. ÎßåÏïΩ ÎÖ∏ÎìúÍ∞Ä ÌïúÎåÄÍ±∞ÎÇò, ÏÉÅÍ¥ÄÏóÜÏù¥ Control NodeÏóêÏÑúÎèÑ Ïª®ÌÖåÏù¥ÎÑàÎ•º Ïã§ÌñâÌïòÍ≥† Ïã∂Îã§Î©¥ Ìï¥Îãπ ÏòµÏÖòÏùÑ Ï†úÍ±∞Ìï¥ Ï£ºÏÑ∏Ïöî.&lt;/li>
&lt;li>&lt;code>--bind-address &amp;lt;myControlNodeIP&amp;gt;&lt;/code> : ÎßàÏä§ÌÑ∞ ÎÖ∏ÎìúÎ•º ÌäπÏ†ï IPÏóê Ï¢ÖÏÜçÏãúÌÇ§Îäî ÌîåÎûòÍ∑∏ÏûÖÎãàÎã§.&lt;/li>
&lt;li>&lt;code>--disable local-storage&lt;/code> : K3SÏùò Í∏∞Î≥∏ Local StorageÎ•º ÎπÑÌôúÏÑ±ÌôîÌï©ÎãàÎã§. Ïù¥ÌõÑ Longhorn StorageÎ•º Î≥ÑÎèÑÎ°ú ÏÑ§ÏπòÌï¥ ÏÇ¨Ïö©Ìï† ÏòàÏ†ïÏûÖÎãàÎã§.&lt;/li>
&lt;li>&lt;code>--datastore-endpoint &amp;lt;postGresEndpoint&amp;gt;&lt;/code> : ÎÇ¥Ïû• Etcd ÎåÄÏã† Ïô∏Î∂Ä DatabaseÎ•º ÏÉÅÌÉú Ï†ÄÏû•ÏÜåÎ°ú ÏÇ¨Ïö©Ìï©ÎãàÎã§.&lt;/li>
&lt;/ol>
&lt;p>ÏúÑ Ïª§Îß®ÎìúÎ•º Master NodeÏóêÏÑú Ïã§ÌñâÌïòÎ©¥ Ïø†Î≤ÑÎÑ§Ìã∞Ïä§Í∞Ä ÏÑ§ÏπòÎêòÍ∏∞ ÏãúÏûëÌï©ÎãàÎã§.&lt;/p>
&lt;p>&lt;strong>Ïù¥ÌõÑ, Ìé∏ÏùòÎ•º ÏúÑÌï¥ Hosts ÌååÏùºÏùÑ ÏàòÏ†ïÌï©ÎãàÎã§.&lt;/strong>&lt;/p>
&lt;p>&lt;code>sudo vi /etc/hosts&lt;/code> Î•º Ïã§Ìñâ ÌõÑ (Ïñ¥Îñ§ ÌÖçÏä§Ìä∏ Ìé∏ÏßëÍ∏∞Î°ú Ïó¥Ïñ¥ÎèÑ Í¥úÏ∞ÆÏäµÎãàÎã§., ÏïÑÎûòÏôÄ Í∞ôÏùÄ Ï§ÑÏùÑ Ï∂îÍ∞ÄÌï©ÎãàÎã§.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">192.168.0.20 control01 control01.local
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">192.168.0.21 worker01 worker01.local
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">192.168.0.22 worker02 worker02.local
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">192.168.0.23 worker03 worker03.local
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ï†ÄÏùò Í≤ΩÏö∞ 192.168.0.20ÏùÑ control01Ïù¥ÎûÄ ÎãâÎÑ§ÏûÑÏúºÎ°ú, 21ÏùÑ worker01, 22Î•º worker02ÎùºÎäî ÎãâÎÑ§ÏûÑÏúºÎ°ú ÏÇ¨Ïö©ÌñàÏäµÎãàÎã§.&lt;/p>
&lt;p>Ïù¥Î†áÍ≤å ÏÑ§Ï†ïÌïòÎ©¥, Ïù¥ÌõÑ control NodeÏóêÏÑú ssh Ï†ëÏÜçÏãú &lt;code>ssh worker01&lt;/code> ÏãùÏúºÎ°ú Í∞ÑÎã®Ìûà Ï†ëÏÜçÏù¥ Í∞ÄÎä•Ìï¥ÏßëÎãàÎã§.&lt;/p>
&lt;p>&lt;strong>ÎßàÏßÄÎßâÏúºÎ°ú, Master NodeÏóêÏÑú ÏâΩÍ≤å Worker NodeÎ°ú Ï†ëÍ∑ºÌïòÍ∏∞ ÏúÑÌï¥, SSH ÏÑ§Ï†ïÏùÑ ÏßÑÌñâÌï©ÎãàÎã§.&lt;/strong>&lt;/p>
&lt;p>&lt;code>ssh-keygen&lt;/code> Î™ÖÎ†πÏñ¥Î•º ÏûÖÎ†•ÌïòÍ≥† ÏïÑÎ¨¥Í≤ÉÎèÑ ÏπòÏßÄ ÎßêÍ≥† ÏóîÌÑ∞Î•º ÏûÖÎ†•Ìï¥ ssh keyÎ•º ÎßåÎì≠ÎãàÎã§.
Ïù¥ÌõÑ &lt;code>~/.ssh/id_rsa.pub&lt;/code> ÌååÏùºÏùÑ Ïûò Î≥µÏÇ¨Ìï¥ Îë°ÎãàÎã§.&lt;/p>
&lt;h3 id="worker-node-ÏÑ§Ï†ïÌïòÍ∏∞">Worker Node ÏÑ§Ï†ïÌïòÍ∏∞
&lt;/h3>&lt;p>&lt;em>ÏúÑ ÏÑ§Ï†ïÏùÑ Îî∞ÎùºÏôÄ UbuntuÍ∞Ä ÏÑ§ÏπòÎêòÏñ¥ ÏûàÎã§Í≥† Í∞ÄÏ†ïÌï©ÎãàÎã§.&lt;/em>&lt;/p>
&lt;p>&lt;strong>Î®ºÏ†Ä SSH Ï†ëÏÜçÎ∂ÄÌÑ∞ ÏÑ§Ï†ïÌï©ÎãàÎã§.&lt;/strong>&lt;/p>
&lt;p>&lt;code>~/.ssh/authorized_keys&lt;/code>Ïóê, Ìïú Ï§Ñ Ï§ÑÎ∞îÍøà ÌõÑ Î∞©Í∏à Î≥µÏÇ¨Ìïú id_rsa.pubÏùò ÎÇ¥Ïö©ÏùÑ Î∂ôÏó¨ÎÑ£Í∏∞ Ìï©ÎãàÎã§.&lt;/p>
&lt;p>Ïù¥ÌõÑ control NodeÏóêÏÑú &lt;code>ssh worker01&lt;/code> Îì±ÏùÑ ÏûÖÎ†•ÌïòÏó¨ Ïó∞Í≤∞Ïù¥ Ïûò ÎêòÎäîÏßÄ ÌôïÏù∏Ìï©ÎãàÎã§.&lt;/p>
&lt;p>ÎßåÏïΩ Ïó∞Í≤∞Ïù¥ Ïûò ÎêòÏßÄ ÏïäÎäîÎã§Î©¥, ssh authorized_keys Îì±Î°ù Îì±ÏúºÎ°ú Í≤ÄÏÉâÌïòÏó¨ Ìï¥Í≤∞Ìï©ÎãàÎã§.&lt;/p>
&lt;p>&lt;strong>Ïù¥ÌõÑ K3SÎ•º ÏÑ§ÏπòÌï©ÎãàÎã§.&lt;/strong>&lt;/p>
&lt;p>Îã§ÏùåÏùÑ Ï§ÄÎπÑÌï©ÎãàÎã§.&lt;/p>
&lt;ol>
&lt;li>ÏúÑÏóêÏÑú ÏÑ§Ï†ïÌïú Master NodeÏùò IP&lt;/li>
&lt;li>ÏúÑÏóêÏÑú ÏÑ§Ï†ïÌïú Master NodeÏùò Token&lt;/li>
&lt;/ol>
&lt;p>Ïù¥ÌõÑ ÏïÑÎûò Ïª§Îß®ÎìúÎ•º ÏûÖÎ†•ÌïòÏó¨ Worker NodeÎ•º JoinÏãúÌÇµÎãàÎã§.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">curl -sfL https://get.k3s.io &lt;span class="p">|&lt;/span> &lt;span class="nv">K3S_URL&lt;/span>&lt;span class="o">=&lt;/span>https://&amp;lt;1,myControlNodeIP&amp;gt;:6443 &lt;span class="nv">K3S_TOKEN&lt;/span>&lt;span class="o">=&lt;/span>&amp;lt;2,myToken&amp;gt; sh -
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>1,2Ïóê ÎßûÏ∂∞ ÏúÑÏôÄ Í∞ôÏù¥ ÏÑ§Ï†ïÌï©ÎãàÎã§. ÏïÑÎûòÎäî ÏòàÏãúÏûÖÎãàÎã§.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">curl -sfL https://get.k3s.io &lt;span class="p">|&lt;/span> &lt;span class="nv">K3S_URL&lt;/span>&lt;span class="o">=&lt;/span>https://192.168.0.20:6443 &lt;span class="nv">K3S_TOKEN&lt;/span>&lt;span class="o">=&lt;/span>mytoken sh -
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ïù¥ÌõÑ Node JoinÏùÑ ÌôïÏù∏Ìï©ÎãàÎã§.&lt;/p>
&lt;h3 id="ÎÖ∏Îìú-join-ÌôïÏù∏-Î∞è-label-ÏÉùÏÑ±">ÎÖ∏Îìú Join ÌôïÏù∏ Î∞è Label ÏÉùÏÑ±
&lt;/h3>&lt;p>Ïù¥ÌõÑ Control NodeÏóêÏÑú &lt;code>kubectl get nodes&lt;/code> Î•º ÏûÖÎ†•ÌïòÏó¨ nodeÎì§Ïù¥ Ï†ïÏÉÅ JoinÌïú Í≤ÉÏùÑ ÌôïÏù∏Ìï©ÎãàÎã§.&lt;/p>
&lt;p>Ïù¥ÌõÑ, ROLES Î∂ÄÎ∂ÑÏùÑ ÏàòÏ†ïÌïòÍ∏∞ ÏúÑÌï¥ Control NodeÏóêÏÑú Í∞Å NodeÏóê ÎåÄÌï¥ ÏïÑÎûò Ïª§Îß®ÎìúÎ•º ÏÑ§Ï†ïÌï©ÎãàÎã§.&lt;/p>
&lt;p>ÎßåÏïΩ NodeÍ∞Ä Ï†ÅÎã§Î©¥ Ï†ÅÏùÄ Í∞úÏàòÎßåÌÅº, Îçî ÎßéÎã§Î©¥ Îçî ÎßéÏù¥ Ìï¥ Ï£ºÏãúÎ©¥ Îê©ÎãàÎã§.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">kubectl label nodes worker01 kubernetes.io/role&lt;span class="o">=&lt;/span>worker
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl label nodes worker02 kubernetes.io/role&lt;span class="o">=&lt;/span>worker
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl label nodes worker03 kubernetes.io/role&lt;span class="o">=&lt;/span>worker
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Ïù¥ÌõÑ, Ïª®ÌÖåÏù¥ÎÑà ÏÉùÏÑ±Ïãú ÌäπÏ†ï Pod (Worker Node) ÏóêÎßå Îú®ÎèÑÎ°ù ÏÑ§Ï†ïÏùÑ ÏúÑÌïú LabelÏùÑ Ï∂îÍ∞ÄÌï©ÎãàÎã§. (ÏúÑÏôÄ ÏïÑÎûò Îëò Îã§ Ìï¥ Ï§òÏïº Ìï©ÎãàÎã§!)&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">kubectl label nodes worker01 node-type&lt;span class="o">=&lt;/span>worker
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl label nodes worker02 node-type&lt;span class="o">=&lt;/span>worker
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl label nodes worker03 node-type&lt;span class="o">=&lt;/span>worker
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÏµúÏ¢Ö Ï†êÍ≤ÄÏùÑ ÏßÑÌñâÌï©ÎãàÎã§.&lt;/p>
&lt;p>ÏïÑÎûòÎäî Ï†ú Í≤ΩÏö∞Ïùò Ï∂úÎ†•ÏûÖÎãàÎã§. Ïó¨Îü¨Î∂ÑÏùÄ ÏïÑÏßÅ ROLES Î∂ÄÎ∂ÑÏù¥ Îã§Î•º Ïàò ÏûàÏäµÎãàÎã§. (&lt;code>kubectl get nodes&lt;/code>)&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">NAME STATUS ROLES AGE VERSION
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">control01 Ready control-plane,master 307d v1.27.4+k3s1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">worker02 Ready worker 307d v1.27.4+k3s1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">worker01 Ready worker 307d v1.27.4+k3s1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">worker03 Ready worker 307d v1.27.4+k3s1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ÎòêÌïú, Ï∂îÍ∞ÄÌïú ÎùºÎ≤®ÎèÑ ÌôïÏù∏Ìï©ÎãàÎã§. (&lt;code>kubectl get nodes --show-labels&lt;/code>)&lt;/p>
&lt;p>Ïó¨Îü¨ Í∞úÏùò ÎùºÎ≤®Ïù¥ ÏûàÎäîÍ≤å ÎãπÏó∞ÌïòÎãà, Ïö∞Î¶¨Í∞Ä Ï∂îÍ∞ÄÌïú &lt;code>node-type=worker&lt;/code> Í∞Ä Ïûò ÏûàÎäîÏßÄÎßå ÌôïÏù∏ÌïòÎ©¥ Îê©ÎãàÎã§.&lt;/p>
&lt;h3 id="ÎßàÏπòÎ©∞">ÎßàÏπòÎ©∞
&lt;/h3>&lt;p>Ï∂ïÌïòÌï©ÎãàÎã§! ÌïòÎìúÏõ®Ïñ¥ Î∞è Ïø†Î≤ÑÎÑ§Ìã∞Ïä§ ÏÑ§ÏπòÎ•º ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÎßàÏ≥§ÏäµÎãàÎã§.&lt;/p>
&lt;p>Í∏¥ ÏÑ§Ï†ïÏù∏ ÎßåÌÅº, ÏßÑÌñâÏù¥ ÎßâÌûàÎäî Î∂ÄÎ∂ÑÏù¥ ÏûàÏúºÎ©¥ Ìé∏ÌïòÍ≤å ÎåìÍ∏ÄÎ°ú ÏïåÎ†§Ï£ºÏÑ∏Ïöî!&lt;/p></description></item><item><title>ÏßëÏóêÏÑú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞ Ï∞®Î¶¨Í∏∞ - 1. ÌïòÎìúÏõ®Ïñ¥ Ìé∏</title><link>https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-1.-%ED%95%98%EB%93%9C%EC%9B%A8%EC%96%B4-%ED%8E%B8/</link><pubDate>Sun, 03 Dec 2023 14:54:33 +0900</pubDate><guid>https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-1.-%ED%95%98%EB%93%9C%EC%9B%A8%EC%96%B4-%ED%8E%B8/</guid><description>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-1.-%ED%95%98%EB%93%9C%EC%9B%A8%EC%96%B4-%ED%8E%B8/cover.png" alt="Featured image of post ÏßëÏóêÏÑú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞ Ï∞®Î¶¨Í∏∞ - 1. ÌïòÎìúÏõ®Ïñ¥ Ìé∏" />&lt;p>Ï≤´ ÏãúÍ∞ÑÏùÄ ÌïòÎìúÏõ®Ïñ¥ ÏãúÍ∞ÑÏûÖÎãàÎã§! Í∞ÑÎã®Ìïú Í≤ÉÎ∂ÄÌÑ∞ Ï°∞Í∏à Î≥µÏû°Ìïú Ïù¥ÏïºÍ∏∞Î∂ÄÌÑ∞, Îπ†Î•¥Í≤å ÏãúÏûëÌï¥ Î¥ÖÏãúÎã§!&lt;/p>
&lt;h3 id="1-sbc-single-board-computer">1. SBC (Single Board Computer)
&lt;/h3>&lt;p>Ïó≠Ïãú Ï†úÏùº Ï§ëÏöîÌïúÍ±¥ SBCÍ≤†Ï£†?&lt;/p>
&lt;p>Í∞úÏù∏Ï†ÅÏúºÎ°úÎäî ÎãπXÎßàÏºìÏóê ÏïåÎ¶º Í±∏Ïñ¥ÎÜìÍ≥†, &lt;strong>Raspberry PI 4B 4GB Î™®Îç∏ or 8GB&lt;/strong> Î™®Îç∏Ïù¥ Ïò¨ÎùºÏò¨ ÎïåÎßàÎã§ ÌïòÎÇòÏî© ÎßûÏ∂îÏãúÎäîÍ±∏ Ï∂îÏ≤úÌï©ÎãàÎã§.&lt;/p>
&lt;p>Î†àÌçºÎü∞Ïä§Í∞Ä Í∞ÄÏû• ÎßéÍ≥†, ÏÜåÌîÑÌä∏Ïõ®Ïñ¥ Ïú†ÏßÄÎ≥¥Ïàò Î∞è ÌÖåÏä§Ìä∏Í∞Ä Ïûò ÏßÑÌñâÎêòÎ©∞, Ï§ëÍ≥†Î°ú Íµ¨ÏûÖÌïòÎäî Í≤ΩÏö∞ Í∞ÄÍ≤©Ï†Å ÎîîÎ©îÎ¶¨Ìä∏ÎèÑ Ïñ¥ÎäêÏ†ïÎèÑ ÏÉÅÏáÑÍ∞Ä Í∞ÄÎä•Ìï©ÎãàÎã§.&lt;/p>
&lt;p>Ï∞∏Í≥†Î°ú ÌòÑÏû¨ Ï†ÅÏ†ïÍ∞ÄÎäî &lt;strong>8~10ÎßåÏõê&lt;/strong> ÏÇ¨Ïù¥Ïù∏ Í≤É Í∞ôÏäµÎãàÎã§. (2023.12 ÏÑúÏö∏ Í∏∞Ï§Ä)&lt;/p>
&lt;p>Ï∞∏Í≥†Î°ú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥Îäî ARM ÏïÑÌÇ§ÌÖçÏ≥êÎ•º ÏÇ¨Ïö©ÌïòÎã§ Î≥¥Îãà, ÏùºÎ∂Ä X86Îßå ÏßÄÏõêÌïòÎäî ÌîÑÎ°úÍ∑∏Îû®ÏùÑ Íµ¥Î¶¨Îäî Îç∞ Ïñ¥Î†§ÏõÄÏùÑ Í≤™ÏùÑ Ïàò ÏûàÏäµÎãàÎã§. (ÎåÄÌëúÏ†ÅÏúºÎ°ú ÏÖÄÌîÑÌò∏Ïä§Ìä∏ &lt;a class="link" href="https://sentry.io/" target="_blank" rel="noopener"
>Sentry&lt;/a> Í∞Ä ÏûàÏäµÎãàÎã§.)&lt;/p>
&lt;p>Í≤ΩÏ†úÏ†Å Ïó¨Ïú†Í∞Ä ÎêòÍ≥†, Ïù¥Îü∞ Í≤ΩÏö∞Î•º ÌîºÌïòÍ≥† Ïã∂Îã§Î©¥ &lt;strong>Intel NUC&lt;/strong>ÎÇò ÏïåÎ¶¨ÏùµÏä§ÌîÑÎ†àÏä§Î∞ú &lt;strong>N100 ÌÉëÏû¨ Mini PC&lt;/strong> ÎèÑ Ï¢ãÏùÄ ÏÑ†ÌÉùÏù¥ Îê† Ïàò ÏûàÏßÄ Ïã∂ÏäµÎãàÎã§.&lt;/p>
&lt;h3 id="2-ÏºÄÏù¥Ïä§">2. ÏºÄÏù¥Ïä§
&lt;/h3>&lt;p>ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ Í∏∞Ï§ÄÏúºÎ°†, ÏÇ¨ÏßÑÍ≥º Í∞ôÏùÄ ÌÉÄÏõå ÏºÄÏù¥Ïä§Î•º Ï∂îÏ≤úÎìúÎ¶ΩÎãàÎã§.&lt;/p>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-1.-%ED%95%98%EB%93%9C%EC%9B%A8%EC%96%B4-%ED%8E%B8/image.png"
width="392"
height="250"
loading="lazy"
alt="ÌÉÄÏõå ÏºÄÏù¥Ïä§"
class="gallery-image"
data-flex-grow="156"
data-flex-basis="376px"
>&lt;/p>
&lt;p>Í≥µÍ∞ÑÏùÑ Ìö®Ïú®Ï†ÅÏúºÎ°ú ÏÇ¨Ïö©Ìï† Ïàò ÏûàÍ≥†, Í∞ÄÍ≤©Ïù¥ Ïã∏Í≥†, Í≤∞Ï†ïÏ†ÅÏúºÎ°ú &lt;del>ÏÑ† Ï†ïÎ¶¨Î•º ÌïòÎ©¥ Ïù¥ÎªêÏÑú Í∏∞Î∂ÑÏù¥ Ï¢ãÏäµÎãàÎã§&lt;/del> ÏÑ† Ï†ïÎ¶¨ Î∞è Í¥ÄÎ¶¨ÌïòÍ∏∞Í∞Ä Ïö©Ïù¥Ìï©ÎãàÎã§.&lt;/p>
&lt;p>Îã®, Í∏∞Î≥∏ Íµ¨Îß§Ïãú Îî∏Î†§Ïò§Îäî Ïø®ÎßÅ ÏãúÏä§ÌÖúÏù¥ Î∂ÄÏã§ÌïòÎØÄÎ°ú Î≥ÑÎèÑÏùò Ï∂îÍ∞Ä Ïø®ÎßÅÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.&lt;/p>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-1.-%ED%95%98%EB%93%9C%EC%9B%A8%EC%96%B4-%ED%8E%B8/image-1.png"
width="366"
height="328"
loading="lazy"
alt="5V Fan"
class="gallery-image"
data-flex-grow="111"
data-flex-basis="267px"
>&lt;/p>
&lt;p>ÏúÑ ÏÇ¨ÏßÑÍ≥º Í∞ôÏùÄ 5V Ìå¨ÏùÑ ÌÅ¥Îü¨Ïä§ÌÑ∞ ÎÖ∏Îìú Ï§ë ÌïòÎÇòÏóê ÍºΩÏïÑÏÑú ÏÇ¨Ïö©ÌïòÍ±∞ÎÇò, (5V Ìå¨ ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÎùºÍ≥† Í≤ÄÏÉâÌïòÎ©¥ ÏûêÎ£åÍ∞Ä ÎßéÏù¥ ÎÇòÏòµÎãàÎã§.) Ìï∏Îîî ÏÑ†ÌíçÍ∏∞ Îì±ÏùÑ ÏòÜÏóê ÎÜîÎë¨Ï£ºÎäîÍ±∏ Ï∂îÏ≤úÌï©ÎãàÎã§.&lt;/p>
&lt;h3 id="3-Ï†ÑÎ†•-Í≥µÍ∏âÍ∏∞">3. Ï†ÑÎ†• Í≥µÍ∏âÍ∏∞
&lt;/h3>&lt;p>ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ 4B Î™®Îç∏ÏùÑ Í∏∞Ï§ÄÏúºÎ°ú, Ìïú Ïª¥Ìì®ÌÑ∞ÏóêÎäî 15W (5V 3A)Ïùò Ï†ÑÏõê Í≥µÍ∏âÏù¥ ÌïÑÏöîÌï©ÎãàÎã§. (&lt;a class="link" href="https://www.raspberrypi.com/products/raspberry-pi-4-model-b/" target="_blank" rel="noopener"
>Link&lt;/a>, A 15WÎ°ú Í≤ÄÏÉâ)&lt;/p>
&lt;p>Îî∞ÎùºÏÑú, ÌååÏù¥ ÌïòÎÇòÎãπ 15WÏùò Ï†ÑÎ†•ÏùÑ ÌïÑÏöîÎ°ú ÌïòÍ≥†, ÎßåÏïΩ 4ÎåÄÏùò ÌÅ¥Îü¨Ïä§ÌÑ∞Î•º Íµ¨ÏÑ±ÌïúÎã§Î©¥ ÏµúÎåÄ &lt;strong>60W&lt;/strong> Ï∂úÎ†•Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§.&lt;/p>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-1.-%ED%95%98%EB%93%9C%EC%9B%A8%EC%96%B4-%ED%8E%B8/image-2.png"
width="869"
height="595"
loading="lazy"
alt="Î©ÄÌã∞Ï∂©Ï†ÑÍ∏∞ ÏòàÏãú, ÏïÑÎûò USB A ÌÉÄÏûÖÏù¥ Ï¥ù 20WÏù¥Îã§."
class="gallery-image"
data-flex-grow="146"
data-flex-basis="350px"
>&lt;/p>
&lt;p>Îî∞ÎùºÏÑú, ÏòàÎ•º Îì§Ïñ¥ ÏúÑÏôÄ Í∞ôÏùÄ Ï∂©Ï†ÑÍ∏∞Ïùò USB AÌÉÄÏûÖ (ÏïÑÎûò 4Í∞ú) Ïóê Î≥ëÎ†¨ Ïó∞Í≤∞ÌïòÎ©¥ ÏöîÍµ¨ Ïö©ÎüâÎ≥¥Îã§ Í≥µÍ∏â Ïö©ÎüâÏù¥ Ï†ÅÏñ¥ Ï∂©Ï†ÑÍ∏∞Í∞Ä Í≥ºÎ∂ÄÌïòÍ∞Ä Í±∏Î¶¨Í≤å Îê©ÎãàÎã§.&lt;/p>
&lt;p>5V 3AÎ•º Í≥µÍ∏âÌï¥ Ï£ºÎäî Ï∂©Ï†ÑÍ∏∞Í∞Ä ÏãúÏ§ëÏóê ÎßéÏßÄ ÏïäÏïÑ (ÎåÄÎ∂ÄÎ∂Ñ 2.1A ÎòêÎäî 2.4A MaxÏûÖÎãàÎã§.) Ï†ÑÏö© Ï∂©Ï†ÑÍ∏∞Î•º ÏÇ¨ÎäîÍ≤å ÏïÑÎãàÎùºÎ©¥ Ïñ¥ÎäêÏ†ïÎèÑ Í≥ºÎ∂ÄÌïòÍ∞Ä Í±∏Î¶¨Í≤å ÎêòÍ≥†, Í≤ΩÌóòÏÉÅ 1A Ï∞®Ïù¥ Ï†ïÎèÑÎäî ÌÅ∞ Î¨∏Ï†úÍ∞Ä ÏóÜÏóàÏßÄÎßå, &lt;strong>Î©ÄÌã∞ Ï∂©Ï†ÑÍ∏∞Ïóê 4ÎåÄÎ•º Ïó∞Í≤∞ÌïòÎäî Îì±Ïùò&lt;/strong> Ïó∞Í≤∞ÏùÄ ÏûêÏ†úÌïòÎèÑÎ°ù Ìï©ÏãúÎã§.&lt;/p>
&lt;p>Î©ÄÌã∞ Ï∂©Ï†ÑÍ∏∞ÏóêÏÑú 5V 3A.. ÏïÑÎãà 5V 2.4AÎ•º Ïó¨Îü¨ Ìè¨Ìä∏Ïóê Í≥µÍ∏âÌï¥ Ï£ºÎäî Î©ÄÌã∞ Ï∂©Ï†ÑÍ∏∞ÎèÑ ÌåêÎß§ÌïòÎäî Í≥≥Ïù¥ ÏóÜÏúºÎØÄÎ°ú, ÎßåÏïΩ Ï†ÑÏõê Í≥µÍ∏â ÏÑ†ÏùÑ Ï†ïÎ¶¨ÌïòÍ≥† Ïã∂Îã§Î©¥ SMPS(Switching Mode Power Supply) ÎùºÎäî Ï†ÑÎ†• Í≥µÍ∏âÍ∏∞Î•º ÏÇ¨Îäî Í≤ÉÏù¥ Ï†úÏùº ÏïàÏ†ÑÌïú Î∞©Î≤ïÏùº Í≤ÉÏûÖÎãàÎã§. Ïù¥ ÎÇ¥Ïö©ÏùÄ ÎÇòÏ§ëÏóê Í∏∞ÌöåÍ∞Ä ÎêúÎã§Î©¥ Ìè¨Ïä§ÌåÖÌïòÍ≤†ÏäµÎãàÎã§.&lt;/p>
&lt;p>Í≤∞Î°†Ï†ÅÏúºÎ°ú, Ï†ÑÎ†• Í≥µÍ∏âÏùÄ&lt;/p>
&lt;ol>
&lt;li>Î©ÄÌã∞ Ï∂©Ï†ÑÍ∏∞Î•º ÏÇ¨Ïö©ÌïúÎã§Î©¥, Ï¥ù Ï†ÑÎ†•ÎüâÏùÑ Ïûò Î≥¥Í≥†, ÏßÄÎÇòÏπòÍ≤å Í≥ºÎ∂ÄÌïòÎêòÏßÄ ÏïäÎèÑÎ°ù ÏÑ†ÏùÑ Î∂ÑÎ∞∞ÌïòÍ∏∞ (6Ìè¨Ìä∏ Ï∂©Ï†ÑÍ∏∞Í∞Ä ÏûàÎã§Í≥†, 6Í∞úÏóê Îã§ ÍºΩÏúºÎ©¥ Ïïà Îê©ÎãàÎã§!)&lt;/li>
&lt;li>ÏïÑÎãàÎùºÎ©¥ 2.1VÏßúÎ¶¨ 1Íµ¨ Ï∂©Ï†ÑÍ∏∞Î•º Ïó¨Îü¨Í∞ú ÏÇ¨ÏÑú ÍºΩÍ∏∞&lt;/li>
&lt;/ol>
&lt;p>Ï†ïÎèÑÎ°ú ÏùºÎã® Ï†ïÎ¶¨Ìï¥ Î≥º Ïàò ÏûàÏùÑ Í≤É Í∞ôÏäµÎãàÎã§.&lt;/p>
&lt;h3 id="4-ssdÏôÄ-usb-uaspusb-attached-scsi-protocol">4. SSDÏôÄ USB UASP(USB Attached SCSI Protocol)
&lt;/h3>&lt;p>ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥Îäî Î≥ÑÎèÑÎ°ú Sata ÏÑ†Ïù¥ÎÇò NVME Ïä¨Î°ØÏù¥ ÏóÜÏñ¥ USBÎ•º ÌÜµÌï¥ SSDÎ•º Ïó∞Í≤∞ÌïòÍ≤å Îê©ÎãàÎã§.&lt;/p>
&lt;p>Ïù¥ Îïå, &lt;strong>SATA3&lt;/strong> ÏùÑ ÏÇ¨Ïö©ÌïòÎäî SSDÏùò Ï†ÑÏÜ° ÏÜçÎèÑÎäî ÏµúÎåÄ &lt;strong>6Gbps&lt;/strong>Ïù¥Í≥†, &lt;strong>USB 3.0&lt;/strong>Ïùò Ï†ÑÏÜ° ÏÜçÎèÑÎäî ÏµúÎåÄ &lt;strong>5Gbps&lt;/strong> ÏûÖÎãàÎã§. (Î¨ºÎ°†, Ïù¥Î°†Ï†ÅÏù∏ ÏÜçÎèÑÏù¥Î©∞ Ïã§Ï†úÎ°úÎäî Ïù¥Í≤ÉÎ≥¥Îã§ Ìõ®Ïî¨ Îçú ÎÇòÏòµÎãàÎã§.)&lt;/p>
&lt;p>Í∑∏Îü∞Îç∞, USB3.0ÏóêÏÑú UASPÎùºÎäî Í∏∞Îä•ÏùÑ ÏßÄÏõêÌïòÏßÄ ÏïäÎäî Í≤ΩÏö∞, USB 3.0Ïù¥ Îç∞Ïù¥ÌÑ∞Î•º Ï£ºÍ≥†Î∞õÎäîÎç∞ ÎπÑÌö®Ïú®Ï†ÅÏù∏ Î∞©Î≤ïÏúºÎ°ú Ï£ºÍ≥† Î∞õÏïÑ (ÏûêÏÑ∏Ìûà ÏÑ§Î™ÖÌïòÎ©¥ ÎÑàÎ¨¥ Í∏∏Ïñ¥ÏßÄÎØÄÎ°ú ÏÉùÎûµ..), UASP(USB Attached SCSI Protocol) ÎùºÎäî ÌîÑÎ°úÌÜ†ÏΩúÏùÑ ÏßÄÏõêÌïòÎäî ÏºÄÏù¥Î∏î/Ïª§ÎÑ•ÌÑ∞Î•º ÏÇ¨Ïö©Ìï¥Ïïº Ï†ÑÏ≤¥ Ïì∞Î£®ÌíãÏùÑ ÏÜêÏã§ ÏóÜÏù¥ ÏÇ¨Ïö©Ìï† Ïàò ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;p>Í∑∏Îü∞Îç∞ Î™áÏ≤úÏõêÏßúÎ¶¨ Ïãº Ï†ÄÎ†¥Ïù¥ ÏÑ†Îì§ÏùÄ Ïù¥ UASP ÌîÑÎ°úÌÜ†ÏΩúÏùÑ ÏßÄÏõêÌïòÏßÄ ÏïäÏïÑ, Íµ¨ÏûÖÌïòÏãúÍ∏∞ Ï†ÑÏóê UASP ÌîÑÎ°úÌÜ†ÏΩúÏùÑ ÏßÄÏõêÌïòÎäî ÌîÑÎ°úÌÜ†ÏΩúÏù∏ÏßÄ ÌôïÏù∏Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§.&lt;/p>
&lt;p>Ï†ÄÏùò Í≤ΩÏö∞Îäî &lt;code>ÏÉàÎ°úÌÖç FHD-260U3&lt;/code>ÏùÑ ÏÇ¨Ïö©ÌïòÍ≥† ÏûàÏúºÎ©∞ (Î∞îÏù¥Îü¥ ÏïÑÎãò), AliexpressÏùò &lt;code>Ugreen&lt;/code>ÏÇ¨Ïùò ÏºÄÏù¥Î∏îÎèÑ Í¥úÏ∞ÆÎã§Îäî ÌèâÏùÑ Îì£Í≥† ÏûàÎäî Í≤ÉÏúºÎ°ú ÏïåÍ≥† ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;p>ÏïÑÎûòÎäî Ï†ú ÌÖåÏä§Ìä∏ Í≤∞Í≥ºÏûÖÎãàÎã§.&lt;/p>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-1.-%ED%95%98%EB%93%9C%EC%9B%A8%EC%96%B4-%ED%8E%B8/image-3.png"
width="561"
height="77"
loading="lazy"
alt="hdparm ÏùΩÍ∏∞ ÏÜçÎèÑ ÌÖåÏä§Ìä∏"
class="gallery-image"
data-flex-grow="728"
data-flex-basis="1748px"
>&lt;/p>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-1.-%ED%95%98%EB%93%9C%EC%9B%A8%EC%96%B4-%ED%8E%B8/image-4.png"
width="744"
height="64"
loading="lazy"
alt="dd Ïì∞Í∏∞ ÏÜçÎèÑ ÌÖåÏä§Ìä∏"
class="gallery-image"
data-flex-grow="1162"
data-flex-basis="2790px"
>&lt;/p>
&lt;ul>
&lt;li>Í∞ôÏù¥ Î≥¥Î©¥ Ï¢ãÏùÄ Í≤åÏãúÍ∏Ä : &lt;a class="link" href="https://www.jeffgeerling.com/blog/2020/uasp-makes-raspberry-pi-4-disk-io-50-faster" target="_blank" rel="noopener"
>UASP makes Raspberry Pi 4 disk IO 50% faster&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Í∑∏Î¶¨Í≥† SSDÏùò Í≤ΩÏö∞Îäî, Ï†ÅÎãπÌûà Ìï´Îîú Îñ¥ÏùÑ Îïå SATA3 ÏÇ¨Ïö©ÌïòÎäî SSDÎ°ú ÏïÑÎ¨¥Í±∞ÎÇò Ï£ºÏõåÏò§ÏãúÎ©¥(?) Îê©ÎãàÎã§&lt;/p>
&lt;h3 id="5-ÎÑ§Ìä∏ÏõåÌÅ¨-Ïû•ÎπÑ">5. ÎÑ§Ìä∏ÏõåÌÅ¨ Ïû•ÎπÑ
&lt;/h3>&lt;p>ÎÑ§Ìä∏ÏõåÌÅ¨ Íµ¨ÏÑ±ÏùÄ Ïù¥ÌõÑ ÏãúÏä§ÌÖú Íµ¨Ï∂ïÏãú Ïù¥ÏïºÍ∏∞Ìï† Í∏∞ÌöåÍ∞Ä ÎßéÏúºÎãà, Ïû•ÎπÑÎßå Í∞ÑÎã®ÌïòÍ≤å ÏÑ§Î™ÖÌïòÎ©¥&lt;/p>
&lt;p>Ïä§ÏúÑÏπòÌóàÎ∏åÎ°úÎäî Ï†ÄÎäî Ï†ÅÎãπÌûà &lt;code>ipTIME H6008-IGMP&lt;/code>Î•º ÏÇ¨Ïö©ÌïòÏòÄÎäîÎç∞, 1Gbps Ïù¥ÏÉÅÏùÑ ÏßÄÏõêÌïòÎäî Ïä§ÏúÑÏπòÌóàÎ∏åÎùºÎ©¥ ÏïÑÎ¨¥Í±∞ÎÇò Íµ¨Îß§ÌïòÏÖîÎèÑ ÏÉÅÍ¥ÄÏóÜÏùÑ Í≤É Í∞ôÏäµÎãàÎã§.&lt;/p>
&lt;p>ÎßàÏ∞¨Í∞ÄÏßÄÎ°ú, ÎûúÏÑ†ÎèÑ Cat5e Ïù¥ÏÉÅ(ÏïÑÎ¨¥Í±∞ÎÇò ÏÇ¨Î©¥ Î≥¥ÌÜµ Cat5e Ïù¥ÏÉÅÏûÖÎãàÎã§.) ÏúºÎ°ú ÏÇ¨Î©¥ Î¨∏Ï†ú ÏóÜÏùÑ Í≤É Í∞ôÏäµÎãàÎã§.&lt;/p>
&lt;h3 id="ÎßàÏπòÎ©∞">ÎßàÏπòÎ©∞
&lt;/h3>&lt;p>1Ìé∏ÏóêÏÑ† ÏïàÏ†ïÏ†ÅÏù∏ ÌÅ¥Îü¨Ïä§ÌÑ∞Î•º Íµ¨Ï∂ïÌïòÍ∏∞ ÏúÑÌïú ÌïòÎìúÏõ®Ïñ¥Ïóê ÎåÄÌï¥ Í∞ÑÎã®Ìûà ÏïåÏïÑÎ¥§ÏäµÎãàÎã§.&lt;/p>
&lt;p>ÌòπÏãúÎùºÎèÑ ÏûòÎ™ªÎêú Î∂ÄÎ∂ÑÏù¥ÎÇò, ÏàòÏ†ïÌï† Î∂ÄÎ∂ÑÏù¥ ÏûàÎã§Î©¥ ÏïåÎ†§Ï£ºÏãúÎ©¥ Í∞êÏÇ¨ÌïòÍ≤†ÏäµÎãàÎã§!&lt;/p></description></item><item><title>ÏßëÏóêÏÑú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞ Ï∞®Î¶¨Í∏∞ - ÏÑúÎ°†</title><link>https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-%EC%84%9C%EB%A1%A0/</link><pubDate>Sun, 03 Dec 2023 13:24:05 +0900</pubDate><guid>https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-%EC%84%9C%EB%A1%A0/</guid><description>&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-%EC%84%9C%EB%A1%A0/cover.png" alt="Featured image of post ÏßëÏóêÏÑú ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î°ú Îç∞Ïù¥ÌÑ∞ÏÑºÌÑ∞ Ï∞®Î¶¨Í∏∞ - ÏÑúÎ°†" />&lt;h3 id="Ï≤òÏùå-ÎùºÏ¶àÎ≤†Î¶¨-ÌååÏù¥-ÌÅ¥Îü¨Ïä§ÌÑ∞Î•º-Íµ¨Ï∂ïÌïú-ÏßÄ-ÎåÄÎûµ-300ÏùºÏù¥-ÏßÄÎÇ¨ÏäµÎãàÎã§">Ï≤òÏùå ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ ÌÅ¥Îü¨Ïä§ÌÑ∞Î•º Íµ¨Ï∂ïÌïú ÏßÄ ÎåÄÎûµ 300ÏùºÏù¥ ÏßÄÎÇ¨ÏäµÎãàÎã§.
&lt;/h3>&lt;p>Í≥ÑÍ∏∞Îäî ÏÇ¨Ïã§ Í∑∏Î†áÍ≤å ÌÅ¨ÏßÑ ÏïäÏïòÏäµÎãàÎã§.&lt;/p>
&lt;p>Ï†ÄÎäî Îß§Ïùº ÏïÑÏπ® &lt;a class="link" href="https://news.hada.io/" target="_blank" rel="noopener"
>GeekNews&lt;/a> ÎùºÎäî Îâ¥Ïä§ ÌÅêÎ†àÏù¥ÌåÖ ÏÑúÎπÑÏä§Î•º Î≥¥Î©∞ Ï∂úÍ∑ºÌïòÎäîÎç∞, Í∑∏ Ï§ë &lt;a class="link" href="https://news.hada.io/topic?id=8306" target="_blank" rel="noopener"
>Chick-Fil-A Ïùò Edge Computing Í∏∞Ïà† ÏïÑÌÇ§ÌÖçÏ≤ò : Enterprise Restaurant Compute&lt;/a> ÎùºÎäî Í∏ÄÏù¥ ÎààÏóê Î≥¥ÏòÄÏäµÎãàÎã§.&lt;/p>
&lt;p>Í∑∏ Îí§Î°ú ÏπôÌïÑÎ†àÎèÑ Ïø†Î≤ÑÎÑ§Ìã∞Ïä§Î•º Íµ¥Î¶¨ÎäîÎç∞, ÏÑúÎ≤Ñ ÏóîÏßÄÎãàÏñ¥Î°úÏç® ÎÇòÎèÑ Í¥ÄÎ¶¨ÌïòÎäî ÌÅ¥Îü¨Ïä§ÌÑ∞ ÌïòÎÇòÏØ§ ÏûàÏñ¥Ïïº ÌïòÏßÄ ÏïäÏùÑÍπå? Í∞Ä Î™®Îì† ÏùºÏùò ÏãúÏûëÏù¥ÏóàÏäµÎãàÎã§..&lt;/p>
&lt;h3 id="Íµ¨ÏÑ±-ÌôòÍ≤Ω">Íµ¨ÏÑ± ÌôòÍ≤Ω
&lt;/h3>&lt;p>Ï†ú Ïò•ÌÉëÎ∞©(&amp;hellip;) ÌÅ¥Îü¨Ïä§ÌÑ∞Îäî ÎåÄÎûµ Ïù¥Î†áÍ≤å ÏÉùÍ≤ºÏäµÎãàÎã§.
&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-%EC%84%9C%EB%A1%A0/image.png"
width="1204"
height="833"
loading="lazy"
alt="Alt text"
class="gallery-image"
data-flex-grow="144"
data-flex-basis="346px"
>
&lt;img src="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-%EC%84%9C%EB%A1%A0/image-1.png"
width="667"
height="831"
loading="lazy"
alt="Alt text"
class="gallery-image"
data-flex-grow="80"
data-flex-basis="192px"
>&lt;/p>
&lt;p>Íµ¨ÏÑ± Ïä§ÌéôÏùÑ Ï†ïÎ¶¨Ìï¥Î≥¥ÏûêÎ©¥,&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Control Node&lt;/strong>
&lt;ul>
&lt;li>Raspberry PI 4b+ 8GB Model * 1&lt;/li>
&lt;li>Samsung MUF-AB FIT PLUS 64GB USB&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>ARM Worker + Storage Node&lt;/strong>
&lt;ul>
&lt;li>Raspberry PI 4b+ 8GB Model + 500GB SSD(PNY CS900 500GB) * 3&lt;/li>
&lt;li>Sandisk USB Ultra Fit USB 3.1 32GB * 3&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>GPU X86 Worker Node (For ML)&lt;/strong>
&lt;ul>
&lt;li>Ryzen 5600x + 64GB DDR4 3200 RAM + GTX3090 + NVME SSD(WD Black) 1TB + WD RED Plus 4TB HDD&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>Í≥º Í∞ôÏù¥ Íµ¨ÏÑ±ÌïòÏó¨ Ï¥ù ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ 4ÎåÄ, X86 GPU ÏÑúÎ≤Ñ 1ÎåÄÎ°ú X86, ARM ÌòºÌï© ÌÅ¥Îü¨Ïä§ÌÑ∞Î•º Ïö¥ÏòÅÌïòÍ≥† ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;p>ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥Ïùò ÎîîÏä§ÌÅ¨ I/OÎäî ÏïàÏ†ïÏÑ±ÏùÑ ÏúÑÌï¥ SDÏπ¥Îìú ÎåÄÏã† USB ÎîîÏä§ÌÅ¨Î•º ÏÇ¨Ïö©ÌïòÍ≥† ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;h3 id="Ïñ¥-control-nodeÍ∞Ä-1ÎåÄÎ∞ñÏóê-ÏóÜÏúºÎ©¥-ha-Î™ªÌïòÎäîÍ±∞-ÏïÑÎãàÏóêÏöî">Ïñ¥? Control NodeÍ∞Ä 1ÎåÄÎ∞ñÏóê ÏóÜÏúºÎ©¥ HA Î™ªÌïòÎäîÍ±∞ ÏïÑÎãàÏóêÏöî?
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Ï≤´ ÌÅ¥Îü¨Ïä§ÌÑ∞ Íµ¨Ï∂ï ÏãúÏùò Ï†úÏùº ÌÅ∞ Í≥†ÎØºÏù¥ÏóàÏäµÎãàÎã§.&lt;/p>
&lt;ul>
&lt;li>3ÎåÄ Ïù¥ÏÉÅÏùÑ HAÎ°ú Íµ¨ÏÑ±ÌïòÎ©¥ ÏïàÏ†ÑÌïòÏßÄÎßå, PIÏùò Ïó∞ÏÇ∞Îä•Î†•Ïù¥ Í∑∏Î†áÍ≤å ÎßéÏßÄ ÏïäÎã§Îäî Í±∏ Í∞êÏïàÌñàÏùÑ Îïå, Í∞ÄÎä•Ìïú ÎÇ≠ÎπÑÎêòÎäî Ïª¥Ìì®ÌåÖ ÌååÏõåÎ•º Ï§ÑÏù¥Í≥† Ïã∂ÏóàÏäµÎãàÎã§.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Í∑∏ Í≤∞Î°†ÏúºÎ°ú, &lt;strong>Master NodeÎäî ÌïòÎÇòÎ°ú&lt;/strong> Îëî Îí§, ÏïÑÎûòÏôÄ Í∞ôÏùÄ ÏïàÏ†ÑÏû•ÏπòÎ•º ÎßàÎ†®ÌïòÍ≥† ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;ul>
&lt;li>etcd ÎåÄÏã† &lt;strong>External Database&lt;/strong>Î•º ÏÉÅÌÉú Ï†ÄÏû•ÏÜåÎ°ú ÏÇ¨Ïö©ÌïòÍ≥† ÏûàÏäµÎãàÎã§.
&lt;ul>
&lt;li>ÌòÑÏû¨Îäî &lt;strong>Supabase&lt;/strong> Ï†úÍ≥µ PostgresqlÏùÑ Ïô∏Î∂Ä Ï†ÄÏû•ÏÜåÎ°ú ÏÇ¨Ïö© Ï§ëÏûÖÎãàÎã§.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Master NodeÎäî TaintÎ•º Í±∏Ïñ¥ Job schedulingÏù¥ Î∂àÍ∞ÄÌïòÍ≤å ÏÑ§Ï†ïÌï¥ ÎëêÏóàÏäµÎãàÎã§.
&lt;ul>
&lt;li>Ïù¥Î•º ÌÜµÌï¥, ÏûëÏóÖ Ìï†Îãπ ÎèÑÏ§ë ÎßàÏä§ÌÑ∞ ÎÖ∏ÎìúÍ∞Ä Í∞ëÏûëÏä§ÎüΩÍ≤å ÏÇ¨ÎßùÌïòÍ±∞ÎÇò ÌïòÎäî ÏùºÏùÑ Ï§ÑÏòÄÏäµÎãàÎã§.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Mater NodeÏóêÎäî Ï°∞Í∏à Îçî Ïã†Î¢∞ÏÑ±ÏûàÎäî Ïû•ÎπÑÎ•º ÏÇ¨Ïö© Ï§ëÏûÖÎãàÎã§. (USB, Ïø®Îü¨ Îì±)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>Í∑∏ÎüºÏóêÎèÑ Î∂àÍµ¨ÌïòÍ≥† Matser NodeÍ∞Ä Ïó¨Î¶ÑÏóê Í≥ºÏó¥Î°ú(..) USBÍ∞Ä ÏÇ¨ÎßùÌïú Ï†ÅÏù¥ ÏûàÏúºÎÇò, Î™®Îì† StateÍ∞Ä Ïô∏Î∂Ä DBÏóê Ï°¥Ïû¨ÌïòÎØÄÎ°ú 10Î∂Ñ Ïù¥ÎÇ¥Î°ú Î≥µÍµ¨Ìï† Ïàò ÏûàÏóàÏäµÎãàÎã§.&lt;/p>
&lt;h3 id="ÌòÑÏû¨-ÏÜåÌîÑÌä∏Ïõ®Ïñ¥Ï†ÅÏúºÎ°ú-Íµ¨Ï∂ïÌïú-ÎÇ¥Ïö©">ÌòÑÏû¨ ÏÜåÌîÑÌä∏Ïõ®Ïñ¥Ï†ÅÏúºÎ°ú Íµ¨Ï∂ïÌïú ÎÇ¥Ïö©
&lt;/h3>&lt;ol>
&lt;li>K3SÏôÄ External DBÎ•º Ïù¥Ïö©ÌïòÏó¨, ÎßåÏïΩ Master NodeÍ∞Ä Îã§Ïö¥ÎêòÏñ¥ÎèÑ Î≥µÍµ¨Ìï† Ïàò ÏûàÎèÑÎ°ù ÏãúÏä§ÌÖúÏùÑ Íµ¨Ï∂ïÌï©ÎãàÎã§.&lt;/li>
&lt;li>ArgoCDÏôÄ GithubÎ•º Ïù¥Ïö©ÌïòÏó¨, GitOps ÏãúÏä§ÌÖúÏùÑ Íµ¨Ï∂ïÌï©ÎãàÎã§.&lt;/li>
&lt;li>&lt;a class="link" href="https://www.mend.io/renovate/" target="_blank" rel="noopener"
>Mend Renovate&lt;/a> Î•º Ïù¥Ïö©ÌïòÏó¨, ÏÑ§ÏπòÌïú Helm Chart Î∞è Private RegistryÏùò ÏÉà Î≤ÑÏ†ÑÏù¥ ÎÇòÏò§Î©¥ ÏûêÎèôÏúºÎ°ú PRÏùÑ ÏÉùÏÑ±ÌïòÍ≥†, ÌÅ¥Îü¨Ïä§ÌÑ∞Î•º ÏµúÏã† ÏÉÅÌÉúÎ°ú Ïú†ÏßÄÌï©ÎãàÎã§.&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/longhorn/longhorn" target="_blank" rel="noopener"
>Longhorn&lt;/a>ÏùÑ Ïù¥Ïö©ÌïòÏó¨ Î∂ÑÏÇ∞ Ïä§ÌÜ†Î¶¨ÏßÄÎ•º Íµ¨ÌòÑ, ÎßåÏïΩ SSD ÌïòÎÇòÍ∞Ä ÎÇòÍ∞ÄÎçîÎùºÎèÑ Î≥µÍµ¨Ìï† Ïàò ÏûàÎäî ÏãúÏä§ÌÖúÏùÑ Íµ¨Ï∂ïÌï©ÎãàÎã§.&lt;/li>
&lt;li>Docker Private RegistryÎ•º Íµ¨Ï∂ïÌïòÍ≥†, &lt;a class="link" href="https://github.com/klausmeyer/docker-registry-browser" target="_blank" rel="noopener"
>Docker-registry-browser&lt;/a> Î•º Ïù¥Ïö©ÌïòÏó¨ ÏóÖÎ°úÎìúÎêú Ïù¥ÎØ∏ÏßÄÎ•º ÌôïÏù∏Ìï† Ïàò ÏûàÎäî GUIÎ•º Íµ¨Ï∂ïÌï©ÎãàÎã§.&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/bitnami-labs/sealed-secrets" target="_blank" rel="noopener"
>Sealed-secrets&lt;/a>Î•º Ïù¥Ïö©ÌïòÏó¨ SecretÏùÑ Ïô∏Î∂Ä ÏÑúÎπÑÏä§ ÏóÜÏù¥ GitÏóê Ï†ÄÏû•ÌïòÏó¨ Í¥ÄÎ¶¨Ìï©ÎãàÎã§. ÎòêÌïú &lt;a class="link" href="https://github.com/Jaydee94/kubeseal-webgui" target="_blank" rel="noopener"
>Kubeseal-webgui&lt;/a> Î•º Ïù¥Ïö©ÌïòÏó¨ GUIÎ•º Ïù¥Ïö©ÌïòÏó¨ SecretÏùÑ Ìé∏ÌïòÍ≤å Ï∂îÍ∞ÄÌï† Ïàò ÏûàÎäî ÌôîÎ©¥ÏùÑ ÎßåÎì≠ÎãàÎã§.&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/prometheus-community/helm-charts/tree/main/charts/kube-prometheus-stack" target="_blank" rel="noopener"
>kube-prometheus-stack&lt;/a> ÏùÑ Ïù¥Ïö©ÌïòÏó¨ Î™®ÎãàÌÑ∞ÎßÅ ÏãúÏä§ÌÖúÏùÑ Íµ¨Ï∂ïÌïòÍ≥† Í¥ÄÎ¶¨Ìï©ÎãàÎã§.&lt;/li>
&lt;li>&lt;a class="link" href="https://cloudnative-pg.io/" target="_blank" rel="noopener"
>CloudNativePG&lt;/a> Î•º Ïù¥Ïö©ÌïòÏó¨ HA Postgres Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÏãúÏä§ÌÖúÏùÑ Íµ¨Ï∂ïÌïòÍ≥†, ÌòπÏãú Î™®Î•º ÏÇ¨Í≥†Î•º Î∞©ÏßÄÌïòÍ∏∞ ÏúÑÌï¥ AWS Îì±Ïóê ÏûêÎèô Î∞±ÏóÖ ÏãúÏä§ÌÖúÏùÑ Íµ¨Ï∂ïÌï©ÎãàÎã§.&lt;/li>
&lt;li>&lt;a class="link" href="https://www.portainer.io/" target="_blank" rel="noopener"
>Portainer&lt;/a> Î•º Ïù¥Ïö©ÌïòÏó¨ Ïõπ UIÎ•º Í∏∞Î∞òÏúºÎ°ú ÌÅ¥Îü¨Ïä§ÌÑ∞ Í¥ÄÎ¶¨Î•º ÏàòÌñâÌïòÎäî ÏãúÏä§ÌÖúÏùÑ ÎßåÎì≠ÎãàÎã§.&lt;/li>
&lt;li>&lt;a class="link" href="https://metallb.universe.tf/" target="_blank" rel="noopener"
>MetalLB&lt;/a> ÏÑ§Ï†ïÏùÑ ÌÜµÌï¥ ÎÇ¥Î∂ÄÎßùÏóêÏÑúÎßå Ï†ëÍ∑º Í∞ÄÎä•Ìïú ÏóîÎìúÌè¨Ïù∏Ìä∏, ÏÑúÎπÑÏä§Î•º ÏâΩÍ≤å Íµ¨Ï∂ïÌï©ÎãàÎã§.&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/NVIDIA/k8s-device-plugin" target="_blank" rel="noopener"
>nvidia-device-plugin&lt;/a> ÏùÑ Ïù¥Ïö©ÌïòÏó¨ Ïø†Î≤ÑÎÑ§Ìã∞Ïä§ ÏÉÅÏóêÏÑú Ïª®ÌÖåÏù¥ÎÑàÍ∞Ä CUDA Îì±Ïùò ÎîîÎ∞îÏù¥Ïä§Î•º ÏÇ¨Ïö©Ìï† Ïàò ÏûàÎèÑÎ°ù Ìï©ÎãàÎã§.&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/thomseddon/traefik-forward-auth" target="_blank" rel="noopener"
>traefik-forward-auth&lt;/a> ÎùºÏù¥Î∏åÎü¨Î¶¨Ïùò ÏïÑÏù¥ÎîîÏñ¥Î•º Ï∞®Ïö©ÌïòÏó¨, ÏûêÏ≤¥ Ïù∏Ï¶ù ÏãúÏä§ÌÖúÏùÑ Íµ¨Ï∂ïÌï©ÎãàÎã§. ÎπÑÎ∞ÄÎ≤àÌò∏ Ïù¥Ïô∏Ïóê SSO Î°úÍ∑∏Ïù∏ÏùÑ ÌÜµÌï¥ ÎÇ¥Î∂Ä Í¥ÄÎ¶¨ ÏãúÏä§ÌÖúÏóê Ï†ëÍ∑º Í∞ÄÎä•ÌïòÎèÑÎ°ù Ìï©ÎãàÎã§.&lt;/li>
&lt;/ol>
&lt;h3 id="ÏïûÏúºÎ°ú-Ïì∏-Í∏Ä">ÏïûÏúºÎ°ú Ïì∏ Í∏Ä
&lt;/h3>&lt;p>ÏïûÏúºÎ°úÎäî, Ï†úÍ∞Ä Íµ¨Ï∂ïÌïú ÎÇ¥Ïö©ÏùÑ Î≥µÍ∏∞ÌïòÎ©∞ ÌïòÎìúÏõ®Ïñ¥Î∂ÄÌÑ∞ ÏÜåÌîÑÌä∏Ïõ®Ïñ¥, ÏãúÏä§ÌÖú Íµ¨Ï∂ïÍπåÏßÄÏùò ÎÇ¥Ïö©ÏùÑ ÏãúÍ∞Ñ ÎÇ† ÎïåÎßàÎã§ ÌïòÎÇòÏî© Ï∂îÍ∞ÄÌï† ÏòàÏ†ïÏûÖÎãàÎã§.
ÏúÑÎäî ÏàúÏÑú ÏóÜÏù¥ ÎÇòÏó¥Ìïú ÎÇ¥Ïö©Ïù¥Î©∞, Í∏ÄÏùÑ Ï†ÅÎã§ Î≥¥Î©¥ ÎÇ¥Ïö©Ïù¥ Î≥ÄÍ≤ΩÎê† Ïàò ÏûàÏäµÎãàÎã§.&lt;/p>
&lt;p>ÎçßÎ∂ôÏó¨, Ìï¥Îãπ Íµ¨Ï∂ï Í∞ÄÏù¥ÎìúÎäî 2023.12 Í∏∞Ï§ÄÏúºÎ°ú Ï†úÍ∞Ä ÏßÅÏ†ë Îî∞ÎùºÍ∞ÄÎ©∞ Ï†ïÏÉÅ ÎèôÏûëÏùÑ ÌôïÏù∏Ìïú Î∞©Î≤ïÏûÖÎãàÎã§.&lt;/p>
&lt;h3 id="ÏÑúÎ°†ÏùÑ-ÎßàÏπòÎ©∞">ÏÑúÎ°†ÏùÑ ÎßàÏπòÎ©∞
&lt;/h3>&lt;p>ÌÅ¥Îü¨Ïä§ÌÑ∞Î•º Íµ¨Ï∂ïÌïòÎ©∞ Í¥ÄÎ†® ÏûêÎ£åÎ•º Ïó¥Ïã¨Ìûà Ï∞æÏïÑÎ¥§ÎäîÎç∞,&lt;/p>
&lt;p>ÏùòÏô∏Î°ú Ïù¥Îü∞ ÏûêÎ£åÍ∞Ä Í∑∏Î†áÍ≤å ÎßéÏßÄ ÏïäÎã® Í≤ÉÏùÑ ÏïåÍ≤å ÎêòÏóàÏäµÎãàÎã§.
&lt;a class="link" href="https://github.com/VladoPortos" target="_blank" rel="noopener"
>VladoPortos&lt;/a> ÎãòÏùò &lt;a class="link" href="https://rpi4cluster.com/" target="_blank" rel="noopener"
>Kubernetes with OpenFaaS on Raspberry Pi 4&lt;/a> ÏûêÎ£åÍ∞Ä ÎèÑÏõÄÏù¥ ÎßéÏù¥ ÎêòÏóàÏßÄÎßå, Íµ≠ÎÇ¥ ÏûêÎ£åÍ∞Ä Í∑∏Î¶¨ ÎßéÏßÄ ÏïäÏùÄ Í≤ÉÏù¥ ÏïÑÏâ¨Ïõ†ÏäµÎãàÎã§.&lt;/p>
&lt;p>ÎØ∏ÏïΩÌïòÎÇòÎßà, Ïù¥ Í∞ÄÏù¥ÎìúÍ∞Ä ÎπÑÏä∑Ìïú Í∏∏ÏùÑ Í∞úÏ≤ôÌïòÎ†§Îäî Î∂ÑÍªò ÎèÑÏõÄÏù¥ ÎêòÍ∏∏ Î∞îÎûçÎãàÎã§.&lt;/p></description></item><item><title>ÎÇ¥Í∞Ä Î≥¥Î†§Í≥† Ïì∞Îäî K8S Î¶¨ÏÜåÏä§ Ï†ïÎ¶¨</title><link>https://lemondouble.github.io/p/%EB%82%B4%EA%B0%80-%EB%B3%B4%EB%A0%A4%EA%B3%A0-%EC%93%B0%EB%8A%94-k8s-%EB%A6%AC%EC%86%8C%EC%8A%A4-%EC%A0%95%EB%A6%AC/</link><pubDate>Thu, 26 Jan 2023 23:15:42 +0900</pubDate><guid>https://lemondouble.github.io/p/%EB%82%B4%EA%B0%80-%EB%B3%B4%EB%A0%A4%EA%B3%A0-%EC%93%B0%EB%8A%94-k8s-%EB%A6%AC%EC%86%8C%EC%8A%A4-%EC%A0%95%EB%A6%AC/</guid><description>&lt;img src="https://lemondouble.github.io/p/%EB%82%B4%EA%B0%80-%EB%B3%B4%EB%A0%A4%EA%B3%A0-%EC%93%B0%EB%8A%94-k8s-%EB%A6%AC%EC%86%8C%EC%8A%A4-%EC%A0%95%EB%A6%AC/cover.png" alt="Featured image of post ÎÇ¥Í∞Ä Î≥¥Î†§Í≥† Ïì∞Îäî K8S Î¶¨ÏÜåÏä§ Ï†ïÎ¶¨" />&lt;ul>
&lt;li>&lt;code>k get pod &amp;lt;podname&amp;gt; -o&lt;/code> ÎòêÎäî &lt;code>k describe pod &amp;lt;podname&amp;gt;&lt;/code>: ÏÉÅÌÉú Ï†ïÎ≥¥ ÏûêÏÑ∏Ìûà ÌôïÏù∏&lt;/li>
&lt;li>&lt;code>k logs -f &amp;lt;podname&amp;gt; -c &amp;lt;container-name&amp;gt;&lt;/code> : Î°úÍ∑∏ ÌôïÏù∏&lt;/li>
&lt;li>&lt;code>k get pod &amp;lt;podname&amp;gt; --show-lables&lt;/code> : Label Ï†ïÎ≥¥ ÌôïÏù∏&lt;/li>
&lt;/ul>
&lt;h3 id="1-pod">1. Pod
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>ÌïòÎÇò Ïù¥ÏÉÅÏùò ContainerÏùò ÏßëÌï©&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Ïã§ÌñâÏùò ÏµúÏÜå Îã®ÏúÑ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÌäπÏßï&lt;/p>
&lt;ul>
&lt;li>Ïó¨Îü¨ ContainerÎ°ú Íµ¨ÏÑ±ÎêòÏóàÎã§Î©¥, Ìï≠ÏÉÅ ÎèôÏùº NodeÏóê Ìï†Îãπ&lt;/li>
&lt;li>Í≥†Ïú† Pod IP Ìï†Îãπ (PodÎãπ ÌïòÎÇò)&lt;/li>
&lt;li>Pod ÎÇ¥Ïùò ContainerÎì§ÏùÄ ÎÑ§Ìä∏ÏõåÌÅ¨ Í≥µÏú†, Îî∞ÎùºÏÑú LocalhostÎ°ú Ï†ëÍ∑º Í∞ÄÎä•&lt;/li>
&lt;li>Volume Í≥µÏú†&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>PodÏù¥ Í∞ÄÏßà Ïàò ÏûàÎäî State&lt;/p>
&lt;ul>
&lt;li>&lt;code>Pending&lt;/code> : Master NodeÏóê ÏÉùÏÑ± Î™ÖÎ†πÏùÄ Ï†ÑÎã¨ÎêòÏóàÏßÄÎßå ÏÉùÏÑ±ÎêòÏßÄ ÏïäÏùÄ ÏÉÅÌÉú&lt;/li>
&lt;li>&lt;code>ContainerCreating&lt;/code> : ÌäπÏ†ï NodeÏóê Ìï†ÎãπÎêòÏñ¥ ÏÉùÏÑ± Ï§ë (Ïù¥ÎØ∏ÏßÄ Îã§Ïö¥Î°úÎìú Îì±..)&lt;/li>
&lt;li>&lt;code>Running&lt;/code> : Ï†ïÏÉÅ Ïã§Ìñâ Ï§ë&lt;/li>
&lt;li>&lt;code>Completed&lt;/code> : ÌïúÎ≤à Ïã§ÌñâÎêòÍ≥† Ï¢ÖÎ£åÎêòÎäî Pod (Î∞∞Ïπò ÏûëÏóÖ Îì±..) ÏûëÏóÖÏù¥ ÏôÑÎ£åÎêú Í≤ΩÏö∞&lt;/li>
&lt;li>&lt;code>Error&lt;/code> : PodÏóê Î¨∏Ï†ú Î∞úÏÉùÌïú Í≤ΩÏö∞&lt;/li>
&lt;li>&lt;code>CrashLoopBackOff&lt;/code> : ÏßÄÏÜçÏ†ÅÏúºÎ°ú ÏóêÎü¨Í∞Ä Î∞úÏÉùÌï¥ CrashÍ∞Ä Î∞òÎ≥µÎêòÎäî ÏÉÅÌÉú&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>spec.restartPolicy&lt;/p>
&lt;ul>
&lt;li>&lt;code>Always&lt;/code> : Ï¢ÖÎ£åÏãú Ìï≠ÏÉÅ Ïû¨ÏãúÏûë (default)&lt;/li>
&lt;li>&lt;code>Never&lt;/code> : Ïû¨ÏãúÏûë X&lt;/li>
&lt;li>&lt;code>OnFailure&lt;/code> : Ïã§Ìå®Ìïú Í≤ΩÏö∞ÏóêÎßå Ïû¨ÏãúÏûë (Ï†ïÏÉÅ Ï¢ÖÎ£åÎêòÎ©¥ Ïû¨ÏãúÏûëÎêòÏßÄ ÏïäÏùå)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>ÏÉÅÌÉú ÌôïÏù∏&lt;/p>
&lt;ul>
&lt;li>&lt;code>livenessProbe&lt;/code> : PodÏù¥ Ï†ïÏÉÅÏ†ÅÏúºÎ°ú ÎèôÏûëÌïòÍ≥† ÏûàÎäîÏßÄ ÌôïÏù∏&lt;/li>
&lt;li>&lt;code>readnessProbe&lt;/code> : PodÏù¥ ÏÉùÏÑ±ÎêòÍ≥† ÎÇú ÌõÑ, Ìä∏ÎûòÌîΩÏùÑ Î∞õÏùÑ Ï§ÄÎπÑÍ∞Ä ÏôÑÎ£åÎêòÏóàÎäîÏßÄ ÌôïÏù∏ (READY 0/1 ÏÉÅÌÉúÎ°ú ÌôïÏù∏ Í∞ÄÎä•)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="2-service">2. Service
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Reverse Proxy ÏÉùÍ∞ÅÌïòÎ©¥ Ïâ¨ÏõÄ. PodÏùÄ Î∂àÏïàÏ†ïÌïúÎç∞ Í∑∏ ÏïûÏóê ÏÑúÏÑú ÏïàÏ†ïÏ†ÅÏù∏ Endpoint Ï†úÍ≥µ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>DNSÏôÄ ÎπÑÏä∑ÌïòÍ≤å Service Ïù¥Î¶ÑÏúºÎ°ú Ïó∞Í≤∞ Í∞ÄÎä•. myserviceÎùºÎäî serviceÎ•º ÏÉùÏÑ±ÌñàÎã§Î©¥ myserviceÎùºÎäî Ïù¥Î¶ÑÏúºÎ°ú Ïó∞Í≤∞ Í∞ÄÎä•&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ServiceÏùò DNS&lt;/p>
&lt;ul>
&lt;li>&lt;code>&amp;lt;ServiceName&amp;gt;.&amp;lt;Namespace&amp;gt;.svc.cluster.local&lt;/code>&lt;/li>
&lt;li>ÏòàÏãú : default NamespaceÏùò myservice -&amp;gt; &lt;code>myservice.default.svc.cluster.local&lt;/code>&lt;/li>
&lt;li>svc.cluster.localÏùÄ K8S Í∏∞Î≥∏Í∞í&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>ServiceÎäî Ïñ¥ÎñªÍ≤å DNSÎ•º Í∞ÄÏßàÍπå?&lt;/p>
&lt;ul>
&lt;li>&lt;code>k exec client -- cat /etc/resolve.conf&lt;/code> Î°ú PodÏùò DNS ÏÑ§Ï†ï ÌôïÏù∏ -&amp;gt; NameserverÏùò IP ÌôïÏù∏ Í∞ÄÎä•&lt;/li>
&lt;li>&lt;code>k get svc -n kube-system&lt;/code> ÏûÖÎ†•ÌïòÎ©¥ ÎÇòÏò§Îäî CoreDNSÍ∞Ä Ìï¥Îãπ IP&lt;/li>
&lt;li>CoreDNSÎùºÎäî ÏÑúÎπÑÏä§ ÌÜµÌï¥ DNS ÏÇ¨Ïö© Í∞ÄÎä•&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>ServiceÏùò Ï¢ÖÎ•ò&lt;/p>
&lt;ul>
&lt;li>&lt;code>ClusterIP&lt;/code> : (default) K8S ÌÅ¥Îü¨Ïä§ÌÑ∞ ÎÇ¥Î∂ÄÏóêÏÑúÎßå Ï†ëÍ∑º Í∞ÄÎä•.&lt;/li>
&lt;li>&lt;code>NodePort&lt;/code> : LocalhostÏùò ÌäπÏ†ï PortÎ•º ServiceÏùò ÌäπÏ†ï Ìè¨Ìä∏ÏôÄ Ïó∞Í≤∞ (Docker ÏÉùÍ∞ÅÌïòÍ∏∞)
&lt;ul>
&lt;li>Îã®, NodeportÎäî Î™®Îì† NodeÏùò ÌäπÏ†ï Ìè¨Ìä∏Î•º Ìï¥Îãπ ServiceÎ°ú Ïó∞Í≤∞&lt;/li>
&lt;li>ÏòàÎ•º Îì§Ïñ¥ 32000Î≤à NodeportÍ∞Ä ÏûàÎã§Î©¥, &lt;code>master:32000&lt;/code>, &lt;code>worker01:30002&lt;/code> Ï†ÑÎ∂Ä 32000Î≤à Ìè¨Ìä∏Î°ú Ïó∞Í≤∞Îê®&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>LoadBalancer&lt;/code> : Load Balancer ÏÉùÏÑ±ÌïòÏó¨(Cloud Ï†úÍ≥µ, ÌòπÏùÄ Software) PodÏóê Î∂ÑÏÇ∞
&lt;ul>
&lt;li>Ïô∏Î∂ÄÏóêÏÑ† LoadBalancerÏùò IPÎßå ÏïåÎ©¥ ÎêòÎãà Ìé∏ÌïòÎã§. (ClusterIP -&amp;gt; PodÏùò ÏïàÏ†ïÏ†Å ÏÑúÎπÑÏä§ Endpoint, LoadBalancer -&amp;gt; NodeÏùò ÏïàÏ†ïÏ†Å ÏÑúÎπÑÏä§ Endpoint)&lt;/li>
&lt;li>External-IPÎ•º ÌÜµÌï¥ÏÑú Ïô∏Î∂ÄÏóêÏÑú Ï†ëÍ∑º Í∞ÄÎä•&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>ExternalName&lt;/code> : Ïô∏Î∂Ä ÏÑúÎπÑÏä§Î•º K8S ÎÑ§Ìä∏ÏõåÌÅ¨ ÎÇ¥ÏóêÏÑú ÏÇ¨Ïö©ÌïòÍ≥† Ïã∂ÏùÑ Îïå
&lt;ul>
&lt;li>ex : google.comÏùÑ ExternalNameÏúºÎ°ú google-svc Î°ú ÏÑ§Ï†ïÌïòÎ©¥ &lt;code>curl google-svc&lt;/code> Î°ú google.comÏùò Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò¨ Ïàò ÏûàÎã§.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="3-controller">3. Controller
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Current StateÏôÄ Desired StateÎ•º ÎπÑÍµêÌï¥ ÏùºÏπòÌïòÎèÑÎ°ù TaskÎ•º Î∞òÎ≥µ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>ReplicaSet&lt;/code>&lt;/p>
&lt;ul>
&lt;li>PodÏùÑ Î≥µÏ†úÌï¥ ÏùºÏ†ï Í∞úÏàòÎ•º Ïú†ÏßÄÏãúÌÇ¥.&lt;/li>
&lt;li>spec.replicas : 2 ÏôÄ Í∞ôÏù¥ Î≥µÏ†úÌï† PodÏùò Í∞úÏàòÎ•º ÏÑ†Ïñ∏ Í∞ÄÎä•&lt;/li>
&lt;li>selector.matchLables Î•º ÌÜµÌïòÏó¨ labelÏù¥ MatchÎêòÎäî PodÏùÑ ÏÑ†ÌÉù Í∞ÄÎä•&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;code>Deployment&lt;/code>&lt;/p>
&lt;ul>
&lt;li>ReplicaSetÏùÑ Ïù¥Ïö©ÌïòÏó¨ ÏùºÏ†ï Í∞úÏàòÏùò PodÏùÑ ÏÉùÏÑ±, Í±∞Í∏∞Ïóê Î∞∞Ìè¨ Í∏∞Îä•ÏùÑ Ï∂îÍ∞Ä (Deployment -&amp;gt; ReplicaSet -&amp;gt; Pod)&lt;/li>
&lt;li>Rolling Update ÏßÄÏõê, ÏóÖÎç∞Ïù¥Ìä∏ ÎêòÎäî PodÏùò ÎπÑÏú® Ï°∞Ï†à Í∞ÄÎä•
&lt;ul>
&lt;li>&lt;code>spec.strategy.type : RollingUpdate&lt;/code> Î°ú Update Ï†ÑÎûµ ÏÑ§Ï†ï&lt;/li>
&lt;li>&lt;code>spec.strategy.rollingUpdate.maxUnavailable : 25%&lt;/code> : (ÏÜåÏà´Ï†ê ÎÇ¥Î¶º) Î∞∞Ìè¨Ï§ë ÏµúÎåÄ Ï§ëÎã® Í∞ÄÎä• PodÏùò % ÏßÄÏ†ï. 10Í∞úÏóê 25%ÎùºÎ©¥ 2Í∞ú Pod&lt;/li>
&lt;li>&lt;code>spec.strategy.rollingUpdate.maxSurge : 25%&lt;/code> : (ÏÜåÏà´Ï†ê Ïò¨Î¶º) Î∞∞Ìè¨Ï§ë ÏµúÎåÄ Ï¥àÍ≥º Í∞ÄÎä• PodÏùò % ÏßÄÏ†ï. 10Í∞úÏóê 25%ÎùºÎ©¥ 3Í∞ú Pod&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Update History Ï†ÄÏû• Î∞è Rollback Í∞ÄÎä•
&lt;ul>
&lt;li>&lt;code>k rollout undo deployment &amp;lt;DeploymentÏù¥Î¶Ñ&amp;gt;&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>StatefulSet&lt;/p>
&lt;ul>
&lt;li>PodÎßàÎã§ Í≥†Ïú†Ìïú ÏãùÎ≥ÑÏûê Ï°¥Ïû¨&lt;/li>
&lt;li>PodÎßàÎã§ Í≥†Ïú†Ìïú Îç∞Ïù¥ÌÑ∞Î•º Ïä§ÌÜ†Î¶¨ÏßÄÏóê Î≥¥Í¥Ä Í∞ÄÎä• (ÏòàÏãú : Database)&lt;/li>
&lt;li>PodÏÉùÏÑ±Ïùò ÏàúÏÑú Î≥¥Ïû• -&amp;gt; ÏàúÏÑúÏóê ÎØºÍ∞êÌïú Ïñ¥ÌîåÎ¶¨ÏºÄÏù¥ÏÖò (Ï≤´ Ïñ¥ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏùÄ Master, ÎëêÎ≤àÏß∏ Ïù¥ÌõÑÎäî Slave Îì±) Ïóê ÏÇ¨Ïö©&lt;/li>
&lt;li>&lt;code>name-&amp;lt;ÏàúÎ≤à&amp;gt;&lt;/code> (0 ÏãúÏûë) ÏãùÏúºÎ°ú Pod Ïù¥Î¶Ñ Î∂ÄÏó¨&lt;/li>
&lt;li>ÏÇ≠Ï†úÎêòÎäî Í≤ΩÏö∞ Ïó≠Ïàú ÏÇ≠Ï†ú (Ïà´ÏûêÍ∞Ä ÎÜíÏùÄÍ≤ÉÎ∂ÄÌÑ∞ ÏÇ≠Ï†ú)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>DaemonSet&lt;/p>
&lt;ul>
&lt;li>Î™®Îì† NodeÏóê ÎèôÏùºÌïú PodÏùÑ Ïã§ÌñâÏãúÌÇ§Í≥† Ïã∂ÏùÑ Îïå -&amp;gt; Î™®ÎãàÌÑ∞ÎßÅ, Î°úÍ∑∏ ÏàòÏßë Îì±&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="4-job">4. Job
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;code>Job&lt;/code>&lt;/p>
&lt;ul>
&lt;li>Îã®Î∞úÏÑ±ÏúºÎ°ú Ïã§ÌñâÎêòÍ≥† ÎÅùÎÇòÎäî ÌîÑÎ°úÍ∑∏Îû® (ML ÌïôÏäµ, Batch JobÎì±)&lt;/li>
&lt;li>&lt;code>spec.backoffLimit : 2&lt;/code> ÏôÄ Í∞ôÏù¥ Ïã§Ìå®Ïãú Ïû¨ÏãúÎèÑ Ï†ïÏ±ÖÏùÑ Ï†ïÌï† Ïàò ÏûàÏùå. (2Ìöå Ïû¨ÏãúÎèÑ)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>CronJob&lt;/p>
&lt;ul>
&lt;li>Ï£ºÍ∏∞Ï†ÅÏúºÎ°ú JobÏùÑ Ïã§ÌñâÌï† Ïàò ÏûàÎèÑÎ°ù CrontabÍ≥º Í∞ôÏùÄ Í∏∞Îä• Ï†úÍ≥µ&lt;/li>
&lt;li>&lt;code>spec.schedule : &amp;quot;1/* * * * *&amp;quot;&lt;/code> Í≥º Í∞ôÏù¥ ÏßÄÏ†ï&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="namespace">Namespace
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>ÌÅ¥Îü¨Ïä§ÌÑ∞Î•º ÎÖºÎ¶¨Ï†ÅÏúºÎ°ú ÎÇòÎàÑÎäî Îç∞ ÏÇ¨Ïö©&lt;/p>
&lt;/li>
&lt;li>
&lt;p>default : Í∏∞Î≥∏ Namespace&lt;/p>
&lt;/li>
&lt;li>
&lt;p>kube-system : K8SÏùò ÌïµÏã¨ Ïª¥Ìè¨ÎÑåÌä∏ (DNS, ÎÑ§Ìä∏ÏõåÌÅ¨ Îì±..)Ïùò PodÏù¥ Ï°¥Ïû¨&lt;/p>
&lt;/li>
&lt;li>
&lt;p>kube-public : Ïô∏Î∂ÄÎ°ú Í≥µÍ∞ú Í∞ÄÎä•Ìïú Î¶¨ÏÜåÏä§Î•º Îã¥Îäî Namespace&lt;/p>
&lt;/li>
&lt;li>
&lt;p>kube-node-lease : NodeÍ∞Ä ÏÇ¥ÏïÑÏûàÎäîÏßÄ masterÏóê ÏïåÎ¶¨Îäî Ïö©ÎèÑ? Ïùò namespace&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="configmap-secret">ConfigMap, Secret
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;code>ConfigMap&lt;/code>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Metadata (ÏÑ§Ï†ïÍ∞í) Ï†ÄÏû•&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Key-value ÌòïÌÉúÎ°ú Í∞í Ï†ÄÏû•&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Îã§ÏùåÍ≥º Í∞ôÏù¥ YamlÎ°ú ÏÑ†Ïñ∏ Í∞ÄÎä•&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># game-volume.yaml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Pod&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">game-volume&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">restartPolicy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">OnFailure&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">containers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">game-volume&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">k8s.gcr.io/busybox&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">command&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;/bin/sh&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;-c&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;cat /etc/config/game.properties&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumeMounts&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">game-volume&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">mountPath&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">/etc/config&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">game-volume&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">configMap&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">game-config&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>Ïù¥ÌõÑ Îã§Î•∏ PodÏóêÏÑú Volume Ïó∞Í≤∞/ÌôòÍ≤ΩÎ≥ÄÏàòÎ°ú ÏÇ¨Ïö© Í∞ÄÎä•
&lt;ul>
&lt;li>Volume :&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nn">...&lt;/span>&lt;span class="l">..&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumeMounts&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">game-volume&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">mountPath&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">/etc/config&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">game-volume&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">configMap&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">game-config&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>Env :&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nn">...&lt;/span>&lt;span class="l">..&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">envFrom&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">configMapRef&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">monster-config&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>Secrets&lt;/p>
&lt;ul>
&lt;li>tmpfs (Î©îÎ™®Î¶¨Î•º ÌååÏùºÏ≤òÎüº Îã§Î£∞ Ïàò ÏûàÍ≤å ÌïòÎäî ÏãúÏä§ÌÖú) ÏÇ¨Ïö©Ìï¥ Î≥¥ÏïàÏóê Ïù¥Ï†ê ÏûàÏùå&lt;/li>
&lt;li>Ï°∞ÌöåÏãú Base64 Ïù∏ÏΩîÎî© (ÏïîÌò∏Ìôî X, Îã®ÏßÄ Ïù∏ÏΩîÎî© ÌïúÎ≤à Ìï¥ Ï§å)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="appendix-1-ÌäπÏ†ï-nodeÏóêÏÑúÎßå-pod-Ïã§ÌñâÌïòÍ∏∞">Appendix 1. ÌäπÏ†ï NodeÏóêÏÑúÎßå Pod Ïã§ÌñâÌïòÍ∏∞
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>ÏòàÏãú : SSD/HDD NodeÎ•º Íµ¨Î∂ÑÌïòÏó¨ Î∞∞ÏπòÌïòÎäî Î∞©Î≤ï&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Í∞Å NodeÏóê label Î∂ÄÏ∞©&lt;/p>
&lt;ul>
&lt;li>&lt;code>kubectl label node master disktype=ssd&lt;/code>&lt;/li>
&lt;li>&lt;code>kubectl label node worker disktype=hdd&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Ïù¥ÌõÑ nodeSelectorÎ°ú label ÏÑ†ÌÉù&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Pod&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">node-selector&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">containers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">nginx&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">nginx&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># ÌäπÏ†ï ÎÖ∏Îìú ÎùºÎ≤® ÏÑ†ÌÉù&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nodeSelector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">disktype&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ssd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ + Ubuntu 22.04Ïóê K3S ÏÑ§ÏπòÌï¥ÏÑú Ïì∞Í∏∞</title><link>https://lemondouble.github.io/p/%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4--ubuntu-22.04%EC%97%90-k3s-%EC%84%A4%EC%B9%98%ED%95%B4%EC%84%9C-%EC%93%B0%EA%B8%B0/</link><pubDate>Wed, 18 Jan 2023 11:56:02 +0000</pubDate><guid>https://lemondouble.github.io/p/%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4--ubuntu-22.04%EC%97%90-k3s-%EC%84%A4%EC%B9%98%ED%95%B4%EC%84%9C-%EC%93%B0%EA%B8%B0/</guid><description>&lt;img src="https://lemondouble.github.io/p/%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4--ubuntu-22.04%EC%97%90-k3s-%EC%84%A4%EC%B9%98%ED%95%B4%EC%84%9C-%EC%93%B0%EA%B8%B0/cover.png" alt="Featured image of post ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ + Ubuntu 22.04Ïóê K3S ÏÑ§ÏπòÌï¥ÏÑú Ïì∞Í∏∞" />&lt;p>ÏöîÏ¶ò ÎêòÍ≤å Ìï´ÌïòÎ©¥ÏÑúÎèÑ Ïñ¥Î†§Ïö¥ Í∏∞Ïà†Ïù¥ Ïø†Î≤ÑÎÑ§Ìã∞Ïä§Ïù∏ Í≤É Í∞ôÏäµÎãàÎã§.&lt;/p>
&lt;p>Ï†ÄÎäî ÌïôÏÉùÎïåÎ∂ÄÌÑ∞ ÎÇòÎ¶Ñ ÍΩ§ Ïò§Îûò(?) Ìôà ÏÑúÎ≤ÑÎ•º Ïö¥ÏòÅÌñàÏóàÎäîÎç∞, Ïö¥ÏòÅÏùÑ ÌïòÎ©¥ÏÑú ÍΩ§ ÎßéÏùÄ ÌûòÎì† ÏùºÏùÑ ÎßàÏ£ºÌñàÏäµÎãàÎã§.&lt;/p>
&lt;p>Ïù¥ÏÇ¨Î•º Í∞ÄÏÑú ÎÑ§Ìä∏ÏõåÌÅ¨Î•º Îã§Ïãú ÏßúÏïº ÎêòÍ±∞ÎÇò, ÎîîÏä§ÌÅ¨ ÌïòÎÇòÍ∞Ä Ï£ΩÏñ¥Î≤ÑÎ¶¨Í±∞ÎÇò ÌïòÎäî Í≤ΩÏö∞ÎèÑ Í∞ÑÍ∞ÑÌûà ÏûàÍ≥†, Í∑∏Îü¥ ÎïåÎßàÎã§ GitÏù¥Îûë Îã§Î•∏ Ïª¥Ìì®ÌÑ∞Î•º Îí§Ï†∏ÏÑú ÏÇ¨Ïù¥Ìä∏Î•º ÏÇ¥Î¶¨ÎäîÍ≤å Ïó¨Í∞Ñ.. Í∑ÄÏ∞ÆÏùÄ ÏùºÏù¥ ÏïÑÎãôÎãàÎã§.&lt;/p>
&lt;p>Î≠îÍ∞Ä ÎÇ¥ ÏÑúÎ≤ÑÍ∞Ä Ïñ¥ÎñªÍ≤å ÎèåÏïÑÍ∞ÄÍ≥† ÏûàÎäîÏßÄ Ï†ÅÏñ¥ÎÜìÍ≥†, Ïñ∏Ï†úÎì†ÏßÄ ÎßàÏùåÎåÄÎ°ú Ïª¥Ìì®ÌÑ∞Î•º Ï∂îÍ∞ÄÌïòÍ≥†, ÎîîÏä§ÌÅ¨Î•º Ï∂îÍ∞ÄÌïòÍ≥† ÌïòÎ©¥ ÏñºÎßàÎÇò Ï¢ãÏùÑÍπå? ÌïòÎäî Ï∞®Ïóê K8SÎäî Ï†ïÎßê Îß§Î†•Ï†ÅÏù∏ ÏÑ†ÌÉùÏßÄÏòÄÏäµÎãàÎã§.&lt;/p>
&lt;p>Í∑∏ÎûòÏÑú K8S Í≥µÎ∂ÄÎ•º Ìï¥ Î¥§ÎäîÎç∞, Î≥¥ÌÜµ Vagrant Îì±ÏùÑ Ïù¥Ïö©Ìï¥ÏÑú Ïß±Ïß±Ìïú Ïª¥Ìì®ÌÑ∞ ÌïòÎÇòÏóê Í∞ÄÏÉÅ ÎÖ∏Îìú ÌïòÎÇòÎ•º ÎÜîÎëêÍ≥†, Í∞ÄÏÉÅ VMÏùÑ ÎùÑÏõåÏÑú Ïã§ÏäµÏùÑ ÌïòÍ≤å Îê©ÎãàÎã§.&lt;/p>
&lt;p>&lt;code>Í∑ºÎç∞ Î¨∏Ï†úÎäî Í∑∏ Îã§ÏùåÏûÖÎãàÎã§.&lt;/code>&lt;/p>
&lt;p>Îç∞Ïä§ÌÅ¨ÌÉë Ìôà ÏÑúÎ≤ÑÎ•º Ïó¨Îü¨ÎåÄÎ•º ÏÇ¨ÏÑú K8SÎ•º ÎèåÎ¶¥ ÏàòÎäî ÏóÜÏúºÎãà, &lt;code>Í∞ÄÍ≤© Ïåà &amp;amp;&amp;amp; Ï†ÄÏ†ÑÎ†• PC&lt;/code>Î•º Ï∞æÍ≤å ÎêòÍ≥†, Î≥¥ÌÜµ ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥Î°ú Í∑ÄÍ≤∞Îê©ÎãàÎã§.&lt;/p>
&lt;p>Í∑∏Îü∞Îç∞ Í∞ïÏÇ¨ ÏÑ†ÏÉùÎãòÏù¥ Ïù¥ÏÅòÍ≤å ÍπîÏïÑÎÜìÏùÄ ÏÑ§Ïπò Ïä§ÌÅ¨Î¶ΩÌä∏Îßå Ïì∞Îã§Í∞Ä, ARMÏóê ÏßÅÏ†ë K8S ÍπîÎ†§Î©¥ Î®∏Î¶¨Í∞Ä ÌÑ∞ÏßëÎãàÎã§. (ÏÇ¨Ïã§ Ï†ÄÎäî ÌÑ∞Ï°åÏäµÎãàÎã§. Îã§Î•∏ÏÇ¨ÎûåÏùÄ Ïûò Î™®Î•¥Í≤†Í≥†..)&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/kubernetes/kubeadm" target="_blank" rel="noopener"
>KubeAdm&lt;/a>, &lt;a class="link" href="https://github.com/canonical/microk8s" target="_blank" rel="noopener"
>MicroK8S&lt;/a> Î•º Î™áÎ≤àÏùò ÏÇΩÏßà ÎÅùÏóê ÏÑ§Ïπò Ïã§Ìå®ÌñàÎäîÎç∞, K3SÎäî ÎêòÍ≤å Í∞ÑÌé∏ÌïòÍ≤å ÏÑ§Ïπò ÎêòÏñ¥ÏÑú Í≤ΩÌóòÏùÑ Í≥µÏú†ÌïòÎ†§ Ìï©ÎãàÎã§.&lt;/p>
&lt;p>&lt;img src="https://lemondouble.github.io/p/%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4--ubuntu-22.04%EC%97%90-k3s-%EC%84%A4%EC%B9%98%ED%95%B4%EC%84%9C-%EC%93%B0%EA%B8%B0/image1.png"
width="509"
height="571"
loading="lazy"
class="gallery-image"
data-flex-grow="89"
data-flex-basis="213px"
>&lt;/p>
&lt;hr>
&lt;p>&lt;code>ÏïÑÎûò ÌôòÍ≤ΩÏùÄ Raspberry pi 4B + Ubuntu Server 22.04ÏóêÏÑú ÏßÑÌñâÌñàÏäµÎãàÎã§.&lt;/code>&lt;/p>
&lt;h3 id="1-master-node-ÏÑ§ÏπòÌïòÍ∏∞">1. Master Node ÏÑ§ÏπòÌïòÍ∏∞
&lt;/h3>&lt;ul>
&lt;li>K3S &lt;a class="link" href="https://docs.k3s.io/quick-start" target="_blank" rel="noopener"
>Í≥µÏãù Î¨∏ÏÑú&lt;/a>Î•º Î≥¥Î©¥ &lt;code>curl -sfL https://get.k3s.io | sh -&lt;/code> Îßå Ïã§ÌñâÌïòÎ©¥ ÏïåÏûòÎî±ÍπîÏÑºÏúºÎ°ú ÏÑ§ÏπòÌï¥Ï§ÄÎã§Í≥† Ìï©ÎãàÎã§!&lt;/li>
&lt;li>bashÏóê &lt;code>curl -sfL https://get.k3s.io | sh -&lt;/code> Î•º ÏûÖÎ†•Ìï¥ÏÑú ÏÑ§ÏπòÎ•º Ìï¥ Î¥ÖÎãàÎã§.&lt;/li>
&lt;li>ÏôÄ! ÏÑ§ÏπòÍ∞Ä Ïûò Îê©ÎãàÎã§.&lt;/li>
&lt;li>kubectlÎèÑ Í∞ôÏù¥ ÏÑ§ÏπòÌï¥Ï§ÄÎã§Í≥† Ìï©ÎãàÎã§. &lt;code>kubectl get nodes&lt;/code>Î•º ÏûÖÎ†•Ìï¥ Î¥ÖÎãàÎã§.&lt;/li>
&lt;li>ÏôÄ! ÎÖ∏ÎìúÎèÑ Ïûò ÎúπÎãàÎã§.&lt;/li>
&lt;/ul>
&lt;h3 id="Í∑ºÎç∞-ÏÇ¨Ïã§-Ìï®Ï†ïÏûÖÎãàÎã§">Í∑ºÎç∞ ÏÇ¨Ïã§ Ìï®Ï†ïÏûÖÎãàÎã§.
&lt;/h3>&lt;ul>
&lt;li>&lt;code>kubectl get nodes&lt;/code>Î•º&lt;/li>
&lt;li>Ïñ¥? Í∞ëÏûêÍ∏∞ ÏùëÎãµÏù¥ ÎäêÎ¶ΩÎãàÎã§.&lt;/li>
&lt;li>&lt;code>The connection to the server 127.0.0.1:6443 was refused - did you specify the right host or port?&lt;/code> ÎùºÎäî Ïù¥ÏäàÎ•º ÎßåÎÇ©ÎãàÎã§.&lt;/li>
&lt;li>ÏïÑ&amp;hellip; ÏñòÎèÑ Ìï®Ï†ïÏù∏Í∞Ä? Î∂àÏïàÌï©ÎãàÎã§.&lt;/li>
&lt;li>Ï†ïÎßê Îã§ÌñâÏù¥ÎèÑ ÏñòÎäî Known IssueÏù¥Í≥†, Ìï¥Í≤∞ Î∞©Î≤ïÎèÑ ÏûàÏäµÎãàÎã§. (Í¥ÄÎ†® &lt;a class="link" href="https://github.com/k3s-io/k3s/issues/4234" target="_blank" rel="noopener"
>Github Issue&lt;/a>)&lt;/li>
&lt;li>&lt;code>sudo apt install linux-modules-extra-raspi &amp;amp;&amp;amp; reboot&lt;/code>Î•º ÏûÖÎ†•Ìï¥ÏÑú Ï∂îÍ∞ÄÎ°ú ÌïÑÏöîÌïú ÏùòÏ°¥ÏÑ±ÏùÑ ÍπîÏïÑÏ£ºÍ≥† Ïû¨Î∂ÄÌåÖ Ìïú ÌõÑ &lt;code>kubectl get nodes&lt;/code>Î•º ÌïòÎ©¥ Ïûò Îê©ÎãàÎã§. (Í≥µÏãù Î¨∏ÏÑú &lt;a class="link" href="https://docs.k3s.io/advanced#raspberry-pi" target="_blank" rel="noopener"
>Link&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="2-ÎÖ∏Îìú-Ï∂îÍ∞ÄÌïòÍ∏∞">2. ÎÖ∏Îìú Ï∂îÍ∞ÄÌïòÍ∏∞
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Master NodeÎ•º ÏÑ§Ï†ïÌñàÏúºÎãà, Worker NodeÎ•º Î∂ôÏó¨Î¥ÖÏãúÎã§.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>kubectl get nodes&lt;/code> Î•º ÏûÖÎ†•ÌïòÏó¨, Master NodeÏùò Ïù¥Î¶Ñ(Name) ÏùÑ ÌôïÏù∏Ìï©ÎãàÎã§.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>sudo kubectl get node &amp;lt;master node Ïù¥Î¶Ñ&amp;gt; -ojsonpath=&amp;quot;{.status.addresses[0].address}&amp;quot;&lt;/code> Î•º ÏûÖÎ†•ÌïòÏó¨, ÎÇòÏò§Îäî IP Í∞íÏùÑ ÌôïÏù∏Ìï©ÎãàÎã§. (1)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>sudo cat /var/lib/rancher/k3s/server/node-token&lt;/code> ÏùÑ ÏûÖÎ†•ÌïòÏó¨, ÎÇòÏò§Îäî TokenÍ∞íÏùÑ ÌôïÏù∏Ìï©ÎãàÎã§. (2)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÏÉà Worker NodeÏóê Ï†ëÏÜçÌï¥ÏÑú &lt;code>sudo apt install linux-modules-extra-raspi &amp;amp;&amp;amp; reboot&lt;/code> ÌïòÏó¨ Í¥ÄÎ†® ÏùòÏ°¥ÏÑ±ÏùÑ ÍπîÏïÑÏ§çÎãàÎã§.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Ïù¥ÌõÑ &lt;code>curl -sfL https://get.k3s.io | K3S_URL=https://&amp;lt;(1)ÏóêÏÑú ÌôïÏù∏Ìïú ip&amp;gt;:6443 K3S_TOKEN=&amp;lt;2ÏóêÏÑú ÌôïÏù∏Ìïú ÌÜ†ÌÅ∞&amp;gt; sh -&lt;/code> ÏùÑ Ïã§ÌñâÌï©ÎãàÎã§.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Ïù¥ÌõÑ Master NodeÏóêÏÑú &lt;code>kubectl get nodes&lt;/code> ÏûÖÎ†•ÌïòÏó¨ Ï†ïÏÉÅÏ†ÅÏúºÎ°ú ÌÅ¥Îü¨Ïä§ÌÑ∞Ïóê JoinÎêòÏóàÎäîÏßÄ ÌôïÏù∏Ìï©ÎãàÎã§.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Ï∂îÍ∞Ä : Worker Node ÏÉÅÌÉúÍ∞Ä NotReadyÏóêÏÑú Ïïà ÎÑòÏñ¥Í∞ÄÎäî Í≤ΩÏö∞Í∞Ä ÏûàÎäîÎç∞, Ïù¥ Í≤ΩÏö∞Î•º ÎåÄÏùëÌï¥ Î¥ÖÏãúÎã§.&lt;/p>
&lt;ul>
&lt;li>&lt;code>kubectl get nodes&lt;/code> ÏûÖÎ†•ÌïòÏó¨ Worker NodeÏùò Ïù¥Î¶ÑÏùÑ Í∏∞ÏñµÌï©ÎãàÎã§.&lt;/li>
&lt;li>&lt;code>sudo kubectl describe node &amp;lt;worker node Ïù¥Î¶Ñ&amp;gt; -n=kube-system&lt;/code> ÏùÑ ÏûÖÎ†•ÌïòÏó¨ ÌòÑÏû¨ ÎÖ∏ÎìúÏùò ÏÉÅÌÉúÎ•º ÌôïÏù∏Ìï©ÎãàÎã§.&lt;/li>
&lt;li>Ï†ÄÏùò Í≤ΩÏö∞Îäî &lt;code>invalid capacity 0 on image filesystem&lt;/code> Ïù¥ÎùºÎäî Ïò§Î•òÍ∞Ä Í≥ÑÏÜç Î∞úÏÉùÌï¥ÏÑú Worker NodeÍ∞Ä Ï°∞Ïù∏Ïù¥ Ïïà ÎêòÎäî ÏÉÅÌô©Ïù¥ÏóàÎäîÎç∞, Ïû¨Î∂ÄÌåÖ ÌïòÎãà Ìï¥Í≤∞ÎêêÏäµÎãàÎã§ (..)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>ÎÅù!&lt;/p></description></item></channel></rss>